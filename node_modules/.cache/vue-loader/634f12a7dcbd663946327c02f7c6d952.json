{"remainingRequest":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\机将公司\\机将后台端\\background-management-system\\src\\views\\talent\\personInfo\\list.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\机将公司\\机将后台端\\background-management-system\\src\\views\\talent\\personInfo\\list.vue","mtime":1669258939340},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGdldHF1ZXJ5UGVyc29ubmVsTGlzdCxkZWxldGVQZXJzb25uZWxJbmZvIH0gZnJvbSAiQC9hcGkvdGFsZW50IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICIiLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkYXRhTGlzdDogW10sCiAgICAgIGRhdGFDb25maWc6IHsKICAgICAgICBpZDogMCwKICAgICAgICBwYWdlTm86IDEsCiAgICAgICAgcGFnZVNpemU6IDIwLAogICAgICAgIHRvdGFsOiAwLAogICAgICAgIGxvYWRpbmc6IHRydWUsCiAgICAgIH0sCiAgICB9OwogIH0sCiAgYmVmb3JlTW91bnQoKSB7CiAgICB0aGlzLmdldERhdGFMaXN0Rm4oKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldERhdGFMaXN0Rm4oKSB7CiAgICAgIGdldHF1ZXJ5UGVyc29ubmVsTGlzdCh7CiAgICAgICAgcGFnZU5vOiB0aGlzLmRhdGFDb25maWcucGFnZU5vLAogICAgICAgIHBhZ2VTaXplOiB0aGlzLmRhdGFDb25maWcucGFnZVNpemUsCiAgICAgIH0pLnRoZW4oKHJlcykgPT4gewogICAgICAgIGNvbnN0IHJlc0RhdGEgPSB0aGlzLnJlc0RhdGFGbihyZXMpOwogICAgICAgIHRoaXMuZGF0YUNvbmZpZy50b3RhbCA9IHJlc0RhdGEudG90YWw7CiAgICAgICAgdGhpcy5kYXRhTGlzdC5zcGxpY2UoMCwgdGhpcy5kYXRhTGlzdC5sZW5ndGgsIC4uLnJlc0RhdGEucmVjb3Jkcyk7CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZVNpemVDaGFuZ2UodmFsKSB7CiAgICAgIHRoaXMuZGF0YUNvbmZpZy5wYWdlU2l6ZSA9IHZhbDsKICAgICAgdGhpcy5nZXREYXRhTGlzdEZuKCk7CiAgICB9LAogICAgY3VycmVudENoYW5nZUZuKHBhZ2VObykgewogICAgICB0aGlzLmRhdGFDb25maWcucGFnZU5vID0gcGFnZU5vOwogICAgICB0aGlzLmdldERhdGFMaXN0Rm4oKTsKICAgIH0sCiAgICAvL+WIoOmZpAogICAgZGVscGVyc29uZnVuYyhzY29wZSkgewogICAgICB0aGlzLmRlbGV0ZUFsZXJ0KCkKICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICBjb25zdCByZXMgPSBkZWxldGVQZXJzb25uZWxJbmZvKHNjb3BlLnJvdy5pZCk7CiAgICAgICAgICByZXR1cm4gcmVzOwogICAgICAgIH0pCiAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgY29uc3QgcmVzRGF0YSA9IHRoaXMucmVzRGF0YUZuKHJlcyk7CiAgICAgICAgICBpZiAocmVzRGF0YSA9PSAiMDAwIikgewogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+WIoOmZpOaIkOWKn++8gScpCiAgICAgICAgICAgIHRoaXMuZGF0YUxpc3Quc3BsaWNlKHNjb3BlLiRpbmRleCwgMSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["list.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"list.vue","sourceRoot":"src/views/talent/personInfo","sourcesContent":["<template>\n  <div class=\"content_box\">\n    <first-title title=\"人才精英管理\" />\n    <div class=\"select_view flex just-end\">\n      <router-link\n        :to=\"{\n          name: 'personInfoDetail',\n          query: {\n            personId: 0,\n          },\n        }\"\n      >\n        <el-button type=\"primary\"><i class=\"el-icon-plus\" />添加精英</el-button>\n      </router-link>\n    </div>\n    <el-table\n      v-loading=\"dataConfig.loading\"\n      border\n      :data=\"dataList\"\n      class=\"list\"\n      :header-cell-style=\"{ color: '#666' }\"\n    >\n      <el-table-column\n        label=\"ID\"\n        fixed\n        width=\"60\"\n        align=\"center\"\n        header-align=\"center\"\n      >\n        <template slot-scope=\"scope\">\n          <span>{{ scope.row.id }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column\n        label=\"精英名称\"\n        width=\"200\"\n        align=\"center\"\n        header-align=\"center\"\n      >\n        <template slot-scope=\"scope\">\n          <span>{{ scope.row.name }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column\n        label=\"精英图片\"\n        width=\"110\"\n        align=\"center\"\n        header-align=\"center\"\n      >\n        <template slot-scope=\"scope\">\n          <el-image\n            style=\"width: 80px; height: 80px\"\n            :src=\"scope.row.headUrl\"\n            fit=\"cover\"\n            :preview-src-list=\"[scope.row.headUrl]\"\n          />\n        </template>\n      </el-table-column>\n      <!-- <el-table-column\n        label=\"年龄\"\n        align=\"center\"\n        header-align=\"center\"\n        width=\"120px\"\n      >\n        <template slot-scope=\"scope\">\n          <span>{{ scope.row.age }}</span>\n        </template>\n      </el-table-column> -->\n      <el-table-column\n        label=\"学历\"\n        align=\"center\"\n        header-align=\"center\"\n        width=\"120px\"\n      >\n        <template slot-scope=\"scope\">\n          <span>{{ scope.row.education }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column\n        label=\"电话\"\n        align=\"center\"\n        header-align=\"center\"\n        width=\"120px\"\n      >\n        <template slot-scope=\"scope\">\n          <span>{{ scope.row.phone }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column\n        label=\"工作时间\"\n        align=\"center\"\n        header-align=\"center\"\n        width=\"120px\"\n      >\n        <template slot-scope=\"scope\">\n          <span>{{ scope.row.workTime }}年</span>\n        </template>\n      </el-table-column>\n      <el-table-column\n        label=\"个人简介\"\n        align=\"center\"\n        header-align=\"center\"\n        width=\"300px\"\n      >\n        <template slot-scope=\"scope\">\n          <span>{{ scope.row.summary }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column\n        label=\"擅长\"\n        align=\"center\"\n        header-align=\"center\"\n        width=\"200px\"\n      >\n        <template slot-scope=\"scope\">\n          <div class=\"flex flex-d\">\n            <span v-for=\"(item, i) in scope.row.lableList\" :key=\"i\">{{\n              item\n            }}</span>\n          </div>\n        </template>\n      </el-table-column>\n      <el-table-column\n        label=\"操作\"\n        fixed=\"right\"\n        min-width=\"180\"\n        align=\"center\"\n        header-align=\"center\"\n      >\n        <template slot-scope=\"scope\">\n          <!-- <el-link style=\"margin-right: 10px\" :href=\"`#/product/product-detail?id=${scope.row.id}&pageNo=${dataConfig.pageNo}&pageSize=${dataConfig.pageSize}`\" >\n\t\t\t\t<el-button type=\"primary\" size=\"small\">编辑</el-button>\n          </el-link> -->\n          <router-link\n            style=\"margin-right: 10px\"\n            :to=\"{\n              name: 'personInfoDetail',\n              query: {\n                personId: scope.row.id,\n              },\n            }\"\n          >\n            <el-button type=\"primary\" size=\"small\">编辑</el-button>\n          </router-link>\n          <el-button size=\"small\" type=\"danger\" @click=\"delpersonfunc(scope)\">删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <div class=\"el_pagination\">\n      <el-pagination\n        background\n        layout=\"prev, pager, next,total,sizes\"\n        :current-page=\"dataConfig.pageNo\"\n        :total=\"dataConfig.total\"\n        :page-sizes=\"[10, 20, 30, 50]\"\n        :page-size=\"dataConfig.pageSize\"\n        @current-change=\"currentChangeFn\"\n        @size-change=\"handleSizeChange\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport { getqueryPersonnelList,deletePersonnelInfo } from \"@/api/talent\";\nexport default {\n  name: \"\",\n  data() {\n    return {\n      dataList: [],\n      dataConfig: {\n        id: 0,\n        pageNo: 1,\n        pageSize: 20,\n        total: 0,\n        loading: true,\n      },\n    };\n  },\n  beforeMount() {\n    this.getDataListFn();\n  },\n  methods: {\n    getDataListFn() {\n      getqueryPersonnelList({\n        pageNo: this.dataConfig.pageNo,\n        pageSize: this.dataConfig.pageSize,\n      }).then((res) => {\n        const resData = this.resDataFn(res);\n        this.dataConfig.total = resData.total;\n        this.dataList.splice(0, this.dataList.length, ...resData.records);\n      });\n    },\n    handleSizeChange(val) {\n      this.dataConfig.pageSize = val;\n      this.getDataListFn();\n    },\n    currentChangeFn(pageNo) {\n      this.dataConfig.pageNo = pageNo;\n      this.getDataListFn();\n    },\n    //删除\n    delpersonfunc(scope) {\n      this.deleteAlert()\n        .then(() => {\n          const res = deletePersonnelInfo(scope.row.id);\n          return res;\n        })\n        .then((res) => {\n          const resData = this.resDataFn(res);\n          if (resData == \"000\") {\n            this.$message.success('删除成功！')\n            this.dataList.splice(scope.$index, 1);\n          }\n        });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n</style>\n"]}]}