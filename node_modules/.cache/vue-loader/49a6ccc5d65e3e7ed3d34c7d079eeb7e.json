{"remainingRequest":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\机将公司\\机将后台端\\background-management-system\\src\\views\\maintenance\\equipmentManagement\\equipmentDetails.vue?vue&type=style&index=0&id=5b930948&lang=less&scoped=true&","dependencies":[{"path":"D:\\机将公司\\机将后台端\\background-management-system\\src\\views\\maintenance\\equipmentManagement\\equipmentDetails.vue","mtime":1686103852893},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\@vue\\cli-service\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\style-resources-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQovLyDorr7lpIfln7rmnKzkv6Hmga/lhoXlrrkNCi5lcXVpcG1lbnREZXRhaWxzIHsNCiAgcGFkZGluZzogMjBweDsNCiAgLmVxdWlwbWVudERldGFpbHNfYmFzaWNJbmZvIHsNCiAgICAuYmFzaWNJbmZvX3RpdGxlIHsNCiAgICAgIGNvbG9yOiAjMGIyMDU5Ow0KICAgICAgbWFyZ2luOiAwIDAgMjBweCAzMHB4Ow0KICAgIH0NCiAgICAuYmFzaWNJbmZvX2NvbnRlbnQgew0KICAgICAgcGFkZGluZzogMCAwIDAgMjBweDsNCiAgICAgIC5pdGVtTGluZSB7DQogICAgICAgIGhlaWdodDogNDVweDsNCiAgICAgICAgZGlzcGxheTogZmxleDsNCg0KICAgICAgICAuaXRlbSB7DQogICAgICAgICAgd2lkdGg6IDMzJTsNCiAgICAgICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgICAgICAgY29sb3I6ICM3MDcwNzA7DQogICAgICAgICAgZm9udC1zaXplOiAxNXB4Ow0KICAgICAgICAgIHNwYW4gew0KICAgICAgICAgICAgZmxleDogNTsNCiAgICAgICAgICB9DQogICAgICAgICAgLml0ZW1fdGl0bGUgew0KICAgICAgICAgICAgZmxleDogMzsNCiAgICAgICAgICAgIGZvbnQtc2l6ZTogMjBweDsNCiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA3MDA7DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9DQogICAgfQ0KICB9DQp9DQoNCi8vIOiuvuWkh+mFjee9ruS/oeaBr+WGheWuuQ0KLmVxdWlwbWVudERldGFpbHNfY29uZmlnSW5mbyB7DQogIG1hcmdpbi1ib3R0b206IDIwcHg7DQogIC5jb25maWdJbmZvX3RpdGxlIHsNCiAgICBjb2xvcjogIzBiMjA1OTsNCiAgICBtYXJnaW46IDIwcHggMzBweDsNCiAgfQ0KfQ0K"},{"version":3,"sources":["equipmentDetails.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"equipmentDetails.vue","sourceRoot":"src/views/maintenance/equipmentManagement","sourcesContent":["<template>\r\n  <div class=\"equipmentDetails\">\r\n    <!-- 设备基本信息内容 -->\r\n    <div class=\"equipmentDetails_basicInfo\" v-if=\"equipmentDetails\">\r\n      <h2 class=\"basicInfo_title\">设备基本信息</h2>\r\n      <el-card>\r\n        <div class=\"basicInfo_content\">\r\n          <div class=\"itemLine\">\r\n            <div class=\"item\">\r\n              <span class=\"item_title\">贴片编码</span\r\n              ><span>{{ equipmentDetails.no }}</span>\r\n            </div>\r\n            <div class=\"item\">\r\n              <span class=\"item_title\">保养周期</span>\r\n              <span>{{ equipmentDetails.cycle }}周</span>\r\n            </div>\r\n            <div class=\"item\">\r\n              <span class=\"item_title\">出厂时间</span>\r\n              <span>{{ changeTimeFn(equipmentDetails.factoryTime) }}</span>\r\n            </div>\r\n          </div>\r\n          <div class=\"itemLine\">\r\n            <div class=\"item\">\r\n              <span class=\"item_title\">设备类型</span\r\n              ><span>{{ equipmentDetails.deviceTypeName }}</span>\r\n            </div>\r\n            <div class=\"item\">\r\n              <span class=\"item_title\">设备品牌</span\r\n              ><span>{{ equipmentDetails.deviceBrand }}</span>\r\n            </div>\r\n            <div class=\"item\">\r\n              <span class=\"item_title\">设备型号</span\r\n              ><span>{{ equipmentDetails.deviceModel }}</span>\r\n            </div>\r\n          </div>\r\n          <div class=\"itemLine\">\r\n            <div class=\"item\">\r\n              <span class=\"item_title\">设备轴数</span\r\n              ><span>{{ equipmentDetails.axesNumber }}</span>\r\n            </div>\r\n            <div class=\"item\">\r\n              <span class=\"item_title\">设备系统</span\r\n              ><span>{{ equipmentDetails.deviceSystemName }}</span>\r\n            </div>\r\n            <div class=\"item\">\r\n              <span class=\"item_title\">设备产地</span\r\n              ><span>{{ equipmentDetails.devicePlace }}</span>\r\n            </div>\r\n          </div>\r\n          <div class=\"itemLine\">\r\n            <div class=\"item\">\r\n              <span class=\"item_title\">维保时间</span\r\n              ><span\r\n                >{{ changeTimeFn(equipmentDetails.startTime) }}\r\n                {{ changeTimeFn(equipmentDetails.endTime) }}</span\r\n              >\r\n            </div>\r\n            <div class=\"item\">\r\n              <span class=\"item_title\">价格</span\r\n              ><span>{{ equipmentDetails.price }}.00</span>\r\n            </div>\r\n          </div>\r\n          <div class=\"itemLine\">\r\n            <div class=\"item\">\r\n              <span class=\"item_title\">企业设备编码</span\r\n              ><span>{{ equipmentDetails.enterpriseDeviceNo }}</span>\r\n            </div>\r\n            <div class=\"item\">\r\n              <span class=\"item_title\">企业设备位置</span\r\n              ><span>{{ equipmentDetails.enterpriseDevicePosition }}</span>\r\n            </div>\r\n          </div>\r\n          <!-- <div\r\n            class=\"itemLine\"\r\n            v-if=\"equipmentDetails.nameplateImg\"\r\n            style=\"height: 150px;\"\r\n          >\r\n            <div class=\"item\">\r\n              <span class=\"item_title\">铭牌图片</span>\r\n              <div style=\"height: 150px;width: 150px;margin-right: 170px;\">\r\n                <img\r\n                  :src=\"equipmentDetails.nameplateImg\"\r\n                  style=\"height: 100%;width: 100%;\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div> -->\r\n        </div>\r\n      </el-card>\r\n    </div>\r\n    <!-- 设备配置信息内容 -->\r\n    <div class=\"equipmentDetails_configInfo\">\r\n      <h2 class=\"configInfo_title\">设备基本信息</h2>\r\n      <el-card>\r\n        <!-- 放配件表格 -->\r\n        <el-table\r\n          :data=\"partsList\"\r\n          :cell-style=\"{ 'text-align': 'center' }\"\r\n          style=\"width: 100%\"\r\n          :header-cell-style=\"{\r\n            background: '#f6f8fc',\r\n            color: '#707070',\r\n            'text-align': 'center',\r\n          }\"\r\n        >\r\n          <el-table-column label=\"编号\">\r\n            <template slot-scope=\"scope\">{{ scope.$index + 1 }} </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"category\" label=\"项目大类\"></el-table-column>\r\n          <el-table-column prop=\"name\" label=\"项目名称\"> </el-table-column>\r\n          <el-table-column prop=\"deviceBrand\" label=\"品牌\"> </el-table-column>\r\n          <el-table-column prop=\"deviceModel\" label=\"型号\"> </el-table-column>\r\n          <el-table-column label=\"单位\">mm</el-table-column>\r\n          <el-table-column prop=\"specification\" label=\"规格\"> </el-table-column>\r\n        </el-table>\r\n      </el-card>\r\n    </div>\r\n\r\n    <div>\r\n      <el-card>\r\n        <el-button @click=\"vipBtnFn\" :type=\"activeBtn === 0 ? 'primary' : ''\"\r\n          >年保记录</el-button\r\n        >\r\n        <el-button\r\n          @click=\"ordinaryBtnFn\"\r\n          :type=\"activeBtn === 1 ? 'primary' : ''\"\r\n          style=\"margin-bottom: 20px;\"\r\n          >工单记录</el-button\r\n        >\r\n        <!-- 年保记录 -->\r\n        <el-table\r\n          v-show=\"activeBtn === 0\"\r\n          :data=\"butlerList\"\r\n          :cell-style=\"{ 'text-align': 'center' }\"\r\n          style=\"width: 100%\"\r\n          :header-cell-style=\"{\r\n            background: '#f6f8fc',\r\n            color: '#707070',\r\n            'text-align': 'center',\r\n          }\"\r\n        >\r\n          <el-table-column prop=\"orderSn\" label=\"订单号\"> </el-table-column>\r\n          <el-table-column prop=\"status\" label=\"订单状态\">\r\n            <template slot-scope=\"{ row }\">\r\n              <div v-if=\"row.status === 1\" style=\"color:green\">生效中</div>\r\n              <div v-if=\"row.status === 2\" style=\"color:red\">已过期</div>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"contactsPeople\" label=\"客户负责人\">\r\n          </el-table-column>\r\n          <el-table-column prop=\"contactsPhone\" label=\"客户电话\">\r\n          </el-table-column>\r\n          <el-table-column prop=\"salesman\" label=\"跟单业务员\">\r\n          </el-table-column>\r\n          <el-table-column label=\"操作\">\r\n            <template slot-scope=\"{ row }\">\r\n              <a style=\"color:#2e4c9e\" @click.prevent=\"goDetailsVip(row.id)\"\r\n                >详情</a\r\n              >\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n        <!-- 工单记录 -->\r\n        <el-table\r\n          v-show=\"activeBtn === 1\"\r\n          :data=\"repairList\"\r\n          :cell-style=\"{ 'text-align': 'center' }\"\r\n          style=\"width: 100%\"\r\n          :header-cell-style=\"{\r\n            background: '#f6f8fc',\r\n            color: '#707070',\r\n            'text-align': 'center',\r\n          }\"\r\n        >\r\n          <el-table-column prop=\"orderSn\" label=\"订单号\" width=\"150\">\r\n          </el-table-column>\r\n          <el-table-column prop=\"orderStatusName \" label=\"订单状态\" width=\"150\">\r\n            <template slot-scope=\"{ row }\">\r\n              {{ row.orderStatusName }}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"contactsPeople\" label=\"客户负责人\" width=\"150\">\r\n          </el-table-column>\r\n          <el-table-column prop=\"contactsPhone\" label=\"客户电话\" width=\"150\">\r\n          </el-table-column>\r\n          <el-table-column prop=\"masterRealName\" label=\"师傅名称\" width=\"150\">\r\n          </el-table-column>\r\n          <el-table-column\r\n            prop=\"masterPhone\"\r\n            label=\"师傅联系电话\"\r\n            width=\"150\"\r\n          >\r\n          </el-table-column>\r\n          <el-table-column prop=\"type\" label=\"故障类型\" width=\"150\">\r\n            <template slot-scope=\"{ row }\">\r\n              <div v-if=\"row.type\">\r\n                <div v-if=\"row.type.includes(1)\">电气故障</div>\r\n                <div v-if=\"row.type.includes(2)\">机械故障</div>\r\n                <div v-if=\"row.type.includes(3)\">系统故障</div>\r\n                <div v-if=\"row.type.includes(4)\">其他故障</div>\r\n              </div>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"simpleDesc\" label=\"故障描述\" width=\"150\">\r\n          </el-table-column>\r\n          <el-table-column prop=\"createTime\" label=\"下单时间\" width=\"150\">\r\n          </el-table-column>\r\n          <el-table-column prop=\"totalAmount\" label=\"总费用\" width=\"150\">\r\n            <template slot-scope=\"{ row }\"> ￥{{ row.totalAmount }} </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"操作\" width=\"150\" fixed=\"right\">\r\n            <template slot-scope=\"{ row }\">\r\n              <a\r\n                href=\"#\"\r\n                style=\"color:#2e4c9e\"\r\n                @click.prevent=\"goDetailsOrdinary(row.orderSn)\"\r\n                >详情</a\r\n              >\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </el-card>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getEquipmentDetails } from \"@/api/equipmentManagement\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      activeBtn: 0, // 按钮选中的样式\r\n      id: \"\",\r\n      equipmentDetails: null,\r\n      partsList: null, //配件列表\r\n      butlerList: null, //年保记录\r\n      repairList: null, //工单记录\r\n    };\r\n  },\r\n  methods: {\r\n    // 点击工单记录的详情跳转\r\n    goDetailsOrdinary(orderSn) {\r\n      this.$router.push({\r\n        name: \"maintenance_order_desc\",\r\n        query: { orderSn },\r\n      });\r\n    },\r\n    // 点击年保记录的详情跳转\r\n    goDetailsVip(id) {\r\n      this.$router.push({\r\n        name: \"customerDetail\",\r\n        query: { id },\r\n      });\r\n    },\r\n    // 改变时间格式\r\n    changeTimeFn(time) {\r\n      return time.slice(0, 10);\r\n    },\r\n    //点击工单记录触发的事件\r\n    ordinaryBtnFn() {\r\n      this.activeBtn = 1;\r\n    },\r\n    // 点击年保记录触发的事件\r\n    vipBtnFn() {\r\n      this.activeBtn = 0;\r\n    },\r\n  },\r\n  async created() {\r\n    this.id = this.$route.query.id;\r\n    const res = await getEquipmentDetails({ id: this.id });\r\n    this.equipmentDetails = res.data;\r\n    this.partsList = res.data.partsList;\r\n    this.butlerList = res.data.butlerList;\r\n    this.repairList = res.data.repairList;\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n// 设备基本信息内容\r\n.equipmentDetails {\r\n  padding: 20px;\r\n  .equipmentDetails_basicInfo {\r\n    .basicInfo_title {\r\n      color: #0b2059;\r\n      margin: 0 0 20px 30px;\r\n    }\r\n    .basicInfo_content {\r\n      padding: 0 0 0 20px;\r\n      .itemLine {\r\n        height: 45px;\r\n        display: flex;\r\n\r\n        .item {\r\n          width: 33%;\r\n          display: flex;\r\n          align-items: center;\r\n          color: #707070;\r\n          font-size: 15px;\r\n          span {\r\n            flex: 5;\r\n          }\r\n          .item_title {\r\n            flex: 3;\r\n            font-size: 20px;\r\n            font-weight: 700;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// 设备配置信息内容\r\n.equipmentDetails_configInfo {\r\n  margin-bottom: 20px;\r\n  .configInfo_title {\r\n    color: #0b2059;\r\n    margin: 20px 30px;\r\n  }\r\n}\r\n</style>\r\n"]}]}