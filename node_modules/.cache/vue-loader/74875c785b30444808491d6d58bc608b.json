{"remainingRequest":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\机将公司\\机将后台端\\background-management-system\\src\\views\\maintenance\\equipmentManagement\\equipmentManagement.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\机将公司\\机将后台端\\background-management-system\\src\\views\\maintenance\\equipmentManagement\\equipmentManagement.vue","mtime":1691639107457},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBnZXRFcXVpcG1lbnRMaXN0IH0gZnJvbSAiQC9hcGkvZXF1aXBtZW50TWFuYWdlbWVudCI7DQppbXBvcnQgeyBxdWVyeURldmljZVR5cGVMaXN0IH0gZnJvbSAiQC9hcGkvb3JkZXIiOw0KZXhwb3J0IGRlZmF1bHQgew0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBlcXVpcG1lbnRUeXBlTGlzdDogIiIsIC8v6K6+5aSH57G75Z6LDQogICAgICBlcXVpcG1lbnRTdGF0dXNWYWx1ZTogIiIsIC8v6K6+5aSH54q25oCB5YC8DQogICAgICB0b3BUb29sX3RpbWU6ICIiLCAvL+aXpeacn+mAieaLqeWAvA0KICAgICAgdG9wVG9vbF9jb2RlOiAiIiwgLy/orr7lpIfnvJbnoIHlgLwNCiAgICAgIGVxdWlwbWVudExpc3Q6IFtdLCAvL+iuvuWkh+WIl+ihqA0KICAgICAgdG90YWw6IDAsDQogICAgICBjdXJyZW50OiAxLA0KICAgICAgZGF0YTogew0KICAgICAgICAvL+iOt+WPluWIl+ihqOmcgOimgeeahOWPguaVsA0KICAgICAgICBwYWdlTm86IDEsDQogICAgICAgIHBhZ2VTaXplOiA1LA0KICAgICAgfSwNCiAgICAgIGVxdWlwbWVudFN0YXR1czogWw0KICAgICAgICAvLyDorr7lpIfnirbmgIHmlbDnu4QNCiAgICAgICAgew0KICAgICAgICAgIHZhbHVlOiAiMCIsDQogICAgICAgICAgbGFiZWw6ICLov5vooYzkuK0iLA0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgdmFsdWU6ICIxIiwNCiAgICAgICAgICBsYWJlbDogIuaKpeS/ruS4rSIsDQogICAgICAgIH0sDQogICAgICBdLA0KICAgIH07DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICAvLyDot7PovazmlrDlop4NCiAgICBhZGRFcXVpcG1lbnRQYWdlKCkgew0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goDQogICAgICAgICIvbWFpbnRlbmFuY2UvZXF1aXBtZW50TWFuYWdlbWVudC9hZGRFcXVpcG1lbnQ/dGl0bGVOYW1lPeaWsOWinuiuvuWkh+S/oeaBryINCiAgICAgICk7DQogICAgfSwNCiAgICAvLyDot7PovaznvJbovpENCiAgICBlZGl0RXF1aXBtZW50UGFnZShpZCkgew0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goDQogICAgICAgICIvbWFpbnRlbmFuY2UvZXF1aXBtZW50TWFuYWdlbWVudC9hZGRFcXVpcG1lbnQ/dGl0bGVOYW1lPee8lui+keiuvuWkh+S/oeaBryZpZD0iICsNCiAgICAgICAgICBpZA0KICAgICAgKTsNCiAgICB9LA0KICAgIC8vIOi3s+i9rOivpuaDhemhtQ0KICAgIGdvRXF1aXBtZW50RGV0YWlscyhpZCkgew0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goew0KICAgICAgICBuYW1lOiAiZXF1aXBtZW50RGV0YWlscyIsDQogICAgICAgIHF1ZXJ5OiB7IGlkIH0sDQogICAgICB9KTsNCiAgICB9LA0KICAgIC8vIOmHjee9ruaJgOacieaQnOe0ouimgeaxgg0KICAgIHJlc2V0Rm4oKSB7DQogICAgICB0aGlzLmVxdWlwbWVudFN0YXR1c1ZhbHVlID0gIiI7DQogICAgICB0aGlzLnRvcFRvb2xfdGltZSA9ICIiOw0KICAgICAgdGhpcy50b3BUb29sX2NvZGUgPSAiIjsNCiAgICAgIHRoaXMuZGF0YSA9IHsNCiAgICAgICAgcGFnZU5vOiAxLA0KICAgICAgICBwYWdlU2l6ZTogNSwNCiAgICAgIH07DQogICAgICB0aGlzLmdldEVxdWlwbWVudExpc3QodGhpcy5kYXRhKTsNCiAgICB9LA0KICAgIC8vIOeCueWHu+afpeivoueahOS6i+S7tg0KICAgIGZpbmRGbigpIHsNCiAgICAgIHRoaXMuZGF0YS5zdGF0dXMgPSB0aGlzLmVxdWlwbWVudFN0YXR1c1ZhbHVlOw0KICAgICAgaWYgKHRoaXMudG9wVG9vbF90aW1lKSB7DQogICAgICAgIHRoaXMuZGF0YS5zdGFydFRpbWUgPSB0aGlzLnRvcFRvb2xfdGltZVswXTsNCiAgICAgICAgdGhpcy5kYXRhLmVuZFRpbWUgPSB0aGlzLnRvcFRvb2xfdGltZVsxXTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGRlbGV0ZSB0aGlzLmRhdGFbInN0YXJ0VGltZSJdOw0KICAgICAgICBkZWxldGUgdGhpcy5kYXRhWyJlbmRUaW1lIl07DQogICAgICB9DQogICAgICB0aGlzLmRhdGEucGFnZU5vID0gMTsNCiAgICAgIHRoaXMuZGF0YS5wYWdlU2l6ZSA9IDU7DQogICAgICB0aGlzLmRhdGEubm8gPSB0aGlzLnRvcFRvb2xfY29kZTsNCiAgICAgIHRoaXMuZ2V0RXF1aXBtZW50TGlzdCh0aGlzLmRhdGEpOw0KICAgIH0sDQogICAgLy8g6aG156CB5Y+R55Sf5Y+Y5YyW6Kem5Y+R55qE5LqL5Lu2DQogICAgY3VycmVudENoYW5nZUZuKHBhZ2UpIHsNCiAgICAgIHRoaXMuY3VycmVudCA9IHBhZ2U7DQogICAgICB0aGlzLmRhdGEucGFnZU5vID0gcGFnZTsNCiAgICAgIHRoaXMuZ2V0RXF1aXBtZW50TGlzdCh0aGlzLmRhdGEpOw0KICAgIH0sDQogICAgLy8g6I635Y+W6K6+5aSH5YiX6KGoDQogICAgYXN5bmMgZ2V0RXF1aXBtZW50TGlzdChkYXRhKSB7DQogICAgICBjb25zdCByZXMgPSBhd2FpdCBnZXRFcXVpcG1lbnRMaXN0KGRhdGEpOw0KICAgICAgY29uc3QgeyByZWNvcmRzLCB0b3RhbCwgY3VycmVudCB9ID0gcmVzLmRhdGE7DQogICAgICBjb25zb2xlLmxvZygyNDAsIHJlY29yZHMpOw0KICAgICAgdGhpcy5lcXVpcG1lbnRMaXN0ID0gcmVjb3JkczsNCiAgICAgIHRoaXMudG90YWwgPSB0b3RhbDsNCiAgICAgIHRoaXMuY3VycmVudCA9IGN1cnJlbnQ7DQogICAgfSwNCiAgfSwNCiAgYXN5bmMgY3JlYXRlZCgpIHsNCiAgICB0aGlzLmdldEVxdWlwbWVudExpc3QodGhpcy5kYXRhKTsNCiAgICBjb25zdCByZXMgPSBhd2FpdCBxdWVyeURldmljZVR5cGVMaXN0KCk7DQogICAgdGhpcy5lcXVpcG1lbnRUeXBlTGlzdCA9IHJlcy5kYXRhOw0KICB9LA0KfTsNCg=="},{"version":3,"sources":["equipmentManagement.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"equipmentManagement.vue","sourceRoot":"src/views/maintenance/equipmentManagement","sourcesContent":["<!-- 设备管理页面 -->\r\n<template>\r\n  <div class=\"equipmentManagement\">\r\n    <!-- 顶部工具栏部分 -->\r\n    <div class=\"topTool\">\r\n      <div class=\"topTool_Status\">\r\n        <el-select v-model=\"equipmentStatusValue\" placeholder=\"设备状态\">\r\n          <!-- 下拉菜单的内容 -->\r\n          <el-option\r\n            v-for=\"item in equipmentStatus\"\r\n            :key=\"item.value\"\r\n            :label=\"item.label\"\r\n            :value=\"item.value\"\r\n          >\r\n          </el-option>\r\n        </el-select>\r\n      </div>\r\n      <!-- <div class=\"topTool_Status\">\r\n        <el-cascader\r\n          clearable\r\n          :options=\"equipmentTypeList\"\r\n          :show-all-levels=\"false\"\r\n          :props=\"{\r\n            children: 'list',\r\n            label: 'name',\r\n            value: 'id',\r\n            emitPath: false,\r\n          }\"\r\n        ></el-cascader>\r\n      </div> -->\r\n      <div class=\"topTool_time\">\r\n        <el-date-picker\r\n          value-format=\"yyyy-MM-dd\"\r\n          v-model=\"topTool_time\"\r\n          type=\"daterange\"\r\n          range-separator=\"———\"\r\n          start-placeholder=\"开始时间\"\r\n          end-placeholder=\"结束时间\"\r\n        >\r\n        </el-date-picker>\r\n      </div>\r\n      <div class=\"topTool_name\">\r\n        <el-input v-model=\"topTool_code\" placeholder=\"设备编码\"></el-input>\r\n      </div>\r\n      <!-- <div class=\"topTool_name\">\r\n        <el-input placeholder=\"客户名称\"></el-input>\r\n      </div> -->\r\n      <div class=\"topTool_btn\">\r\n        <!-- <el-button style=\"color:#2E4C9E\" @click=\"addEquipmentPage\" disabled\r\n          >新增</el-button\r\n        > -->\r\n        <el-button style=\"color:#2E4C9E\" @click=\"findFn\">查询</el-button>\r\n        <el-button style=\"color:#2E4C9E\" @click=\"resetFn\">重置</el-button>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 表格内容部分 -->\r\n    <div class=\"tableContent\">\r\n      <el-card>\r\n        <div class=\"tableContent_title\">设备数量: {{ total }}</div>\r\n        <div class=\"tableContent_table\">\r\n          <el-table\r\n            :cell-style=\"{ 'text-align': 'center' }\"\r\n            :data=\"equipmentList\"\r\n            style=\"width: 100%\"\r\n            :header-cell-style=\"{\r\n              background: '#f6f8fc',\r\n              color: '#707070',\r\n              'text-align': 'center',\r\n            }\"\r\n          >\r\n            <el-table-column\r\n              prop=\"enterpriseName\"\r\n              label=\"客户名称\"\r\n            ></el-table-column>\r\n            <el-table-column label=\"类型\">\r\n              <template slot-scope=\"{ row }\">\r\n                {{ row.type === 1 ? \"普通\" : row.type === 2 ? \"年保\" : \"年卡\" }}\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"no\" label=\"设备编号\"></el-table-column>\r\n            <!-- <el-table-column prop=\"nameplateImg\" label=\"设备铭牌\">\r\n            </el-table-column> -->\r\n            <el-table-column label=\"设备状态\">\r\n              <template slot-scope=\"{ row }\">\r\n                <div v-if=\"row.status === 0\" style=\"color:#4093ff;\">\r\n                  进行中\r\n                </div>\r\n                <div v-if=\"row.status === 1\" style=\"color:#04d372;\">\r\n                  报修中\r\n                </div>\r\n                <!-- 数据暂时没有提供 <div style=\"color:#ff4b4b;\">已停保</div> -->\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"deviceTypeName\" label=\"设备类型\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"enterpriseDeviceNo\" label=\"企业设备编码\">\r\n            </el-table-column>\r\n            <el-table-column\r\n              prop=\"enterpriseDevicePosition\"\r\n              label=\"企业设备位置\"\r\n            >\r\n            </el-table-column>\r\n            <el-table-column prop=\"deviceBrand\" label=\"设备品牌\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"deviceSystemName\" label=\"设备系统\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"axesNumber\" label=\"设备轴数\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"cycle\" label=\"保养周期\"> </el-table-column>\r\n            <el-table-column prop=\"devicePlace\" label=\"设备产地\">\r\n            </el-table-column>\r\n            <el-table-column label=\"维保价格\">\r\n              <template slot-scope=\"{ row }\"> {{ row.price }}.00 </template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"createTime\" label=\"创建时间\" width=\"140\">\r\n            </el-table-column>\r\n            <el-table-column label=\"维保时间\">\r\n              <template slot-scope=\"{ row }\">\r\n                {{ row.startTime }}\r\n                <div>—</div>\r\n                {{ row.endTime }}\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"操作\">\r\n              <template slot-scope=\"{ row }\">\r\n                <div style=\"color:#0b2059\">\r\n                  <a\r\n                    style=\"margin-right: 10px;\"\r\n                    @click.prevent=\"goEquipmentDetails(row.id)\"\r\n                    >详情</a\r\n                  >\r\n                  <a @click.prevent=\"editEquipmentPage(row.id)\">编辑</a>\r\n                </div>\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n        </div>\r\n        <div class=\"tableContent_footer\">\r\n          <div class=\"footer_btn\"></div>\r\n          <div class=\"footer_pagination\">\r\n            <el-pagination\r\n              @current-change=\"currentChangeFn\"\r\n              :current-page=\"data.pageNo\"\r\n              :page-size=\"5\"\r\n              layout=\"jumper, prev, pager, next,total \"\r\n              :total=\"total\"\r\n            >\r\n            </el-pagination>\r\n          </div>\r\n        </div>\r\n      </el-card>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getEquipmentList } from \"@/api/equipmentManagement\";\r\nimport { queryDeviceTypeList } from \"@/api/order\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      equipmentTypeList: \"\", //设备类型\r\n      equipmentStatusValue: \"\", //设备状态值\r\n      topTool_time: \"\", //日期选择值\r\n      topTool_code: \"\", //设备编码值\r\n      equipmentList: [], //设备列表\r\n      total: 0,\r\n      current: 1,\r\n      data: {\r\n        //获取列表需要的参数\r\n        pageNo: 1,\r\n        pageSize: 5,\r\n      },\r\n      equipmentStatus: [\r\n        // 设备状态数组\r\n        {\r\n          value: \"0\",\r\n          label: \"进行中\",\r\n        },\r\n        {\r\n          value: \"1\",\r\n          label: \"报修中\",\r\n        },\r\n      ],\r\n    };\r\n  },\r\n  methods: {\r\n    // 跳转新增\r\n    addEquipmentPage() {\r\n      this.$router.push(\r\n        \"/maintenance/equipmentManagement/addEquipment?titleName=新增设备信息\"\r\n      );\r\n    },\r\n    // 跳转编辑\r\n    editEquipmentPage(id) {\r\n      this.$router.push(\r\n        \"/maintenance/equipmentManagement/addEquipment?titleName=编辑设备信息&id=\" +\r\n          id\r\n      );\r\n    },\r\n    // 跳转详情页\r\n    goEquipmentDetails(id) {\r\n      this.$router.push({\r\n        name: \"equipmentDetails\",\r\n        query: { id },\r\n      });\r\n    },\r\n    // 重置所有搜索要求\r\n    resetFn() {\r\n      this.equipmentStatusValue = \"\";\r\n      this.topTool_time = \"\";\r\n      this.topTool_code = \"\";\r\n      this.data = {\r\n        pageNo: 1,\r\n        pageSize: 5,\r\n      };\r\n      this.getEquipmentList(this.data);\r\n    },\r\n    // 点击查询的事件\r\n    findFn() {\r\n      this.data.status = this.equipmentStatusValue;\r\n      if (this.topTool_time) {\r\n        this.data.startTime = this.topTool_time[0];\r\n        this.data.endTime = this.topTool_time[1];\r\n      } else {\r\n        delete this.data[\"startTime\"];\r\n        delete this.data[\"endTime\"];\r\n      }\r\n      this.data.pageNo = 1;\r\n      this.data.pageSize = 5;\r\n      this.data.no = this.topTool_code;\r\n      this.getEquipmentList(this.data);\r\n    },\r\n    // 页码发生变化触发的事件\r\n    currentChangeFn(page) {\r\n      this.current = page;\r\n      this.data.pageNo = page;\r\n      this.getEquipmentList(this.data);\r\n    },\r\n    // 获取设备列表\r\n    async getEquipmentList(data) {\r\n      const res = await getEquipmentList(data);\r\n      const { records, total, current } = res.data;\r\n      console.log(240, records);\r\n      this.equipmentList = records;\r\n      this.total = total;\r\n      this.current = current;\r\n    },\r\n  },\r\n  async created() {\r\n    this.getEquipmentList(this.data);\r\n    const res = await queryDeviceTypeList();\r\n    this.equipmentTypeList = res.data;\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.equipmentManagement {\r\n  padding: 20px 20px;\r\n  // 顶部工具栏部分\r\n  .topTool {\r\n    display: flex;\r\n    height: 50px;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    margin-bottom: 20px;\r\n  }\r\n\r\n  // 表格内容部分\r\n  .tableContent {\r\n    .tableContent_title {\r\n      color: #0b2059;\r\n      font-weight: 700;\r\n      font-size: 20px;\r\n      padding-left: 30px;\r\n    }\r\n    .tableContent_table {\r\n      margin: 30px 0;\r\n    }\r\n    .tableContent_footer {\r\n      display: flex;\r\n      height: 50px;\r\n      align-items: center;\r\n      justify-content: space-between;\r\n      .footer_btn {\r\n        .addBtn {\r\n          width: 100px;\r\n          background-color: #2e4c9e;\r\n          color: #fff;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]}]}