{"remainingRequest":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\机将公司\\机将后台端\\background-management-system\\src\\views\\system\\agreement\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\机将公司\\机将后台端\\background-management-system\\src\\views\\system\\agreement\\index.vue","mtime":1669258939330},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBUaW55bWNlIGZyb20gJ0AvY29tcG9uZW50cy9UaW55bWNlJwppbXBvcnQgeyBxdWVyeUFncmVlbWVudEZuLCBlZGl0QWdyZWVtZW50Rm4gfSBmcm9tICdAL2FwaS9zeXN0ZW0uanMnCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnTm90aWNlJywKICBjb21wb25lbnRzOiB7IFRpbnltY2UgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGF0YUxpc3Q6IFtdLAogICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgZGVmRGRhdGE6IHsKICAgICAgICAnY29udGVudCc6ICcnLAogICAgICAgICdpZCc6ICcnLAogICAgICAgICd0aXRsZSc6ICcnCiAgICAgIH0KICAgIH0KICB9LAogIGJlZm9yZU1vdW50KCkgewogICAgdGhpcy5nZXREYXRhTGlzdEZuKCkKICB9LAogIG1ldGhvZHM6IHsKICAgIHN1Ym1pdERhdGFGbigpIHsKICAgICAgZWRpdEFncmVlbWVudEZuKHsKICAgICAgICAnY29udGVudCc6IHRoaXMuZGVmRGRhdGEuY29udGVudCwKICAgICAgICAnaWQnOiB0aGlzLmRlZkRkYXRhLmlkLAogICAgICAgICd0aXRsZSc6IHRoaXMuZGVmRGRhdGEudGl0bGUKICAgICAgfSkudGhlbigocmVzKSA9PiB7CiAgICAgICAgY29uc3QgcmVzRGF0YSA9IHRoaXMucmVzRGF0YUZuKHJlcykKICAgICAgICBpZiAocmVzRGF0YSA9PSAnMDAwJykgewogICAgICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gZmFsc2UKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICAgIG1lc3NhZ2U6ICfmk43kvZzmiJDlip/vvIEnLAogICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgICAgIH0pCiAgICAgICAgICB0aGlzLmdldERhdGFMaXN0Rm4oKQogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICBlZGl0SXRlbUZuKHJvdykgewogICAgICB0aGlzLmRlZkRkYXRhID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5kZWZEZGF0YSwgcm93KQogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlCiAgICB9LAogICAgZGVsZXRlSXRlbUZuKHNjb3BlKSB7CiAgICAgIHRoaXMuZGVsZXRlQWxlcnQoKS50aGVuKCgpID0+IHsKICAgICAgICBjb25zdCByZXMgPSBkZWxOb3RpY2VGbih7IGlkOiBzY29wZS5yb3cuaWQgfSkKICAgICAgICByZXR1cm4gcmVzCiAgICAgIH0pLnRoZW4oKHJlcykgPT4gewogICAgICAgIGNvbnN0IHJlc0RhdGEgPSB0aGlzLnJlc0RhdGFGbihyZXMpCiAgICAgICAgaWYgKHJlc0RhdGEgPT0gJzAwMCcpIHsKICAgICAgICAgIHRoaXMuZGF0YUxpc3Quc3BsaWNlKHNjb3BlLiRpbmRleCwgMSkKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgZ2V0RGF0YUxpc3RGbigpIHsKICAgICAgcXVlcnlBZ3JlZW1lbnRGbigpLnRoZW4oKHJlcykgPT4gewogICAgICAgIGNvbnN0IHJlc0RhdGEgPSB0aGlzLnJlc0RhdGFGbihyZXMpCiAgICAgICAgdGhpcy5kYXRhTGlzdC5zcGxpY2UoMCwgdGhpcy5kYXRhTGlzdC5sZW5ndGgsIC4uLnJlc0RhdGEpCiAgICAgIH0pCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/system/agreement","sourcesContent":["<template>\n  <div class=\"content_box\">\n    <first-title title=\"系统说明\" />\n    <el-table\n      border\n      :data=\"dataList\"\n      class=\"list\"\n    >\n      <el-table-column label=\"ID\" fixed width=\"60\" align=\"center\" header-align=\"center\">\n        <template slot-scope=\"scope\">\n          <span>{{ scope.row.id }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"标题\" align=\"center\" header-align=\"center\">\n        <template slot-scope=\"scope\">\n          <span>{{ scope.row.title }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"操作\" fixed=\"right\" width=\"200\" align=\"center\" header-align=\"center\">\n        <template slot-scope=\"scope\">\n          <el-button type=\"primary\" size=\"small\" @click=\"editItemFn(scope.row)\">编辑</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <el-dialog\n      title=\"添加/编辑\"\n      :visible.sync=\"dialogVisible\"\n      width=\"70%\"\n    >\n      <div>\n        <el-form ref=\"form\" :model=\"defDdata\" label-width=\"100px\">\n          <el-form-item label=\"信息ID\">\n            <el-input v-model=\"defDdata.id\" disabled=\"disabled\" />\n          </el-form-item>\n          <el-form-item label=\"标题\">\n            <el-input v-model=\"defDdata.title\" />\n          </el-form-item>\n          <el-form-item label=\"内容\">\n            <tinymce v-if=\"dialogVisible\" :id=\"'agreement_'+defDdata.id\" v-model=\"defDdata.content\" :height=\"300\" />\n          </el-form-item>\n        </el-form>\n      </div>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"submitDataFn\">确 定</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport Tinymce from '@/components/Tinymce'\nimport { queryAgreementFn, editAgreementFn } from '@/api/system.js'\nexport default {\n  name: 'Notice',\n  components: { Tinymce },\n  data() {\n    return {\n      dataList: [],\n      dialogVisible: false,\n      defDdata: {\n        'content': '',\n        'id': '',\n        'title': ''\n      }\n    }\n  },\n  beforeMount() {\n    this.getDataListFn()\n  },\n  methods: {\n    submitDataFn() {\n      editAgreementFn({\n        'content': this.defDdata.content,\n        'id': this.defDdata.id,\n        'title': this.defDdata.title\n      }).then((res) => {\n        const resData = this.resDataFn(res)\n        if (resData == '000') {\n          this.dialogVisible = false\n          this.$message({\n            showClose: true,\n            message: '操作成功！',\n            type: 'success'\n          })\n          this.getDataListFn()\n        }\n      })\n    },\n    editItemFn(row) {\n      this.defDdata = Object.assign({}, this.defDdata, row)\n      this.dialogVisible = true\n    },\n    deleteItemFn(scope) {\n      this.deleteAlert().then(() => {\n        const res = delNoticeFn({ id: scope.row.id })\n        return res\n      }).then((res) => {\n        const resData = this.resDataFn(res)\n        if (resData == '000') {\n          this.dataList.splice(scope.$index, 1)\n        }\n      })\n    },\n    getDataListFn() {\n      queryAgreementFn().then((res) => {\n        const resData = this.resDataFn(res)\n        this.dataList.splice(0, this.dataList.length, ...resData)\n      })\n    }\n  }\n}\n</script>\n\n<style>\n</style>\n"]}]}