{"remainingRequest":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\机将公司\\机将后台端\\background-management-system\\src\\views\\maintenance\\equipmentManagement\\addEquipment.vue?vue&type=style&index=0&id=c660283e&lang=less&scoped=true&","dependencies":[{"path":"D:\\机将公司\\机将后台端\\background-management-system\\src\\views\\maintenance\\equipmentManagement\\addEquipment.vue","mtime":1682134569065},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\@vue\\cli-service\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\style-resources-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLmhpZGVfYm94IC9kZWVwLyAuZWwtdXBsb2FkLS1waWN0dXJlLWNhcmQgew0KICBkaXNwbGF5OiBub25lOw0KfQ0KDQovLyDorr7lpIfln7rmnKzkv6Hmga/lhoXlrrkNCi5lcXVpcG1lbnREZXRhaWxzIHsNCiAgcGFkZGluZzogMjBweDsNCiAgLmVxdWlwbWVudERldGFpbHNfYmFzaWNJbmZvIHsNCiAgICAuYmFzaWNJbmZvX3RpdGxlIHsNCiAgICAgIGNvbG9yOiAjMGIyMDU5Ow0KICAgICAgbWFyZ2luOiAwIDAgMjBweCAzMHB4Ow0KICAgIH0NCiAgICAuYmFzaWNJbmZvX2NvbnRlbnQgew0KICAgICAgcGFkZGluZzogMCAwIDAgMjBweDsNCiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsNCiAgICAgIC5idG5Ub29sIHsNCiAgICAgICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgICAgICBib3R0b206IDEwcHg7DQogICAgICAgIHJpZ2h0OiA2MHB4Ow0KICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMmY0ZDllOw0KICAgICAgICBjb2xvcjogI2ZmZjsNCiAgICAgIH0NCiAgICAgIC5pdGVtTGluZSB7DQogICAgICAgIGhlaWdodDogNDVweDsNCiAgICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDsNCg0KICAgICAgICAuaXRlbSB7DQogICAgICAgICAgd2lkdGg6IDMzJTsNCiAgICAgICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgICAgICAgY29sb3I6ICM3MDcwNzA7DQogICAgICAgICAgZm9udC1zaXplOiAxNXB4Ow0KICAgICAgICAgIHBhZGRpbmc6IDAgMjBweDsNCg0KICAgICAgICAgIC5pdGVtX3RpdGxlIHsNCiAgICAgICAgICAgIGZvbnQtc2l6ZTogMjBweDsNCiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA3MDA7DQogICAgICAgICAgICB3aWR0aDogMjUwcHg7DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9DQogICAgfQ0KICB9DQp9DQoNCi8vIOiuvuWkh+mFjee9ruS/oeaBr+WGheWuuQ0KLmVxdWlwbWVudERldGFpbHNfY29uZmlnSW5mbyB7DQogIG1hcmdpbi1ib3R0b206IDIwcHg7DQogIC50b29sIHsNCiAgICBkaXNwbGF5OiBmbGV4Ow0KICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgLmVsLWJ1dHRvbiB7DQogICAgICBoZWlnaHQ6IDM1cHg7DQogICAgICB3aWR0aDogNzBweDsNCiAgICB9DQogIH0NCiAgLmNvbmZpZ0luZm9fdGl0bGUgew0KICAgIGNvbG9yOiAjMGIyMDU5Ow0KICAgIG1hcmdpbjogMjBweCAzMHB4Ow0KICB9DQp9DQo="},{"version":3,"sources":["addEquipment.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAocA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"addEquipment.vue","sourceRoot":"src/views/maintenance/equipmentManagement","sourcesContent":["<template>\r\n  <div class=\"equipmentDetails\">\r\n    <!-- 设备基本信息内容 -->\r\n    <div class=\"equipmentDetails_basicInfo\">\r\n      <h2 class=\"basicInfo_title\">{{ titleName }}</h2>\r\n      <el-card>\r\n        <div class=\"basicInfo_content\">\r\n          <div class=\"itemLine\">\r\n            <div class=\"item\">\r\n              <span class=\"item_title\">贴片编码</span>\r\n              <el-input\r\n                v-model=\"equipmentAddForm.no\"\r\n                placeholder=\"请输入贴片编码\"\r\n              ></el-input>\r\n            </div>\r\n            <div class=\"item\">\r\n              <span class=\"item_title\">保养周期</span>\r\n              <el-input\r\n                @input=\"judgmentInputValue('cycle')\"\r\n                v-model.number=\"equipmentAddForm.cycle\"\r\n                placeholder=\"请输入保养周期\"\r\n              ></el-input>\r\n            </div>\r\n            <div class=\"item\">\r\n              <span class=\"item_title\">出厂时间</span>\r\n              <el-date-picker\r\n                style=\"width: 100%;\"\r\n                v-model=\"equipmentAddForm.factoryTime\"\r\n                type=\"datetime\"\r\n                value-format=\"yyyy-MM-dd\"\r\n                placeholder=\"请输入出厂时间\"\r\n              >\r\n              </el-date-picker>\r\n            </div>\r\n          </div>\r\n          <div class=\"itemLine\">\r\n            <div class=\"item\">\r\n              <span class=\"item_title\">设备类型</span>\r\n              <el-cascader\r\n                style=\"width: 100%;\"\r\n                :props=\"{\r\n                  label: 'name',\r\n                  children: 'list',\r\n                  checkStrictly: true,\r\n                  emitPath: false,\r\n                  value: 'id',\r\n                }\"\r\n                clearable\r\n                :show-all-levels=\"false\"\r\n                :collapse-tags=\"true\"\r\n                v-model=\"equipmentAddForm.deviceTypeId\"\r\n                :options=\"deviceTypeList\"\r\n                placeholder=\"请输入设备类型\"\r\n              ></el-cascader>\r\n            </div>\r\n            <div class=\"item\">\r\n              <span class=\"item_title\">设备品牌</span>\r\n              <el-input\r\n                v-model=\"equipmentAddForm.deviceBrand\"\r\n                placeholder=\"请输入设备品牌\"\r\n              ></el-input>\r\n            </div>\r\n            <div class=\"item\">\r\n              <span class=\"item_title\">设备型号</span>\r\n              <el-input\r\n                v-model=\"equipmentAddForm.deviceModel\"\r\n                placeholder=\"请输入设备型号\"\r\n              ></el-input>\r\n            </div>\r\n          </div>\r\n          <div class=\"itemLine\">\r\n            <div class=\"item\">\r\n              <span class=\"item_title\">设备轴数</span>\r\n              <el-input\r\n                v-model=\"equipmentAddForm.axesNumber\"\r\n                placeholder=\"请输入设备轴数\"\r\n              ></el-input>\r\n            </div>\r\n            <div class=\"item\">\r\n              <span class=\"item_title\">设备系统</span>\r\n              <el-cascader\r\n                style=\"width: 100%;\"\r\n                :props=\"{\r\n                  label: 'name',\r\n                  children: 'list',\r\n                  checkStrictly: true,\r\n                  emitPath: false,\r\n                  value: 'id',\r\n                }\"\r\n                clearable\r\n                :show-all-levels=\"false\"\r\n                :collapse-tags=\"true\"\r\n                v-model=\"equipmentAddForm.deviceSystemId\"\r\n                :options=\"deviceSystemList\"\r\n                placeholder=\"请输入设备系统\"\r\n              ></el-cascader>\r\n            </div>\r\n            <div class=\"item\">\r\n              <span class=\"item_title\">设备产地</span>\r\n              <el-select\r\n                v-model=\"equipmentAddForm.devicePlace\"\r\n                placeholder=\"请输入设备产地\"\r\n                style=\"width: 100%;\"\r\n              >\r\n                <el-option label=\"进口\" value=\"进口\"> </el-option>\r\n                <el-option label=\"国产\" value=\"国产\"> </el-option>\r\n              </el-select>\r\n            </div>\r\n          </div>\r\n          <div class=\"itemLine\">\r\n            <div class=\"item\">\r\n              <span class=\"item_title\">维保时间</span>\r\n              <el-date-picker\r\n                style=\"width: 100%;\"\r\n                v-model=\"time\"\r\n                type=\"daterange\"\r\n                value-format=\"yyyy-MM-dd\"\r\n                range-separator=\"至\"\r\n                start-placeholder=\"开始日期\"\r\n                end-placeholder=\"结束日期\"\r\n              >\r\n              </el-date-picker>\r\n            </div>\r\n\r\n            <div class=\"item\">\r\n              <span class=\"item_title\">价格</span>\r\n              <el-input\r\n                @input=\"judgmentInputValue('price')\"\r\n                v-model.number=\"equipmentAddForm.price\"\r\n                placeholder=\"请输入价格\"\r\n              ></el-input>\r\n            </div>\r\n          </div>\r\n          <div class=\"itemLine\">\r\n            <div class=\"item\">\r\n              <span class=\"item_title\">企业设备编码</span>\r\n              <el-input\r\n                v-model=\"equipmentAddForm.enterpriseDeviceNo\"\r\n                placeholder=\"请输入企业设备编码\"\r\n              ></el-input>\r\n            </div>\r\n            <div class=\"item\">\r\n              <span class=\"item_title\">企业设备位置</span>\r\n              <el-input\r\n                v-model=\"equipmentAddForm.enterpriseDevicePosition\"\r\n                placeholder=\"请输入企业设备位置\"\r\n              ></el-input>\r\n            </div>\r\n          </div>\r\n          <!-- <div class=\"itemLine\" style=\"height: 160px;\">\r\n            <div class=\"item\" style=\"position: relative;\">\r\n              <span class=\"item_title\">铭牌图片</span>\r\n              <el-upload\r\n                accept=\".jpg, .jpeg, .JPG, .JPEG,.png\"\r\n                :on-remove=\"removeNameplatePic\"\r\n                :class=\"{ hide_box: upload_btn }\"\r\n                action=\"#\"\r\n                list-type=\"picture-card\"\r\n                :http-request=\"uploadNameplatePic\"\r\n                :limit=\"1\"\r\n              >\r\n                <i class=\"el-icon-plus\"></i>\r\n              </el-upload>\r\n            </div>\r\n          </div> -->\r\n          <el-button class=\"btnTool\" @click=\"addEditEquipment\">{{\r\n            titleName === \"新增设备信息\" ? \"确定新增设备\" : \"确定编辑设备\"\r\n          }}</el-button>\r\n        </div>\r\n      </el-card>\r\n    </div>\r\n    <!-- 设备配置信息内容 -->\r\n    <div\r\n      class=\"equipmentDetails_configInfo\"\r\n      v-if=\"titleName !== '新增设备信息'\"\r\n    >\r\n      <div class=\"tool\">\r\n        <h2 class=\"configInfo_title\">设备配件信息</h2>\r\n        <el-button\r\n          style=\"background-color: #2f4d9e;color: #fffefd;\"\r\n          @click=\"addPartsList\"\r\n          >新增</el-button\r\n        >\r\n        <el-button style=\"color: #2f4d9e;border: 1px solid #2f4d9e;\"\r\n          >保存</el-button\r\n        >\r\n        <span style=\"margin-left: 10px;color: red;\">注:配件修改完必须保存</span>\r\n      </div>\r\n      <el-card>\r\n        <!-- 放配件表格 -->\r\n        <el-table\r\n          :data=\"partsList\"\r\n          :cell-style=\"{ 'text-align': 'center' }\"\r\n          style=\"width: 100%\"\r\n          :header-cell-style=\"{\r\n            background: '#f6f8fc',\r\n            color: '#707070',\r\n            'text-align': 'center',\r\n          }\"\r\n          :key=\"certinfoKey\"\r\n        >\r\n          <el-table-column label=\"编号\">\r\n            <template slot-scope=\"scope\">{{ scope.$index + 1 }} </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"category\" label=\"项目大类\"></el-table-column>\r\n          <el-table-column prop=\"name\" label=\"项目名称\"> </el-table-column>\r\n          <el-table-column prop=\"deviceBrand\" label=\"品牌\"> </el-table-column>\r\n          <el-table-column prop=\"deviceModel\" label=\"型号\"> </el-table-column>\r\n          <el-table-column label=\"单位\">mm</el-table-column>\r\n          <el-table-column prop=\"specification\" label=\"规格\"> </el-table-column>\r\n          <el-table-column label=\"操作\">\r\n            <template slot-scope=\"scope\">\r\n              <a\r\n                style=\"color: #2f4d9e;margin-right: 10px;\"\r\n                @click=\"editpartsList(scope.row, scope.$index)\"\r\n                >修改</a\r\n              >\r\n              <a\r\n                style=\"color: #2f4d9e;\"\r\n                @click=\"delpartsList(scope.$index, scope.row)\"\r\n                >删除</a\r\n              >\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </el-card>\r\n    </div>\r\n    <!-- 新增设备配件 -->\r\n    <el-dialog\r\n      :visible=\"addPartsListDialogShow\"\r\n      width=\"40%\"\r\n      :center=\"true\"\r\n      :show-close=\"false\"\r\n    >\r\n      <div\r\n        slot=\"title\"\r\n        style=\"margin-top: 20px;color: #7a797c;font-weight: 700;\"\r\n      >\r\n        {{ addPartsListName }}\r\n      </div>\r\n      <div style=\"padding: 0 20%;\">\r\n        <el-form\r\n          :model=\"partsListForm\"\r\n          label-width=\"100px\"\r\n          label-position=\"left\"\r\n        >\r\n          <el-form-item label=\"项目大类\">\r\n            <el-input v-model=\"partsListForm.category\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"项目名称\">\r\n            <el-input v-model=\"partsListForm.name\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"品牌\">\r\n            <el-input v-model=\"partsListForm.deviceBrand\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"型号\">\r\n            <el-input v-model=\"partsListForm.deviceModel\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"规格\">\r\n            <el-input v-model=\"partsListForm.specification\"></el-input>\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n      <span slot=\"footer\">\r\n        <el-button\r\n          style=\"width: 100px;color: #2d4da0;border: 1px solid #2d4da0;\"\r\n          @click=\"closeAddPartsListDialog\"\r\n          >取消</el-button\r\n        >\r\n        <el-button\r\n          style=\"width: 100px;background-color: #2d4da0;color: #fff;\"\r\n          @click=\"addPartsListComfirm(partsListForm.index)\"\r\n          >确定</el-button\r\n        >\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { editDeviceInfo, getEquipmentDetails } from \"@/api/equipmentManagement\";\r\nimport { queryDeviceSystemList, queryDeviceTypeList } from \"@/api/order\";\r\nimport { UploadImg } from \"@/api/system\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      equipmentAddForm: {\r\n        no: \"\",\r\n        cycle: null,\r\n        factoryTime: \"\",\r\n        deviceTypeId: \"\",\r\n        deviceBrand: \"\",\r\n        deviceModel: \"\",\r\n        axesNumber: \"\",\r\n        deviceSystemId: \"\",\r\n        devicePlace: \"\",\r\n        startTime: \"\",\r\n        endTime: \"\",\r\n        price: null,\r\n        enterpriseDeviceNo: \"\",\r\n        enterpriseDevicePosition: \"\",\r\n        nameplateImg: \"\",\r\n        type: 0,\r\n        orderSn: \"SE447443\",\r\n      },\r\n      time: \"\",\r\n      deviceTypeList: null, // 所有设备类型\r\n      deviceSystemList: null, // 所有设备系统\r\n      upload_btn: false, // 是否隐藏上传图片按钮\r\n      partsList: null, //配件列表\r\n      titleName: \"新增设备信息\",\r\n      addPartsListName: \"新增设备配件\",\r\n      id: \"\", //编辑需要的id\r\n      addPartsListDialogShow: false,\r\n      partsListForm: {\r\n        name: \"\",\r\n        category: \"\",\r\n        deviceBrand: \"\",\r\n        deviveModel: \"\",\r\n        specification: \"\",\r\n      },\r\n      certinfoKey: true,\r\n    };\r\n  },\r\n  methods: {\r\n    // 判断周期和价格\r\n    judgmentInputValue(str) {\r\n      var re = /^[0-9]+.?[0-9]*/;\r\n      if (this.equipmentAddForm[str] === \"\") {\r\n        this.equipmentAddForm[str] = 0;\r\n      } else if (!re.test(this.equipmentAddForm[str])) {\r\n        this.$message({\r\n          message: \"只能输数字哦\",\r\n          type: \"warning\",\r\n        });\r\n        this.equipmentAddForm[str] = 0;\r\n      }\r\n    },\r\n    // 点击编辑设备配件弹窗\r\n    editpartsList(row, index) {\r\n      this.addPartsListName = \"编辑设备配件\";\r\n      this.addPartsListDialogShow = true;\r\n      this.partsListForm = { ...row, index };\r\n    },\r\n    // 确定添加设备配件\r\n    addPartsListComfirm(index) {\r\n      if (this.addPartsListName === \"编辑设备配件\") {\r\n        this.partsList[index] = this.partsListForm;\r\n        this.certinfoKey = !this.certinfoKey;\r\n      } else {\r\n        if (!this.partsList) {\r\n          this.partsList = [];\r\n        }\r\n        this.partsList.push(this.partsListForm);\r\n      }\r\n      this.$message({\r\n        type: \"success\",\r\n        message:\r\n          this.addPartsListName === \"编辑设备配件\" ? \"编辑成功\" : \"添加成功\",\r\n      });\r\n      this.closeAddPartsListDialog();\r\n    },\r\n    // 关闭新增设备配件弹窗\r\n    closeAddPartsListDialog() {\r\n      this.addPartsListDialogShow = false;\r\n      this.partsListForm = {\r\n        name: \"\",\r\n        category: \"\",\r\n        deviceBrand: \"\",\r\n        deviveMoDEL: \"\",\r\n        specification: \"\",\r\n      };\r\n    },\r\n    //新增设备配件\r\n    addPartsList() {\r\n      this.addPartsListName = \"新增设备配件\";\r\n      this.addPartsListDialogShow = true;\r\n    },\r\n    // 删除设备配件\r\n    delpartsList(index, row) {\r\n      this.$confirm(\"您确定删除\" + row.name + \"?\", \"删除\", {\r\n        type: \"warning\",\r\n      }).then(() => {\r\n        this.partsList.splice(index, 1);\r\n        this.$message({\r\n          type: \"success\",\r\n          message: \"删除成功\",\r\n        });\r\n      });\r\n    },\r\n    // 新增编辑设备\r\n    async addEditEquipment() {\r\n      this.equipmentAddForm.endTime = this.time[1] + \" 00:00:00\";\r\n      this.equipmentAddForm.startTime = this.time[0] + \" 00:00:00\";\r\n      console.log(this.equipmentAddForm);\r\n      const res = await editDeviceInfo(this.equipmentAddForm);\r\n      if (res.message === \"操作成功\") {\r\n        this.$router.push({\r\n          name: \"equipmentDetails\",\r\n          query: { id: this.equipmentAddForm.id },\r\n        });\r\n      }\r\n    },\r\n    // 移除铭牌图片\r\n    removeNameplatePic() {\r\n      this.equipmentAddForm.nameplateImg = \"\";\r\n      setTimeout(() => {\r\n        this.upload_btn = false;\r\n      }, 1050);\r\n    },\r\n    // 上传铭牌图片\r\n    async uploadNameplatePic(fileData) {\r\n      const loading = this.$loading({\r\n        lock: true,\r\n        text: \"上传铭牌中...\",\r\n        spinner: \"el-icon-loading\",\r\n      });\r\n      const formData = new FormData();\r\n      this.upload_btn = true;\r\n      formData.append(\"file\", fileData.file);\r\n      const res = await UploadImg(formData);\r\n      this.equipmentAddForm.nameplateImg = res.data;\r\n      loading.close();\r\n    },\r\n  },\r\n  async created() {\r\n    this.titleName = this.$route.query.titleName;\r\n    if (this.titleName !== \"新增设备信息\") {\r\n      this.id = this.$route.query.id;\r\n      // 详情数据回显\r\n      const res = await getEquipmentDetails({ id: this.id });\r\n      this.equipmentAddForm = { ...res.data };\r\n      if (this.equipmentAddForm.startTime) {\r\n        this.time = [\r\n          res.data.startTime.substring(0, 10),\r\n          res.data.endTime.substring(0, 10),\r\n        ];\r\n      }\r\n      this.partsList = res.data.partsList;\r\n    }\r\n    // 所有的设备类型\r\n    const deviceTypeList = await queryDeviceTypeList();\r\n    this.deviceTypeList = deviceTypeList.data;\r\n    // 所有的设备系统\r\n    const deviceSystemList = await queryDeviceSystemList();\r\n    this.deviceSystemList = deviceSystemList.data;\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.hide_box /deep/ .el-upload--picture-card {\r\n  display: none;\r\n}\r\n\r\n// 设备基本信息内容\r\n.equipmentDetails {\r\n  padding: 20px;\r\n  .equipmentDetails_basicInfo {\r\n    .basicInfo_title {\r\n      color: #0b2059;\r\n      margin: 0 0 20px 30px;\r\n    }\r\n    .basicInfo_content {\r\n      padding: 0 0 0 20px;\r\n      position: relative;\r\n      .btnTool {\r\n        position: absolute;\r\n        bottom: 10px;\r\n        right: 60px;\r\n        background-color: #2f4d9e;\r\n        color: #fff;\r\n      }\r\n      .itemLine {\r\n        height: 45px;\r\n        display: flex;\r\n        margin-bottom: 10px;\r\n\r\n        .item {\r\n          width: 33%;\r\n          display: flex;\r\n          align-items: center;\r\n          color: #707070;\r\n          font-size: 15px;\r\n          padding: 0 20px;\r\n\r\n          .item_title {\r\n            font-size: 20px;\r\n            font-weight: 700;\r\n            width: 250px;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// 设备配置信息内容\r\n.equipmentDetails_configInfo {\r\n  margin-bottom: 20px;\r\n  .tool {\r\n    display: flex;\r\n    align-items: center;\r\n    .el-button {\r\n      height: 35px;\r\n      width: 70px;\r\n    }\r\n  }\r\n  .configInfo_title {\r\n    color: #0b2059;\r\n    margin: 20px 30px;\r\n  }\r\n}\r\n</style>\r\n"]}]}