{"remainingRequest":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\机将公司\\机将后台端\\background-management-system\\src\\views\\system\\setup-operator\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\机将公司\\机将后台端\\background-management-system\\src\\views\\system\\setup-operator\\index.vue","mtime":1669258939335},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB1cGxvYWRJbWcgZnJvbSAiQC9jb21wb25lbnRzL3VwbG9hZEltZy91cGxvYWQtaW1nLnZ1ZSI7CmltcG9ydCB7CiAgdXNlckxpc3RGbiwKICB1c2VyRGV0YWlsRm4sCiAgYWRkT3JVcGRhdGVGbiwKICByZW1vdmVVc2VyRm4sCiAgcm9sZUxpc3RGbiwKICB1cGRhdGVTdGF0dXNGbiwKfSBmcm9tICJAL2FwaS9zeXN0ZW0uanMiOwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAidnVleCI7CmltcG9ydCBtZDUgZnJvbSAianMtbWQ1IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJTZXR1cE9wZXJhdG9yIiwKICBjb21wb25lbnRzOiB7CiAgICB1cGxvYWRJbWcsCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGF0YUxpc3Q6IFtdLAogICAgICByb2xlczogW10sCiAgICAgIGVkaXREYXRhOiB7CiAgICAgICAgcG9ydHJhaXQ6CiAgICAgICAgICAiaHR0cHM6Ly9ndy5hbGlwYXlvYmplY3RzLmNvbS96b3MvYW50ZmluY2RuL1hBb3NYdU5aeUYvQmlhemZhbnhtYW1OUm94eFZ4a2EucG5nIiwKICAgICAgICByZWFsTmFtZTogIiIsCiAgICAgICAgcm9sZUlkOiAiIiwKICAgICAgICBzdGF0dXM6IHRydWUsCiAgICAgICAgdGVsUGhvbmU6ICIiLAogICAgICAgIHVzZXJBY2NvdW50OiAiIiwKICAgICAgfSwKICAgICAgZGF0YUNvbmZpZzogewogICAgICAgIHBhZ2VObzogMSwKICAgICAgICBwYWdlU2l6ZTogMjAsCiAgICAgICAgdG90YWw6IDAsCiAgICAgICAgbG9hZGluZzogdHJ1ZSwKICAgICAgfSwKICAgIH07CiAgfSwKICBiZWZvcmVNb3VudCgpIHsKICAgIHRoaXMucm9sZUxpc3RGbigpOwogICAgdGhpcy51c2VyTGlzdEZuKCk7CiAgfSwKICBjb21wdXRlZDogewogICAgLi4ubWFwR2V0dGVycyhbIm5hbWUiXSksCiAgICBhcGlIb3N0KCkgewogICAgICByZXR1cm4gcHJvY2Vzcy5lbnYuVlVFX0FQUF9CQVNFX0FQSTsKICAgIH0sCiAgfSwKICBtZXRob2RzOiB7CiAgICByb2xlTGlzdEZuKCkgewogICAgICByb2xlTGlzdEZuKHsKICAgICAgICBwYWdlTm86IDEsCiAgICAgICAgcGFnZVNpemU6IDEwMCwKICAgICAgfSkudGhlbigocmVzKSA9PiB7CiAgICAgICAgY29uc3QgcmVzRGF0YSA9IHRoaXMucmVzRGF0YUZuKHJlcyk7CiAgICAgICAgdGhpcy5yb2xlcy5zcGxpY2UoMCwgdGhpcy5yb2xlcy5sZW5ndGgsIC4uLnJlc0RhdGEucmVjb3Jkcyk7CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZVNpemVDaGFuZ2UodmFsKSB7CiAgICAgIHRoaXMuZGF0YUNvbmZpZy5wYWdlU2l6ZSA9IHZhbDsKICAgICAgdGhpcy51c2VyTGlzdEZuKCk7CiAgICB9LAogICAgY3VycmVudENoYW5nZUZuKHBhZ2VObykgewogICAgICB0aGlzLmRhdGFDb25maWcucGFnZU5vID0gcGFnZU5vOwogICAgICB0aGlzLnVzZXJMaXN0Rm4oKTsKICAgIH0sCiAgICBzdGF0dXNDaGFuZ2VGbih2YWwsIGluZGV4KSB7CiAgICAgIHVwZGF0ZVN0YXR1c0ZuKHsKICAgICAgICBpZDogdGhpcy5kYXRhTGlzdFtpbmRleF0uaWQsCiAgICAgICAgc3RhdHVzOiB2YWwgPyAxIDogMCwKICAgICAgfSkKICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICBpZiAocmVzLmNvZGUgPT0gIjAwMCIpIHsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgICAgICAgIG1lc3NhZ2U6ICLmk43kvZzmiJDlip/vvIEiLAogICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLnVzZXJMaXN0Rm4oKTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoKSA9PiB7CiAgICAgICAgICB0aGlzLmRhdGFMaXN0W2luZGV4XS5zdGF0dXMgPSAhdmFsOwogICAgICAgIH0pOwogICAgfSwKICAgIGRlbGV0ZUZuKHNjb3BlKSB7CiAgICAgIHRoaXMuZGVsZXRlQWxlcnQoKQogICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgIGNvbnN0IHJlc0RhdGEgPSByZW1vdmVVc2VyRm4oeyBpZDogc2NvcGUucm93LmlkIH0pOwogICAgICAgICAgcmV0dXJuIHJlc0RhdGE7CiAgICAgICAgfSkKICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICBjb25zdCByZXNEYXRhID0gdGhpcy5yZXNEYXRhRm4ocmVzKTsKICAgICAgICAgIGlmIChyZXNEYXRhID09ICIwMDAiKSB7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgICAgICAgICAgICBtZXNzYWdlOiAi5pON5L2c5oiQ5Yqf77yBIiwKICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB0aGlzLnVzZXJMaXN0Rm4oKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH0sCiAgICB1cGxvYWRTdWNGbihpbWcsIGluZGV4KSB7CiAgICAgIHRoaXMuJHNldCgKICAgICAgICB0aGlzLmRhdGFMaXN0LAogICAgICAgIGluZGV4LAogICAgICAgIE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZGF0YUxpc3RbaW5kZXhdLCB7IHBvcnRyYWl0OiBpbWcgfSkKICAgICAgKTsKICAgIH0sCiAgICBlZGl0RGF0YUZuKHZhbCkgewogICAgICBjb25zdCByZWcgPSAvXigxM1swLTldfDE0WzU3OV18MTVbMC0zLDUtOV18MTZbNl18MTdbMDEzNTY3OF18MThbMC05XXwxOVs4OV0pXGR7OH0kLzsKICAgICAgaWYgKHZhbC50ZWxQaG9uZS5sZW5ndGggIT0gMTEpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fovpPlhaUxMeS9jeaJi+acuuWPt++8gSIsCiAgICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgaWYgKCFyZWcudGVzdCh2YWwudGVsUGhvbmUpKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6K+36L6T5YWl5q2j56Gu55qE5omL5py65Y+377yBIiwKICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgICB9KTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgYWRkT3JVcGRhdGVGbih7CiAgICAgICAgaWQ6IHZhbC5pZCwKICAgICAgICBwb3J0cmFpdDogdmFsLnBvcnRyYWl0LAogICAgICAgIHJlYWxOYW1lOiB2YWwucmVhbE5hbWUsCiAgICAgICAgcm9sZUlkOiB2YWwucm9sZUlkLAogICAgICAgIHRlbFBob25lOiB2YWwudGVsUGhvbmUsCiAgICAgICAgcGFzc1dvcmQ6IHZhbC5wYXNzV29yZCA/IG1kNSh2YWwucGFzc1dvcmQpIDogdW5kZWZpbmVkLAogICAgICAgIHVzZXJBY2NvdW50OiB2YWwudXNlckFjY291bnQsCiAgICAgIH0pLnRoZW4oKHJlcykgPT4gewogICAgICAgIGNvbnN0IHJlc0RhdGEgPSB0aGlzLnJlc0RhdGFGbihyZXMpOwogICAgICAgIGlmIChyZXNEYXRhID09ICIwMDAiKSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgICAgICBtZXNzYWdlOiAi5pON5L2c5oiQ5Yqf77yBIiwKICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLnVzZXJMaXN0Rm4oKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGFkZERhdGFGbigpIHsKICAgICAgdGhpcy5kYXRhTGlzdC51bnNoaWZ0KE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZWRpdERhdGEpKTsKICAgIH0sCiAgICBkZWxldGVBZGRGbihpbmRleCkgewogICAgICB0aGlzLmRhdGFMaXN0LnNwbGljZShpbmRleCwgMSk7CiAgICB9LAogICAgdXNlckRldGFpbEZuKCkgewogICAgICB0aGlzLmRhdGFMaXN0LmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7CiAgICAgICAgaWYgKGl0ZW0uaWQpIHsKICAgICAgICAgIHVzZXJEZXRhaWxGbih7IGlkOiBpdGVtLmlkIH0pLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICBjb25zdCByZXNEYXRhID0gdGhpcy5yZXNEYXRhRm4ocmVzKTsKICAgICAgICAgICAgdGhpcy4kc2V0KAogICAgICAgICAgICAgIHRoaXMuZGF0YUxpc3QsCiAgICAgICAgICAgICAgaW5kZXgsCiAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih7fSwgaXRlbSwgewogICAgICAgICAgICAgICAgcm9sZUlkOiByZXNEYXRhLnJvbGVJZCB8fCAxLAogICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHVzZXJMaXN0Rm4oKSB7CiAgICAgIHVzZXJMaXN0Rm4oewogICAgICAgIHBhZ2VObzogdGhpcy5kYXRhQ29uZmlnLnBhZ2VObywKICAgICAgICBwYWdlU2l6ZTogdGhpcy5kYXRhQ29uZmlnLnBhZ2VTaXplLAogICAgICB9KS50aGVuKChyZXMpID0+IHsKICAgICAgICBjb25zdCByZXNEYXRhID0gdGhpcy5yZXNEYXRhRm4ocmVzKTsKICAgICAgICByZXNEYXRhLnJlY29yZHMuZm9yRWFjaCgoaXRlbSkgPT4gewogICAgICAgICAgaXRlbS5zdGF0dXMgPSBpdGVtLnN0YXR1cyA9PSAxOwogICAgICAgIH0pOwogICAgICAgIHRoaXMuZGF0YUxpc3Quc3BsaWNlKDAsIHRoaXMuZGF0YUxpc3QubGVuZ3RoLCAuLi5yZXNEYXRhLnJlY29yZHMpOwogICAgICAgIHRoaXMuZGF0YUNvbmZpZy50b3RhbCA9IHJlc0RhdGEudG90YWw7CiAgICAgICAgdGhpcy51c2VyRGV0YWlsRm4oKTsKICAgICAgfSk7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/system/setup-operator","sourcesContent":["<template>\n  <div class=\"content_box\">\n    <first-title title=\"系统操作员管理\" />\n    <div class=\"select_view\">\n      <el-button type=\"primary\" @click=\"addDataFn\"\n        ><i class=\"el-icon-plus\" />添加系统操作员</el-button\n      >\n      <span class=\"mg_l15\" style=\"color: #f56c6c\"\n        >注意：“修改”和“添加”系统操作员项目后需要点击右侧“提交编辑”按钮才会生效哦，登录密码如果不修改可以不填！</span\n      >\n    </div>\n    <el-table\n      v-loading=\"dataConfig.loading\"\n      border\n      :data=\"dataList\"\n      class=\"list\"\n    >\n      <el-table-column label=\"ID\" width=\"50px\">\n        <template slot-scope=\"scope\">\n          <span v-if=\"scope.row.id\">{{ scope.row.id }}</span>\n          <span\n            v-if=\"!scope.row.id\"\n            class=\"delete_icon\"\n            @click=\"deleteAddFn(scope.$index)\"\n            ><i class=\"el-icon-delete\"\n          /></span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"管理员头像\" width=\"100px\" align=\"center\">\n        <template slot-scope=\"scope\">\n          <upload-img\n            width=\"60px\"\n            height=\"60px\"\n            :radius=\"true\"\n            :img=\"scope.row.portrait\"\n            @uploadSuc=\"uploadSucFn($event, scope.$index)\"\n          />\n        </template>\n      </el-table-column>\n      <el-table-column label=\"管理员账号\">\n        <template slot-scope=\"scope\">\n          <el-input\n            v-model=\"scope.row.userAccount\"\n            placeholder=\"请输入用户账号\"\n          />\n        </template>\n      </el-table-column>\n      <el-table-column label=\"角色名称\">\n        <template slot-scope=\"scope\">\n          <el-select v-model=\"scope.row.roleId\" placeholder=\"请选择角色名称\">\n            <el-option\n              v-for=\"item in roles\"\n              :key=\"item.id\"\n              :label=\"item.name\"\n              :value=\"item.id\"\n            />\n          </el-select>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"真实姓名\">\n        <template slot-scope=\"scope\">\n          <el-input v-model=\"scope.row.realName\" placeholder=\"请输入真实姓名\" />\n        </template>\n      </el-table-column>\n      <el-table-column label=\"状态(启用/禁用)\" align=\"center\" width=\"140px\">\n        <template slot-scope=\"scope\">\n          <el-switch\n            v-model=\"scope.row.status\"\n            :disabled=\"scope.row.id == undefined\"\n            @change=\"statusChangeFn($event, scope.$index)\"\n          />\n        </template>\n      </el-table-column>\n      <el-table-column label=\"联系电话\">\n        <template slot-scope=\"scope\">\n          <el-input\n            v-model=\"scope.row.telPhone\"\n            maxlength=\"11\"\n            placeholder=\"请输入联系电话\"\n          />\n        </template>\n      </el-table-column>\n      <el-table-column label=\"密码(不填及不修改)\">\n        <template slot-scope=\"scope\">\n          <el-input v-model=\"scope.row.passWord\" placeholder=\"请输入密码\" />\n        </template>\n      </el-table-column>\n      <el-table-column label=\"创建时间\">\n        <template slot-scope=\"scope\">\n          <span>{{ scope.row.createTime }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"操作\" width=\"240px\" align=\"center\">\n        <template slot-scope=\"scope\">\n          <el-button type=\"primary\" size=\"small\" @click=\"editDataFn(scope.row)\"\n            >提交编辑</el-button\n          >\n          <el-button\n            v-if=\"scope.row.id\"\n            type=\"danger\"\n            size=\"small\"\n            @click=\"deleteFn(scope)\"\n            ><i class=\"el-icon-delete\" />删除</el-button\n          >\n        </template>\n      </el-table-column>\n    </el-table>\n    <div class=\"el_pagination\">\n      <el-pagination\n        background\n        layout=\"prev, pager, next,total,sizes\"\n        :current-page=\"dataConfig.pageNo\"\n        :total=\"dataConfig.total\"\n        :page-sizes=\"[20, 30, 40, 50]\"\n        @current-change=\"currentChangeFn\"\n        @size-change=\"handleSizeChange\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport uploadImg from \"@/components/uploadImg/upload-img.vue\";\nimport {\n  userListFn,\n  userDetailFn,\n  addOrUpdateFn,\n  removeUserFn,\n  roleListFn,\n  updateStatusFn,\n} from \"@/api/system.js\";\nimport { mapGetters } from \"vuex\";\nimport md5 from \"js-md5\";\nexport default {\n  name: \"SetupOperator\",\n  components: {\n    uploadImg,\n  },\n  data() {\n    return {\n      dataList: [],\n      roles: [],\n      editData: {\n        portrait:\n          \"https://gw.alipayobjects.com/zos/antfincdn/XAosXuNZyF/BiazfanxmamNRoxxVxka.png\",\n        realName: \"\",\n        roleId: \"\",\n        status: true,\n        telPhone: \"\",\n        userAccount: \"\",\n      },\n      dataConfig: {\n        pageNo: 1,\n        pageSize: 20,\n        total: 0,\n        loading: true,\n      },\n    };\n  },\n  beforeMount() {\n    this.roleListFn();\n    this.userListFn();\n  },\n  computed: {\n    ...mapGetters([\"name\"]),\n    apiHost() {\n      return process.env.VUE_APP_BASE_API;\n    },\n  },\n  methods: {\n    roleListFn() {\n      roleListFn({\n        pageNo: 1,\n        pageSize: 100,\n      }).then((res) => {\n        const resData = this.resDataFn(res);\n        this.roles.splice(0, this.roles.length, ...resData.records);\n      });\n    },\n    handleSizeChange(val) {\n      this.dataConfig.pageSize = val;\n      this.userListFn();\n    },\n    currentChangeFn(pageNo) {\n      this.dataConfig.pageNo = pageNo;\n      this.userListFn();\n    },\n    statusChangeFn(val, index) {\n      updateStatusFn({\n        id: this.dataList[index].id,\n        status: val ? 1 : 0,\n      })\n        .then((res) => {\n          if (res.code == \"000\") {\n            this.$message({\n              showClose: true,\n              message: \"操作成功！\",\n              type: \"success\",\n            });\n          }\n          this.userListFn();\n        })\n        .catch(() => {\n          this.dataList[index].status = !val;\n        });\n    },\n    deleteFn(scope) {\n      this.deleteAlert()\n        .then(() => {\n          const resData = removeUserFn({ id: scope.row.id });\n          return resData;\n        })\n        .then((res) => {\n          const resData = this.resDataFn(res);\n          if (resData == \"000\") {\n            this.$message({\n              showClose: true,\n              message: \"操作成功！\",\n              type: \"success\",\n            });\n            this.userListFn();\n          }\n        });\n    },\n    uploadSucFn(img, index) {\n      this.$set(\n        this.dataList,\n        index,\n        Object.assign({}, this.dataList[index], { portrait: img })\n      );\n    },\n    editDataFn(val) {\n      const reg = /^(13[0-9]|14[579]|15[0-3,5-9]|16[6]|17[0135678]|18[0-9]|19[89])\\d{8}$/;\n      if (val.telPhone.length != 11) {\n        this.$message({\n          showClose: true,\n          message: \"请输入11位手机号！\",\n          type: \"warning\",\n        });\n        return;\n      } else if (!reg.test(val.telPhone)) {\n        this.$message({\n          showClose: true,\n          message: \"请输入正确的手机号！\",\n          type: \"warning\",\n        });\n        return;\n      }\n      addOrUpdateFn({\n        id: val.id,\n        portrait: val.portrait,\n        realName: val.realName,\n        roleId: val.roleId,\n        telPhone: val.telPhone,\n        passWord: val.passWord ? md5(val.passWord) : undefined,\n        userAccount: val.userAccount,\n      }).then((res) => {\n        const resData = this.resDataFn(res);\n        if (resData == \"000\") {\n          this.$message({\n            showClose: true,\n            message: \"操作成功！\",\n            type: \"success\",\n          });\n          this.userListFn();\n        }\n      });\n    },\n    addDataFn() {\n      this.dataList.unshift(Object.assign({}, this.editData));\n    },\n    deleteAddFn(index) {\n      this.dataList.splice(index, 1);\n    },\n    userDetailFn() {\n      this.dataList.forEach((item, index) => {\n        if (item.id) {\n          userDetailFn({ id: item.id }).then((res) => {\n            const resData = this.resDataFn(res);\n            this.$set(\n              this.dataList,\n              index,\n              Object.assign({}, item, {\n                roleId: resData.roleId || 1,\n              })\n            );\n          });\n        }\n      });\n    },\n    userListFn() {\n      userListFn({\n        pageNo: this.dataConfig.pageNo,\n        pageSize: this.dataConfig.pageSize,\n      }).then((res) => {\n        const resData = this.resDataFn(res);\n        resData.records.forEach((item) => {\n          item.status = item.status == 1;\n        });\n        this.dataList.splice(0, this.dataList.length, ...resData.records);\n        this.dataConfig.total = resData.total;\n        this.userDetailFn();\n      });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.user_head {\n  width: 50px;\n  height: 50px;\n  position: relative;\n  border-radius: 50px;\n  overflow: hidden;\n  background: #ddd;\n  .upload {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n    background: url(\"../../../assets/upload.png\") no-repeat center / 100% 100%;\n    font-size: #fff;\n    text-align: center;\n    line-height: 50px;\n    display: none;\n  }\n  &:hover {\n    .upload {\n      display: block;\n    }\n  }\n  img {\n    width: 100%;\n    height: 100%;\n  }\n}\n</style>\n"]}]}