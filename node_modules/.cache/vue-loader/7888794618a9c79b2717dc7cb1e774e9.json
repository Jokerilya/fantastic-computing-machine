{"remainingRequest":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\机将公司\\机将后台端\\background-management-system\\src\\views\\maintenance\\maintenance_order_desc.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\机将公司\\机将后台端\\background-management-system\\src\\views\\maintenance\\maintenance_order_desc.vue","mtime":1713937077798},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGdldFJlcGFpck9yZGVyRGV0YWlsIH0gZnJvbSAiQC9hcGkvdXNlci5qcyI7CmltcG9ydCB7CiAgbWFya09yZGVyQ29tcGxldGlvbiwKICBkZWxldGVPcmRlckZhdWx0SXRlbSwKICBoYW5kbGVTdWJtaXRBY2NlcHRhbmNlLAogIGVkaXRPcmRlclNlcnZpY2VQcm9ncmVzcywKICBleGFtaW5lTWFzdGVyUXVvdGF0aW9uLAogIGhhbmRsZU1hc3RlclBheW1lbnQsCiAgY2FuY2VsUmVwYWlyT3JkZXIsCiAgaGFuZGxlUmVwYWlyTWVzc2FnZSwKICBleGFtaW5lUGFydFByb2R1Y3QsCiAgZWRpdFJlcGFpck9yZGVyLAogIGV4YW1pbmVGYXVsdEl0ZW0sCiAgc2VuZFJlcGFpciwKICBxdWVyeUpkUHJvZHVjdExpc3QsCiAgZWRpdFBhcnRQcm9kdWN0LAogIGRlbGV0ZVBhcnRQcm9kdWN0LAogIHF1ZXJ5TWFpbnRlbmFuY2VTdXBwbGllckluZm8sCiAgZmlsbExvZ2lzdGljc0luZm9ybWF0aW9uLAogIGhhbmRsZU1hc3RlckFtb3VudCwKICBxdWVyeUZhdWx0SXRlbXMsCiAgYWRkT3JkZXJGYXVsdEl0ZW0sCiAgY29uc3VsdENvc3QsCiAgaGFuZGxlU3lzdGVtQ3JlYXRlT3JkZXIsCiAgaGFuZGxlRW50ZXJwcmlzZUNoZWNrLAogIGhhbmRsZUZhdWx0Q29zdCwKfSBmcm9tICJAL2FwaS9vcmRlci5qcyI7CmltcG9ydCB7IFVwbG9hZEltZyB9IGZyb20gIkAvYXBpL3N5c3RlbS5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICB0aXRsZTogIm1haW50ZW5hbmNlX29yZGVyX2Rlc2MiLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmYXVsdERlcmF0ZVByaWNlVmlzaWJsZTogZmFsc2UsCiAgICAgIGZhdWx0RGVyYXRlUHJpY2VQYXJhbXM6IHsKICAgICAgICBhbW91bnQ6IG51bGwsCiAgICAgICAgb3JkZXJTbjogbnVsbCwKICAgICAgfSwKICAgICAgY29uc3VsdENvc3RSdWxlczogewogICAgICAgIHR5cGU6IFsKICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLor7fpgInmi6nmtLvliqjotYTmupAiLCB0cmlnZ2VyOiAiY2hhbmdlIiB9LAogICAgICAgIF0sCiAgICAgICAgYW1vdW50OiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+36YCJ5oup5rS75Yqo5Yy65Z+fIiwgdHJpZ2dlcjogImNoYW5nZSIgfSwKICAgICAgICBdLAogICAgICB9LAogICAgICBjb25zdWx0Q29zdFBhcmFtczogewogICAgICAgIG9yZGVyU246IG51bGwsCiAgICAgICAgYW1vdW50OiBudWxsLAogICAgICAgIHJlbWFya3M6IG51bGwsCiAgICAgICAgdHlwZTogbnVsbCwKICAgICAgfSwKICAgICAgY29uc3VsdFByaWNlVmlzaWJsZTogZmFsc2UsCgogICAgICBleGFtaW5lRmF1bHRzRm9ybVZpZGVvTGlzdDogW10sCiAgICAgIGV4YW1pbmVGYXVsdHNGb3JtUGljTGlzdDogW10sCgogICAgICBjaG9vc2VGYXVsdEl0ZW1WYWw6IHt9LAogICAgICBxdWVyeUZhdWx0SXRlbXNQYXJhbXM6IHsKICAgICAgICBwYWdlTm86IDEsCiAgICAgICAgcGFnZVNpemU6IDEwLAogICAgICAgIHF1ZXJ5OiBudWxsLAogICAgICB9LAogICAgICBmYXVsdEl0ZW1QYWdlczogbnVsbCwKICAgICAgZmF1bHRJdGVtVG90YWw6IG51bGwsCiAgICAgIGZhdWx0SXRlbUxpc3Q6IFtdLAogICAgICBhZGRGYXVsdFZpc2libGU6IGZhbHNlLAoKICAgICAgZWRpdEJhZFBpcmNlRGF0YTogewogICAgICAgIG9wZXJhdGVUeXBlOiAiIiwKICAgICAgICBhbW91bnQ6ICIiLAogICAgICAgIG9yZGVyU246ICIiLAogICAgICB9LAogICAgICBlZGl0QmFkUGlyY2VTaG93OiBmYWxzZSwgLy/kv67mlLnlt67or4TlvLnmoYYKCiAgICAgIHBhcnRJdGVtU2VuZDogZmFsc2UsCiAgICAgIGFkZEVkaXRQYXJ0VGl0bGU6ICLmlrDlop7phY3ku7YiLAogICAgICBzZXRMb2dpc3RpY3NEYXRhOiB7CiAgICAgICAgc3VwcGxpZXJJZDogbnVsbCwKICAgICAgICBzdXBwbGllck5hbWU6IG51bGwsCiAgICAgIH0sCgogICAgICBzdXBwbGllckxpc3Q6IFtdLAogICAgICBzZXRMb2dpc3RpY3NEaWFsb2dTaG93OiBmYWxzZSwKICAgICAgbWFpbnRlbmFuY2VTdXBwbGllckluZm9RdWVyeTogbnVsbCwKCiAgICAgIHVwbG9hZFBhcnRJbWdMaXN0OiBbXSwKICAgICAgc2VhcmNoUGFydFF1ZXJ5OiBudWxsLAogICAgICBjaG9vc2VQYXJ0SW5kZXg6IG51bGwsIC8v6YCJ5Lit6YWN5Lu255qE5LiL5qCHCiAgICAgIGpkUHJvZHVjdExpc3Q6IFtdLAogICAgICB3YXJlaG91c2VTZWFyY2hEaWFsb2dTaG93OiBmYWxzZSwKICAgICAgcGFydEluZm86IHsKICAgICAgICByZW1hcmtzOiBudWxsLAogICAgICAgIHN0YXNoUGFydHNXYXk6IDEsIC8v6buY6K6k5paw5aKe6YWN5Lu2CiAgICAgICAgYnJhbmQ6ICIiLAogICAgICAgIGJyYW5kSWQ6ICIiLAogICAgICAgIGltYWdlOiAiIiwKICAgICAgICBtb2RlbDogIiIsCiAgICAgICAgbmFtZTogIiIsCiAgICAgICAgbnVtOiAiIiwKICAgICAgICBudW1iZXI6ICIiLAogICAgICAgIHBhcmFtZXRlcjogIiIsCiAgICAgICAgcHJpY2U6ICIiLAogICAgICAgIHR5cGU6ICIiLAogICAgICAgIGlkOiAiIiwKICAgICAgICBwYXJ0SWQ6ICIiLAogICAgICB9LAogICAgICBhZGRFZGl0UGFydERpYWxvZ1Nob3c6IGZhbHNlLAoKICAgICAgb25lQ2xpY2tTZW5kcmVwYWlyOiBmYWxzZSwKCiAgICAgIG1hcmtUcnVuVGV4dDogWyLpnZ7luLjkuI3mu6HmhI8iLCAi5LiN5ruh5oSPIiwgIuS4gOiIrCIsICLmu6HmhI8iLCAi6Z2e5bi45ruh5oSPIl0sCiAgICAgIGV4YW1pbmVGYXVsdHNGb3JtOiB7fSwKICAgICAgZXhhbWluZUZhdWx0czogZmFsc2UsCiAgICAgIGV4YW1pbmVQYXJ0c0Zvcm06IHt9LAogICAgICBleGFtaW5lUGFydHM6IGZhbHNlLAoKICAgICAgcGxhdGZvcm1WaXNpdE1lc3NhZ2U6ICIiLAogICAgICByZXBhaXJDb21tZW50SW1hZ2U6IG51bGwsCiAgICAgIGNvbnRlbnQ6ICIiLAogICAgICAvLyDlj5bmtojorqLljZUKICAgICAgZGVsT3JkZXJpbnBWYWx1ZTogIiIsCiAgICAgIGNhbmNlbE9yZGVyRGlhbG9nOiBmYWxzZSwKCiAgICAgIG9yZGVyU246ICIiLAogICAgICBkYXRhOiB7fSwKICAgICAgYWN0aXZlTmFtZTogImRlc2MiLAogICAgICBzdGF0dXM6ICIiLAogICAgICB1cmw6IHsKICAgICAgICBoYW5kbGVNYXN0ZXJRdW90YXRpb246ICIvYWRtaW4vbWFpbnRlbmFuY2UvaGFuZGxlTWFzdGVyUXVvdGF0aW9uIiwgLy8g5LyB5Lia56Gu6K6k5oql5Lu3CiAgICAgICAgaGFuZGxlQ29uZmlybURlcG9zaXQ6ICIvYWRtaW4vbWFpbnRlbmFuY2UvaGFuZGxlQ29uZmlybURlcG9zaXQiLCAvLyDkvIHkuJrnoa7orqTmlK/ku5jlrprph5Ev5bC+5qy+CiAgICAgICAgaGFuZGxlRW50ZXJwcmlzZUNoZWNrOiAiL2FkbWluL21haW50ZW5hbmNlL2hhbmRsZUVudGVycHJpc2VDaGVjayIsIC8vIOS8geS4mumqjOaUtgogICAgICAgIGhhbmRsZUNvbmZpcm1EZXBvc2l0VG9NYXN0ZXI6CiAgICAgICAgICAiL2FkbWluL21haW50ZW5hbmNlL2hhbmRsZUNvbmZpcm1EZXBvc2l0VG9NYXN0ZXIiLCAvLyDlubPlj7Dnoa7orqTkvIHkuJrlrprph5HlubbmiZPmrL7nu5nluIjlgoUv5bmz5Y+w56Gu6K6k5LyB5Lia5pSv5LuY5bC+5qy+CiAgICAgICAgaGFuZGxlQ29uZmlybUJhbGFuY2VUb01hc3RlcjoKICAgICAgICAgICIvYWRtaW4vbWFpbnRlbmFuY2UvaGFuZGxlQ29uZmlybUJhbGFuY2VUb01hc3RlciIsIC8vIOW5s+WPsOaJk+asvuiHs+W4iOWChSjotKjkv53mnJ/lt7LliLApCiAgICAgIH0sCiAgICAgIHF1b3RhdGlvbkZvcm06IHsKICAgICAgICByZWplY3RSZWFzb246ICIiLAogICAgICB9LAogICAgICBjaGVja0Zvcm06IHsKICAgICAgICByZWplY3RSZWFzb246ICIiLAogICAgICB9LAogICAgICBwYXJ0czogewogICAgICAgIG9yZGVyU246ICIiLAogICAgICAgIGRvb3JBbW91bnQ6ICIiLAogICAgICAgIG90aGVyQW1vdW50OiAiIiwKICAgICAgICBwYXJ0c0Ftb3VudDogIiIsCiAgICAgICAgdGVjaG5vbG9neUFtb3VudDogIiIsCiAgICAgIH0sCgogICAgICBxdWVyeUpkUHJvZHVjdExpc3RQYXJhbXM6IHsKICAgICAgICBwYWdlTm86IDEsCiAgICAgICAgcGFnZVNpemU6IDEwMCwKICAgICAgICBxdWVyeTogIiIsCiAgICAgIH0sCgogICAgICBwYXJ0SW5mb1J1bGVzOiB7CiAgICAgICAgbW9kZWw6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+36YCJ5oup6YWN5Lu25qih5byPIiwgdHJpZ2dlcjogImJsdXIiIH1dLAogICAgICAgIHR5cGU6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+36YCJ5oup6YeH5Lmw6KeS6ImyIiwgdHJpZ2dlcjogImJsdXIiIH1dLAogICAgICAgIG5hbWU6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+35aGr5YaZ6YWN5Lu25ZCN56ewIiwgdHJpZ2dlcjogImJsdXIiIH1dLAogICAgICAgIGJyYW5kOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuivt+Whq+WGmemFjeS7tuWTgeeJjCIsIHRyaWdnZXI6ICJibHVyIiB9XSwKICAgICAgICBwYXJhbWV0ZXI6IFsKICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLor7floavlhpnphY3ku7blj4LmlbAiLCB0cmlnZ2VyOiAiYmx1ciIgfSwKICAgICAgICBdLAogICAgICAgIHByaWNlOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuivt+Whq+WGmemFjeS7tuWNleS7tyIsIHRyaWdnZXI6ICJibHVyIiB9XSwKICAgICAgfSwKICAgIH07CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5fZ2V0UmVwYWlyT3JkZXJEZXRhaWwoKTsKICAgIGNvbnNvbGUuaW5mbyh0aGlzLiRzdG9yZSk7CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5vcmRlclNuID0gdGhpcy4kcm91dGUucXVlcnkub3JkZXJTbjsKICAgIHRoaXMuX2dldFJlcGFpck9yZGVyRGV0YWlsKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBjaGFuZ2VUeXBlKCkgewogICAgICB0aGlzLiRyZWZzLnBhcnRJbmZvUnVsZUZvcm0udmFsaWRhdGVGaWVsZCgidHlwZSIpOwogICAgfSwKICAgIGNoYW5nZU1vZGVsKCkgewogICAgICB0aGlzLnBhcnRJbmZvLnJlbWFya3MgPSBudWxsOwogICAgICB0aGlzLiRyZWZzLnBhcnRJbmZvUnVsZUZvcm0udmFsaWRhdGVGaWVsZCgibW9kZWwiKTsKICAgIH0sCiAgICAvLyDnoa7lrprmlYXpmpzlh4/lhY3otLnnlKgKICAgIGFzeW5jIGNvbmZpcm1TZXRGYXVsdERlcmF0ZVByaWNlKCkgewogICAgICBpZiAoCiAgICAgICAgIXRoaXMuZmF1bHREZXJhdGVQcmljZVBhcmFtcy5hbW91bnQgJiYKICAgICAgICB0aGlzLmZhdWx0RGVyYXRlUHJpY2VQYXJhbXMuYW1vdW50ICE9IDAKICAgICAgKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICBtZXNzYWdlOiAi6K+35aGr5YaZ5pWF6Zqc5YeP5YWN6LS555SoIiwKICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgICB9KTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgY29uc3QgcmVzID0gYXdhaXQgaGFuZGxlRmF1bHRDb3N0KHRoaXMuZmF1bHREZXJhdGVQcmljZVBhcmFtcyk7CiAgICAgIGlmIChyZXMubWVzc2FnZSA9PSAi5pON5L2c5oiQ5YqfIikgewogICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgbWVzc2FnZTogcmVzLm1lc3NhZ2UsCiAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5fZ2V0UmVwYWlyT3JkZXJEZXRhaWwoKTsKICAgICAgICB0aGlzLmNsb3NlRmF1bHREZXJhdGVQcmljZURpYWxvZygpOwogICAgICB9CiAgICB9LAogICAgLy8g5YWz6Zet6K6+572u5pWF6Zqc5YeP5YWN6LS555SoCiAgICBjbG9zZUZhdWx0RGVyYXRlUHJpY2VEaWFsb2coKSB7CiAgICAgIHRoaXMuZmF1bHREZXJhdGVQcmljZVBhcmFtcyA9IHsKICAgICAgICBhbW91bnQ6IG51bGwsCiAgICAgICAgb3JkZXJTbjogbnVsbCwKICAgICAgfTsKICAgICAgdGhpcy5mYXVsdERlcmF0ZVByaWNlVmlzaWJsZSA9IGZhbHNlOwogICAgfSwKICAgIC8vIOaJk+W8gOiuvue9ruaVhemanOWHj+WFjei0ueeUqAogICAgb3BlbkZhdWx0RGVyYXRlUHJpY2VEaWFsb2cob3JkZXJTbikgewogICAgICB0aGlzLmZhdWx0RGVyYXRlUHJpY2VQYXJhbXMub3JkZXJTbiA9IG9yZGVyU247CiAgICAgIHRoaXMuZmF1bHREZXJhdGVQcmljZVZpc2libGUgPSB0cnVlOwogICAgfSwKICAgIC8vIOafpeaJvuS+m+W6lOWVhgogICAgYXN5bmMgc2VhcmNoTWFpbnRlbmFuY2VTdXBwbGllckluZm8oKSB7CiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHF1ZXJ5TWFpbnRlbmFuY2VTdXBwbGllckluZm8oCiAgICAgICAgdGhpcy5tYWludGVuYW5jZVN1cHBsaWVySW5mb1F1ZXJ5CiAgICAgICk7CiAgICAgIHRoaXMuc3VwcGxpZXJMaXN0ID0gcmVzLmRhdGE7CiAgICAgIHRoaXMuc2V0TG9naXN0aWNzRGlhbG9nU2hvdyA9IHRydWU7CiAgICB9LAogICAgLy8g5LyB5Lia5b6F6aqM5pS2CiAgICBoYW5kbGVFbnRlcnByaXNlQ2hlY2sob3JkZXJTbikgewogICAgICB0aGlzLiRjb25maXJtKCLmgqjnoa7lrpropoHmk43kvZzku6PkvIHkuJrnoa7orqTpqozmlLY/IiwgIuaPkOekuiIsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIuehruiupCIsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogIuWPlua2iCIsCiAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICB9KS50aGVuKGFzeW5jICgpID0+IHsKICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBoYW5kbGVFbnRlcnByaXNlQ2hlY2sob3JkZXJTbik7CiAgICAgICAgaWYgKHJlcy5tZXNzYWdlID09PSAi5pON5L2c5oiQ5YqfIikgewogICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgIG1lc3NhZ2U6IHJlcy5tZXNzYWdlLAogICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMuX2dldFJlcGFpck9yZGVyRGV0YWlsKCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvLyDmoIforrDmlaPljZXlrozmiJAKICAgIG1hcmtPcmRlckNvbXBsZXRpb24ob3JkZXJTbikgewogICAgICB0aGlzLiRjb25maXJtKAogICAgICAgICLnoa7orqTmk43kvZzlkJfvvJ8o5pWj5Y2V6ZyA5LyB5Lia5a6e6ZmF5pSv5LuY5omN5Y+v5Lul54K55Ye75q2k5pON5L2cKSIsCiAgICAgICAgIuaPkOekuiIsCiAgICAgICAgewogICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICLnoa7lrpoiLAogICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogIuWPlua2iCIsCiAgICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgICAgfQogICAgICApLnRoZW4oYXN5bmMgKCkgPT4gewogICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IG1hcmtPcmRlckNvbXBsZXRpb24ob3JkZXJTbik7CiAgICAgICAgaWYgKHJlcy5tZXNzYWdlID09PSAi5pON5L2c5oiQ5YqfIikgewogICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgIG1lc3NhZ2U6ICLmk43kvZzmiJDlip8iLAogICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMuX2dldFJlcGFpck9yZGVyRGV0YWlsKCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvLyDmnLrlsIblpKfluIjlgoXmjqXljZUKICAgIGhhbmRsZVN5c3RlbUNyZWF0ZU9yZGVyKG9yZGVyU24pIHsKICAgICAgdGhpcy4kY29uZmlybSgi5oKo56Gu5a6e6KaB5pON5L2c5py65bCG5aSn5biI5YKF5o6l5Y2V5ZCXPyIsICLmj5DnpLoiLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICLnoa7lrpoiLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICLlj5bmtogiLAogICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgfSkudGhlbihhc3luYyAoKSA9PiB7CiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgaGFuZGxlU3lzdGVtQ3JlYXRlT3JkZXIob3JkZXJTbik7CiAgICAgICAgaWYgKHJlcy5tZXNzYWdlID09ICLmk43kvZzmiJDlip8iKSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICBtZXNzYWdlOiByZXMubWVzc2FnZSwKICAgICAgICAgIH0pOwogICAgICAgICAgdGhpcy5fZ2V0UmVwYWlyT3JkZXJEZXRhaWwoKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOWIoOmZpOaVhemanOmhueebruWbvueJhwogICAgZGVsRXhhbWluZUZhdWx0c0Zvcm1QaWNMaXN0KCkgewogICAgICB0aGlzLmV4YW1pbmVGYXVsdHNGb3JtLmltYWdlWzBdID0gbnVsbDsKICAgICAgdGhpcy5leGFtaW5lRmF1bHRzRm9ybVBpY0xpc3QgPSBbXTsKICAgIH0sCiAgICAvLyDnoa7lrprljY/llYbotLnnlKgKICAgIGFzeW5jIGNvbmZpcm1Db25zdWx0UHJpY2UoKSB7CiAgICAgIGF3YWl0IHRoaXMuJHJlZnNbImNvbnN1bHRDb3N0Rm9ybSJdLnZhbGlkYXRlKCk7CiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGNvbnN1bHRDb3N0KHRoaXMuY29uc3VsdENvc3RQYXJhbXMpOwogICAgICBpZiAocmVzLm1lc3NhZ2UgPT09ICLmk43kvZzmiJDlip8iKSB7CiAgICAgICAgdGhpcy5jbG9zZUNvbnN1bHRQcmljZURpYWxvZygpOwogICAgICAgIHRoaXMuX2dldFJlcGFpck9yZGVyRGV0YWlsKCk7CiAgICAgIH0KICAgIH0sCiAgICAvLyDmiZPlvIDljY/llYbku7fmoLzmoYYKICAgIG9wZW5Db25zdWx0UHJpY2VEaWFsb2cob3JkZXJTbikgewogICAgICB0aGlzLmNvbnN1bHRDb3N0UGFyYW1zLm9yZGVyU24gPSBvcmRlclNuOwogICAgICB0aGlzLmNvbnN1bHRQcmljZVZpc2libGUgPSB0cnVlOwogICAgfSwKICAgIC8vIOWFs+mXreWNj+WVhuS7t+agvOahhgogICAgY2xvc2VDb25zdWx0UHJpY2VEaWFsb2coKSB7CiAgICAgIHRoaXMuY29uc3VsdENvc3RQYXJhbXMgPSB7CiAgICAgICAgb3JkZXJTbjogbnVsbCwKICAgICAgICBhbW91bnQ6IG51bGwsCiAgICAgICAgcmVtYXJrczogbnVsbCwKICAgICAgICB0eXBlOiBudWxsLAogICAgICB9OwogICAgICB0aGlzLiRyZWZzWyJjb25zdWx0Q29zdEZvcm0iXS5yZXNldEZpZWxkcygpOwogICAgICB0aGlzLmNvbnN1bHRQcmljZVZpc2libGUgPSBmYWxzZTsKICAgIH0sCiAgICAvLyDliKDpmaTop4bpopEKICAgIGRlbEV4YW1pbmVGYXVsdHNGb3JtVmlkZW8oKSB7CiAgICAgIHRoaXMuZXhhbWluZUZhdWx0c0Zvcm1WaWRlb0xpc3QgPSBbXTsKICAgICAgdGhpcy5leGFtaW5lRmF1bHRzRm9ybS5pbWFnZVsxXSA9IG51bGw7CiAgICB9LAogICAgLy8g5p+l55yL6KeG6aKRCiAgICB2aWV3VmlkZW8odXJsKSB7CiAgICAgIHdpbmRvdy5vcGVuKHVybCk7CiAgICB9LAogICAgLy8g5LiK5Lyg5pWF6Zqc6KeG6aKRCiAgICBhc3luYyB1cGxvYWRFeGFtaW5lRmF1bHRzRm9ybVZpZGVvTGlzdChmaWxlRGF0YSkgewogICAgICBjb25zdCBsb2FkaW5nID0gdGhpcy4kbG9hZGluZyh7CiAgICAgICAgbG9jazogdHJ1ZSwKICAgICAgICB0ZXh0OiAi5LiK5Lyg5pWF6Zqc6KeG6aKRLi4uIiwKICAgICAgICBzcGlubmVyOiAiZWwtaWNvbi1sb2FkaW5nIiwKICAgICAgICBiYWNrZ3JvdW5kOiAicmdiYSgwLCAwLCAwLCAwLjcpIiwKICAgICAgfSk7CiAgICAgIGxldCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICBmb3JtRGF0YS5hcHBlbmQoImZpbGUiLCBmaWxlRGF0YS5maWxlKTsKICAgICAgY29uc3QgcmVzID0gYXdhaXQgVXBsb2FkSW1nKGZvcm1EYXRhKTsKICAgICAgaWYgKHJlcykgewogICAgICAgIGxvYWRpbmcuY2xvc2UoKTsKICAgICAgICBpZiAocmVzLmRhdGEpIHsKICAgICAgICAgIGlmICghdGhpcy5leGFtaW5lRmF1bHRzRm9ybS5pbWFnZSkgewogICAgICAgICAgICB0aGlzLmV4YW1pbmVGYXVsdHNGb3JtLmltYWdlID0gW107CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLmV4YW1pbmVGYXVsdHNGb3JtLmltYWdlWzFdID0gcmVzLmRhdGE7CiAgICAgICAgICB0aGlzLmV4YW1pbmVGYXVsdHNGb3JtVmlkZW9MaXN0ID0gW3sgdXJsOiByZXMuZGF0YSB9XTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAvLyDkuIrkvKDmlYXpmpzlm77niYcKICAgIGFzeW5jIHVwbG9hZEV4YW1pbmVGYXVsdHNGb3JtUGljTGlzdChmaWxlRGF0YSkgewogICAgICBjb25zdCBsb2FkaW5nID0gdGhpcy4kbG9hZGluZyh7CiAgICAgICAgbG9jazogdHJ1ZSwKICAgICAgICB0ZXh0OiAi5LiK5Lyg5pWF6Zqc5Zu+54mHLi4uIiwKICAgICAgICBzcGlubmVyOiAiZWwtaWNvbi1sb2FkaW5nIiwKICAgICAgICBiYWNrZ3JvdW5kOiAicmdiYSgwLCAwLCAwLCAwLjcpIiwKICAgICAgfSk7CiAgICAgIGxldCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICBmb3JtRGF0YS5hcHBlbmQoImZpbGUiLCBmaWxlRGF0YS5maWxlKTsKICAgICAgY29uc3QgcmVzID0gYXdhaXQgVXBsb2FkSW1nKGZvcm1EYXRhKTsKICAgICAgaWYgKHJlcykgewogICAgICAgIGxvYWRpbmcuY2xvc2UoKTsKICAgICAgICBpZiAocmVzLmRhdGEpIHsKICAgICAgICAgIGlmICghdGhpcy5leGFtaW5lRmF1bHRzRm9ybS5pbWFnZSkgewogICAgICAgICAgICB0aGlzLmV4YW1pbmVGYXVsdHNGb3JtLmltYWdlID0gW107CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLmV4YW1pbmVGYXVsdHNGb3JtLmltYWdlWzBdID0gcmVzLmRhdGE7CiAgICAgICAgICB0aGlzLmV4YW1pbmVGYXVsdHNGb3JtUGljTGlzdCA9IFt7IHVybDogcmVzLmRhdGEgfV07CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgLy8g56Gu5a6a5paw5aKeCiAgICBhc3luYyBjb25maXJtQWRkRmF1bHQoKSB7CiAgICAgIGlmICghdGhpcy5jaG9vc2VGYXVsdEl0ZW1WYWwuaWQpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fpgInmi6nopoHmlrDlop7nmoTmlYXpmpzpobnnm64iLAogICAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgIH0pOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBjb25zdCByZXMgPSBhd2FpdCBhZGRPcmRlckZhdWx0SXRlbSh0aGlzLmNob29zZUZhdWx0SXRlbVZhbCk7CiAgICAgIGlmIChyZXMubWVzc2FnZSA9PSAi5pON5L2c5oiQ5YqfIikgewogICAgICAgIGF3YWl0IHRoaXMuX2dldFJlcGFpck9yZGVyRGV0YWlsKCk7CiAgICAgICAgdGhpcy5jbG9zZUFkZEZhdWx0RGlhbG9nKCk7CiAgICAgIH0KICAgIH0sCgogICAgLy8g5YWz6Zet5pWF6Zqc6aG555uu5qGGCiAgICBjbG9zZUFkZEZhdWx0RGlhbG9nKCkgewogICAgICB0aGlzLmNob29zZUZhdWx0SXRlbVZhbCA9IHt9OwogICAgICB0aGlzLnF1ZXJ5RmF1bHRJdGVtc1BhcmFtcyA9IHsKICAgICAgICBwYWdlTm86IDEsCiAgICAgICAgcGFnZVNpemU6IDEwLAogICAgICAgIHF1ZXJ5OiBudWxsLAogICAgICB9OwogICAgICB0aGlzLmFkZEZhdWx0VmlzaWJsZSA9IGZhbHNlOwogICAgfSwKICAgIC8vIOmAmui/h+aVhemanOaPj+i/sOafpeivouaVhemanOmhueebruWIl+ihqAogICAgYXN5bmMgc2VhcmNoRmF1bHRMaXN0KCkgewogICAgICB0aGlzLnF1ZXJ5RmF1bHRJdGVtc1BhcmFtcy5wYWdlTm8gPSAxOwogICAgICBhd2FpdCB0aGlzLnF1ZXJ5RmF1bHRJdGVtcygpOwogICAgfSwKICAgIC8vIOS/ruaUueaVhemanOmhueebrumhteaVsAogICAgYXN5bmMgY2hhbmdlRmF1bHREaWFsb2dQYWdlKHBhZ2UpIHsKICAgICAgdGhpcy5xdWVyeUZhdWx0SXRlbXNQYXJhbXMucGFnZU5vID0gcGFnZTsKICAgICAgYXdhaXQgdGhpcy5xdWVyeUZhdWx0SXRlbXMoKTsKICAgIH0sCiAgICAvLyDpgInmi6nmlYXpmpzpobnnm64KICAgIGNob29zZUZhdWx0SXRlbSh2YWwpIHsKICAgICAgdGhpcy5jaG9vc2VGYXVsdEl0ZW1WYWwgPSB7IC4uLnRoaXMuY2hvb3NlRmF1bHRJdGVtVmFsLCAuLi52YWwgfTsKICAgIH0sCiAgICAvLyDmn6Xor6LmlYXpmpzmj4/ov7AKICAgIGFzeW5jIHF1ZXJ5RmF1bHRJdGVtcygpIHsKICAgICAgY29uc3QgcmVzID0gYXdhaXQgcXVlcnlGYXVsdEl0ZW1zKHRoaXMucXVlcnlGYXVsdEl0ZW1zUGFyYW1zKTsKICAgICAgdGhpcy5mYXVsdEl0ZW1MaXN0ID0gcmVzLmRhdGEucmVjb3JkczsKICAgICAgdGhpcy5mYXVsdEl0ZW1QYWdlcyA9IHJlcy5kYXRhLnBhZ2VzOwogICAgICB0aGlzLmZhdWx0SXRlbVRvdGFsID0gcmVzLmRhdGEudG90YWw7CiAgICB9LAogICAgLy8g5omT5byA5paw5aKe6aG555uu5qGGCiAgICBhc3luYyBvcGVuQWRkRmF1bHREaWFsb2cob3JkZXJTbikgewogICAgICBhd2FpdCB0aGlzLnF1ZXJ5RmF1bHRJdGVtcygpOwogICAgICB0aGlzLmNob29zZUZhdWx0SXRlbVZhbC5vcmRlclNuID0gb3JkZXJTbjsKICAgICAgdGhpcy5hZGRGYXVsdFZpc2libGUgPSB0cnVlOwogICAgfSwKICAgIC8vIOWFs+mXreS/ruaUueW3ruivhOmHkemineahhgogICAgY2xvc2VFZGl0QmFkUGlyY2UoKSB7CiAgICAgIHRoaXMuZWRpdEJhZFBpcmNlU2hvdyA9IGZhbHNlOwogICAgICB0aGlzLmVkaXRCYWRQaXJjZURhdGEgPSB7CiAgICAgICAgb3BlcmF0ZVR5cGU6ICIiLAogICAgICAgIGFtb3VudDogIiIsCiAgICAgICAgb3JkZXJTbjogIiIsCiAgICAgIH07CiAgICB9LAogICAgLy8g56Gu6K6k5L+u5pS55beu6K+E6YeR6aKdCiAgICBhc3luYyBjb25maXJtRWRpdEJhZFBpcmNlKCkgewogICAgICBjb25zdCByZXMgPSBhd2FpdCBoYW5kbGVNYXN0ZXJBbW91bnQodGhpcy5lZGl0QmFkUGlyY2VEYXRhKTsKICAgICAgaWYgKHJlcy5tZXNzYWdlID09ICLmk43kvZzmiJDlip8iKSB7CiAgICAgICAgdGhpcy5fZ2V0UmVwYWlyT3JkZXJEZXRhaWwoKTsKICAgICAgICB0aGlzLmNsb3NlRWRpdEJhZFBpcmNlKCk7CiAgICAgIH0KICAgIH0sCiAgICAvLyDmiZPlvIDkv67mlLnlt67or4Tph5Hpop3moYYKICAgIG9wZW5FZGl0QmFkUGlyY2UoKSB7CiAgICAgIHRoaXMuZWRpdEJhZFBpcmNlU2hvdyA9IHRydWU7CiAgICAgIHRoaXMuZWRpdEJhZFBpcmNlRGF0YS5vcmRlclNuID0gdGhpcy5vcmRlclNuOwogICAgfSwKICAgIC8vIOS4gOmUruWvhOS/rgogICAgb25lQ2xpY2tTZW5kcmVwYWlyRm4oKSB7CiAgICAgIHRoaXMuJGNvbmZpcm0oIuehruiupOmFjeS7tuS/oeaBr+aXoOivr++8jOS4gOmUruWvhOS/riIsICLkuIDplK7lr4Tkv64iLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICLnoa7lrpoiLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICLlj5bmtogiLAogICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgfSkudGhlbihhc3luYyAoKSA9PiB7CiAgICAgICAgLy8gIOS4gOmUruWvhOS/rgogICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHNlbmRSZXBhaXIodGhpcy5vcmRlclNuKTsKICAgICAgICBpZiAocmVzLm1lc3NhZ2UgPT0gIuaTjeS9nOaIkOWKnyIpIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgIG1lc3NhZ2U6IHJlcy5tZXNzYWdlLAogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLl9nZXRSZXBhaXJPcmRlckRldGFpbCgpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8g5Yig6Zmk6YWN5Lu25Zu+54mHCiAgICBkZWxVcGxvYWRQYXJ0SW1nKCkgewogICAgICB0aGlzLnBhcnRJbmZvLmltYWdlID0gIiI7CiAgICAgIHRoaXMudXBsb2FkUGFydEltZ0xpc3QgPSBbXTsKICAgIH0sCiAgICAvLyDnoa7lrprkvpvlupTllYYKICAgIGFzeW5jIGNvbmZpcm1TZXRMb2dpc3RpY3MoKSB7CiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZpbGxMb2dpc3RpY3NJbmZvcm1hdGlvbih0aGlzLnNldExvZ2lzdGljc0RhdGEpOwogICAgICBpZiAocmVzLm1lc3NhZ2UgPT0gIuaTjeS9nOaIkOWKnyIpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgIG1lc3NhZ2U6ICLmk43kvZzmiJDlip8hIiwKICAgICAgICB9KTsKICAgICAgICB0aGlzLl9nZXRSZXBhaXJPcmRlckRldGFpbCgpOwogICAgICAgIHRoaXMuY2xvc2VTZXRMb2dpc3RpY3MoKTsKICAgICAgfQogICAgfSwKICAgIC8vIOWFs+mXreiuvue9rueJqea1geahhgogICAgY2xvc2VTZXRMb2dpc3RpY3MoKSB7CiAgICAgIHRoaXMuc2V0TG9naXN0aWNzRGF0YSA9IHsKICAgICAgICBzdXBwbGllcklkOiBudWxsLAogICAgICAgIHN1cHBsaWVyTmFtZTogbnVsbCwKICAgICAgfTsKICAgICAgdGhpcy5tYWludGVuYW5jZVN1cHBsaWVySW5mb1F1ZXJ5ID0gbnVsbDsKICAgICAgdGhpcy5zZXRMb2dpc3RpY3NEaWFsb2dTaG93ID0gZmFsc2U7CiAgICB9LAogICAgLy8g5L6b5bqU5ZWG5pS55Y+Y5pe2CiAgICBjaGFuZ2VTdXBwbGllcihlKSB7CiAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5zdXBwbGllckxpc3QuZmluZEluZGV4KAogICAgICAgIChpdGVtKSA9PiBpdGVtLnN1cHBsaWVyTmFtZSA9PSBlCiAgICAgICk7CiAgICAgIHRoaXMuc2V0TG9naXN0aWNzRGF0YS5zdXBwbGllcklkID0gdGhpcy5zdXBwbGllckxpc3RbaW5kZXhdLmlkOwogICAgfSwKICAgIC8vIOaJk+W8gOiuvue9rueJqea1geahhgogICAgYXN5bmMgb3BlblNldExvZ2lzdGljcyhyb3csIG9yZGVyU24pIHsKICAgICAgdGhpcy5zZXRMb2dpc3RpY3NEYXRhLm9yZGVyU24gPSBvcmRlclNuOwogICAgICB0aGlzLnNldExvZ2lzdGljc0RhdGEuaWQgPSByb3cuaWQ7CiAgICAgIHRoaXMuc2V0TG9naXN0aWNzRGF0YS5tb2RlbCA9IHJvdy5tb2RlbDsKICAgICAgaWYgKHJvdy5zdXBwbGllcklkKSB7CiAgICAgICAgY29uc3QgeyBzdXBwbGllcklkLCBzdXBwbGllck5hbWUgfSA9IHJvdzsKICAgICAgICB0aGlzLnNldExvZ2lzdGljc0RhdGEuc3VwcGxpZXJJZCA9IHN1cHBsaWVySWQ7CiAgICAgICAgdGhpcy5zZXRMb2dpc3RpY3NEYXRhLnN1cHBsaWVyTmFtZSA9IHN1cHBsaWVyTmFtZTsKICAgICAgfQogICAgICBjb25zdCByZXMgPSBhd2FpdCBxdWVyeU1haW50ZW5hbmNlU3VwcGxpZXJJbmZvKCIiKTsKICAgICAgdGhpcy5zdXBwbGllckxpc3QgPSByZXMuZGF0YTsKICAgICAgdGhpcy5zZXRMb2dpc3RpY3NEaWFsb2dTaG93ID0gdHJ1ZTsKICAgIH0sCiAgICAvLyDnoa7lrprmlrDlop7kv67mlLnphY3ku7YKICAgIGFzeW5jIGNvbmZpcm1BZGRFZGl0UGFydCgpIHsKICAgICAgYXdhaXQgdGhpcy4kcmVmc1sicGFydEluZm9SdWxlRm9ybSJdLnZhbGlkYXRlKCk7CiAgICAgIGNvbnN0IGRhdGEgPSB7IC4uLnRoaXMucGFydEluZm8gfTsKICAgICAgLy8gaWYgKGRhdGEuc3Rhc2hQYXJ0c1dheSA9PSAxKSB7CiAgICAgIC8vICAgZGF0YS5pZCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDAwKTsKICAgICAgLy8gfQogICAgICBjb25zdCByZXMgPSBhd2FpdCBlZGl0UGFydFByb2R1Y3QoZGF0YSk7CiAgICAgIGlmIChyZXMubWVzc2FnZSA9PSAi5pON5L2c5oiQ5YqfIikgewogICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgbWVzc2FnZTogIuaTjeS9nOaIkOWKnyEiLAogICAgICAgIH0pOwogICAgICAgIHRoaXMuX2dldFJlcGFpck9yZGVyRGV0YWlsKCk7CiAgICAgICAgdGhpcy5jbG9zZUFkZEVkaXRQYXJ0KCk7CiAgICAgIH0KICAgIH0sCiAgICAvLyDpgInmi6nphY3ku7bmnaXmupDop6blj5EKICAgIGNoYW5nZVN0YXNoUGFydHNXYXkoKSB7CiAgICAgIHRoaXMucGFydEluZm8uYnJhbmQgPSAiIjsKICAgICAgdGhpcy5wYXJ0SW5mby5icmFuZElkID0gIiI7CiAgICAgIHRoaXMucGFydEluZm8ucGFyYW1ldGVyID0gIiI7CiAgICAgIHRoaXMucGFydEluZm8ubmFtZSA9ICIiOwogICAgICB0aGlzLnBhcnRJbmZvLm51bWJlciA9ICIiOwogICAgICB0aGlzLnBhcnRJbmZvLnVuaXRJZCA9ICIiOwogICAgICB0aGlzLnBhcnRJbmZvLnByaWNlID0gIiI7CiAgICAgIHRoaXMucGFydEluZm8ucGFydElkID0gIiI7CiAgICB9LAogICAgLy8g5LiK5Lyg6YWN5Lu25Zu+54mHCiAgICBhc3luYyB1cGxvYWRQYXJ0SW1nKGZpbGVEYXRhKSB7CiAgICAgIGNvbnN0IGxvYWRpbmcgPSB0aGlzLiRsb2FkaW5nKHsKICAgICAgICBsb2NrOiB0cnVlLAogICAgICAgIHRleHQ6ICLlm77niYfkuIrkvKDkuK0uLi4iLAogICAgICAgIHNwaW5uZXI6ICJlbC1pY29uLWxvYWRpbmciLAogICAgICAgIGJhY2tncm91bmQ6ICJyZ2JhKDAsIDAsIDAsIDAuNykiLAogICAgICB9KTsKICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgbG9hZGluZy5jbG9zZSgpOwogICAgICB9LCA3MDAwKTsKICAgICAgbGV0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgIGZvcm1EYXRhLmFwcGVuZCgiZmlsZSIsIGZpbGVEYXRhLmZpbGUpOwogICAgICBjb25zdCByZXMgPSBhd2FpdCBVcGxvYWRJbWcoZm9ybURhdGEpOwogICAgICB0aGlzLnBhcnRJbmZvLmltYWdlID0gcmVzLmRhdGE7CiAgICAgIHRoaXMudXBsb2FkUGFydEltZ0xpc3QgPSBbeyB1cmw6IHJlcy5kYXRhIH1dOwogICAgICBsb2FkaW5nLmNsb3NlKCk7CiAgICB9LAogICAgLy8g5YWz6Zet6YWN5Lu25paw5aKe5L+u5pS55qGGCiAgICBjbG9zZUFkZEVkaXRQYXJ0KCkgewogICAgICB0aGlzLnBhcnRJbmZvID0gewogICAgICAgIHN0YXNoUGFydHNXYXk6IDEsCiAgICAgICAgYnJhbmQ6ICIiLAogICAgICAgIGJyYW5kSWQ6ICIiLAogICAgICAgIGltYWdlOiAiIiwKICAgICAgICBtb2RlbDogIiIsCiAgICAgICAgbmFtZTogIiIsCiAgICAgICAgbnVtOiAiIiwKICAgICAgICBudW1iZXI6ICIiLAogICAgICAgIHBhcmFtZXRlcjogIiIsCiAgICAgICAgcHJpY2U6ICIiLAogICAgICAgIHR5cGU6ICIiLAogICAgICAgIGlkOiAiIiwgLy/phY3ku7bpoblpZAogICAgICAgIHBhcnRJZDogIiIsIC8v6YWN5Lu2aWQKICAgICAgfTsKICAgICAgdGhpcy51cGxvYWRQYXJ0SW1nTGlzdCA9IFtdOwogICAgICB0aGlzLmFkZEVkaXRQYXJ0RGlhbG9nU2hvdyA9IGZhbHNlOwogICAgfSwKICAgIC8vIOehruWumumAieS4reeahOS7k+W6k+mFjeS7tgogICAgY29tZmlybVdhcmVob3VzZVBhcnQoKSB7CiAgICAgIGNvbnN0IHsgYnJhbmRJZCwgYnJhbmROYW1lLCBpZCwgbW9kZWwsIG5hbWUsIG51bWJlciwgdW5pdElkLCBwcmljZSB9ID0KICAgICAgICB0aGlzLmpkUHJvZHVjdExpc3RbdGhpcy5jaG9vc2VQYXJ0SW5kZXhdOwogICAgICB0aGlzLnBhcnRJbmZvLmJyYW5kID0gYnJhbmROYW1lOwogICAgICB0aGlzLnBhcnRJbmZvLmJyYW5kSWQgPSBicmFuZElkOwogICAgICB0aGlzLnBhcnRJbmZvLnBhcnRJZCA9IGlkOwogICAgICB0aGlzLnBhcnRJbmZvLnBhcmFtZXRlciA9IG1vZGVsOwogICAgICB0aGlzLnBhcnRJbmZvLm5hbWUgPSBuYW1lOwogICAgICB0aGlzLnBhcnRJbmZvLm51bWJlciA9IG51bWJlcjsKICAgICAgdGhpcy5wYXJ0SW5mby51bml0SWQgPSB1bml0SWQ7CiAgICAgIHRoaXMucGFydEluZm8ucHJpY2UgPSBwcmljZTsKICAgICAgdGhpcy5jbG9zZVdhcmVob3VzZVNlYXJjaCgpOwogICAgfSwKICAgIC8vIOWFs+mXreS7k+W6k+aQnOe0ouahhgogICAgYXN5bmMgY2xvc2VXYXJlaG91c2VTZWFyY2goKSB7CiAgICAgIHRoaXMucXVlcnlKZFByb2R1Y3RMaXN0UGFyYW1zLnF1ZXJ5ID0gIiI7CiAgICAgIHRoaXMuamRQcm9kdWN0TGlzdCA9IFtdOwogICAgICB0aGlzLnF1ZXJ5SmRQcm9kdWN0TGlzdCgpOwogICAgICB0aGlzLndhcmVob3VzZVNlYXJjaERpYWxvZ1Nob3cgPSBmYWxzZTsKICAgIH0sCiAgICAvLyDmn6Xor6Lph5Honbbku5PlupPphY3ku7YKICAgIGFzeW5jIHF1ZXJ5SmRQcm9kdWN0TGlzdCgpIHsKICAgICAgdGhpcy5jaG9vc2VQYXJ0SW5kZXggPSBudWxsOwogICAgICBjb25zdCByZXMgPSBhd2FpdCBxdWVyeUpkUHJvZHVjdExpc3QodGhpcy5xdWVyeUpkUHJvZHVjdExpc3RQYXJhbXMpOwogICAgICB0aGlzLmpkUHJvZHVjdExpc3QgPSByZXMuZGF0YS5yZWNvcmRzOwogICAgfSwKICAgIC8vIOaJk+W8gOS7k+W6k+aQnOe0ouahhgogICAgb3BlbldhcmVob3VzZVNlYXJjaCgpIHsKICAgICAgdGhpcy53YXJlaG91c2VTZWFyY2hEaWFsb2dTaG93ID0gdHJ1ZTsKICAgICAgdGhpcy5xdWVyeUpkUHJvZHVjdExpc3QoKTsKICAgIH0sCiAgICAvLyDmiZPlvIDmlrDlop7kv67mlLnphY3ku7YKICAgIG9wZW5BZGRFZGl0UGFydChyb3csIGluZGV4LCBvcmRlclNuKSB7CiAgICAgIGlmIChpbmRleCB8fCBpbmRleCA9PSAwKSB7CiAgICAgICAgdGhpcy5wYXJ0SW5mbyA9IHsgLi4ucm93IH07CiAgICAgICAgdGhpcy51cGxvYWRQYXJ0SW1nTGlzdCA9IFt7IHVybDogcm93LmltYWdlIH1dOwogICAgICAgIHRoaXMuYWRkRWRpdFBhcnRUaXRsZSA9ICLkv67mlLnphY3ku7YiOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuYWRkRWRpdFBhcnRUaXRsZSA9ICLmlrDlop7phY3ku7YiOwogICAgICB9CiAgICAgIHRoaXMucGFydEluZm8ub3JkZXJTbiA9IG9yZGVyU247CiAgICAgIHRoaXMuYWRkRWRpdFBhcnREaWFsb2dTaG93ID0gdHJ1ZTsKICAgIH0sCgogICAgLy8g56Gu5a6a5a+E5L+uCiAgICBhc3luYyBjb25maXJtU2VuZHJlcGFpcigpIHsKICAgICAgYXdhaXQgc2VuZFJlcGFpcih0aGlzLm9yZGVyU24pOwogICAgICB0aGlzLmNsb3NlT25lQ2xpY2tTZW5kcmVwYWlyKCk7CiAgICB9LAogICAgLy8g5YWz6Zet5LiA6ZSu5a+E5L+uCiAgICBjbG9zZU9uZUNsaWNrU2VuZHJlcGFpcigpIHsKICAgICAgdGhpcy5vbmVDbGlja1NlbmRyZXBhaXIgPSBmYWxzZTsKICAgIH0sCiAgICAvLyDmiZPlvIDkuIDplK7lr4Tkv64KICAgIG9wZW5PbmVDbGlja1NlbmRyZXBhaXIoKSB7CiAgICAgIHRoaXMub25lQ2xpY2tTZW5kcmVwYWlyID0gdHJ1ZTsKICAgIH0sCiAgICAvLyDnoa7lrprlrqHmoLjmlYXpmpzpobnnm64KICAgIGFzeW5jIGNvbWZpcm1FeGFtaW5lRmF1bHRzKCkgewogICAgICBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLmV4YW1pbmVGYXVsdHNGb3JtLmltYWdlKSkgewogICAgICAgIHRoaXMuZXhhbWluZUZhdWx0c0Zvcm0uaW1hZ2UgPSBKU09OLnN0cmluZ2lmeSgKICAgICAgICAgIHRoaXMuZXhhbWluZUZhdWx0c0Zvcm0uaW1hZ2UKICAgICAgICApOwogICAgICB9CiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGV4YW1pbmVGYXVsdEl0ZW0odGhpcy5leGFtaW5lRmF1bHRzRm9ybSk7CiAgICAgIGlmIChyZXMubWVzc2FnZSA9PSAi5pON5L2c5oiQ5YqfIikgewogICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgbWVzc2FnZTogIuaTjeS9nOaIkOWKnyEiLAogICAgICAgIH0pOwogICAgICAgIGF3YWl0IHRoaXMuY2xvc2VFeGFtaW5lRmF1bHRzRGlhbG9nKCk7CiAgICAgICAgYXdhaXQgdGhpcy5fZ2V0UmVwYWlyT3JkZXJEZXRhaWwoKTsKICAgICAgfQogICAgfSwKICAgIC8vIOWFs+mXreaVhemanOmhueebruWuoeaguOahhgogICAgYXN5bmMgY2xvc2VFeGFtaW5lRmF1bHRzRGlhbG9nKCkgewogICAgICB0aGlzLmV4YW1pbmVGYXVsdHNGb3JtVmlkZW9MaXN0ID0gW107CiAgICAgIHRoaXMuZXhhbWluZUZhdWx0c0Zvcm1QaWNMaXN0ID0gW107CiAgICAgIHRoaXMuZXhhbWluZUZhdWx0c0Zvcm0gPSB7fTsKICAgICAgdGhpcy5leGFtaW5lRmF1bHRzID0gZmFsc2U7CiAgICB9LAogICAgLy8g5omT5byA5pWF6Zqc6aG555uu5a6h5qC45qGGCiAgICBvcGVuRXhhbWluZUZhdWx0c0RpYWxvZyhyb3csIG9yZGVyU24pIHsKICAgICAgcm93LmVudGVycHJpc2VDb25zdWx0QW1vdW50ID0gcm93LmFubnVhbEFtb3VudDsKICAgICAgaWYgKHJvdy5pbWFnZSkgewogICAgICAgIGlmIChyb3cuaW1hZ2VbMF0pIHsKICAgICAgICAgIHRoaXMuZXhhbWluZUZhdWx0c0Zvcm1QaWNMaXN0ID0gW3sgdXJsOiByb3cuaW1hZ2VbMF0gfV07CiAgICAgICAgfQogICAgICAgIGlmIChyb3cuaW1hZ2VbMV0pIHsKICAgICAgICAgIHRoaXMuZXhhbWluZUZhdWx0c0Zvcm1WaWRlb0xpc3QgPSBbeyB1cmw6IHJvdy5pbWFnZVsxXSB9XTsKICAgICAgICB9CiAgICAgIH0KICAgICAgdGhpcy5leGFtaW5lRmF1bHRzRm9ybSA9IHsgLi4ucm93IH07CiAgICAgIGlmIChBcnJheS5pc0FycmF5KHJvdy5pbWFnZSkgJiYgcm93LmltYWdlLmxlbmd0aCA+IDApIHsKICAgICAgICB0aGlzLmV4YW1pbmVGYXVsdHNGb3JtLmltYWdlID0gWy4uLnJvdy5pbWFnZV07CiAgICAgIH0KICAgICAgdGhpcy5leGFtaW5lRmF1bHRzRm9ybS5vcmRlclNuID0gb3JkZXJTbjsKICAgICAgdGhpcy5leGFtaW5lRmF1bHRzID0gdHJ1ZTsKICAgIH0sCiAgICAvLyDliKDpmaTmlYXpmpzpobnnm64KICAgIGFzeW5jIGRlbFNvbHZlUGxhbihyb3csIG9yZGVyU24pIHsKICAgICAgdGhpcy4kY29uZmlybSgi5oKo56Gu5a6a5Yig6Zmk6K+l5pWF6Zqc6aG555uu5ZCXPyIsICLmj5DnpLoiLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICLnoa7lrpoiLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICLlj5bmtogiLAogICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgfSkudGhlbihhc3luYyAoKSA9PiB7CiAgICAgICAgY29uc29sZS5sb2cocm93LmlkKTsKICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBkZWxldGVPcmRlckZhdWx0SXRlbSh7CiAgICAgICAgICBpZDogcm93LmlkLAogICAgICAgICAgb3JkZXJTbiwKICAgICAgICB9KTsKICAgICAgICBpZiAocmVzLm1lc3NhZ2UgPT0gIuaTjeS9nOaIkOWKnyIpIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgIG1lc3NhZ2U6ICLliKDpmaTmiJDlip8iLAogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLl9nZXRSZXBhaXJPcmRlckRldGFpbCgpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8g5L+u5pS55oql5Lu3CiAgICBhc3luYyBlZGl0T2ZmZXJQcmljZSgpIHsKICAgICAgLy8g6K6h566X5Lu35qC8CiAgICAgIGxldCBwYXJ0c1ByaWNlID0gMDsKICAgICAgdGhpcy5kYXRhLnBhcnRzTGlzdC5mb3JFYWNoKChpdGVtKSA9PiB7CiAgICAgICAgcGFydHNQcmljZSArPSBpdGVtLm51bSAqIGl0ZW0ucHJpY2U7CiAgICAgIH0pOwogICAgICB0aGlzLmRhdGEucGFydHNBbW91bnQgPSBwYXJ0c1ByaWNlOwogICAgICBsZXQgZmF1bHRzUHJpY2UgPSAwOwogICAgICB0aGlzLmRhdGEuZmF1bHRzLmZvckVhY2goKGl0ZW0pID0+IHsKICAgICAgICBmYXVsdHNQcmljZSArPSBOdW1iZXIoaXRlbS5tYXN0ZXJBbW91bnQpOwogICAgICB9KTsKICAgICAgdGhpcy5kYXRhLmRvb3JBbW91bnQgPSBmYXVsdHNQcmljZTsKICAgICAgY29uc3QgZmF1bHRzU3RyID0gSlNPTi5zdHJpbmdpZnkodGhpcy5kYXRhLmZhdWx0cyk7CiAgICAgIGNvbnN0IHBhcnRzTGlzdFN0ciA9IEpTT04uc3RyaW5naWZ5KHRoaXMuZGF0YS5wYXJ0c0xpc3QpOwogICAgICB0aGlzLmRhdGEuZmF1bHRzID0gZmF1bHRzU3RyOwogICAgICB0aGlzLmRhdGEucGFydHMgPSBwYXJ0c0xpc3RTdHI7CiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGVkaXRSZXBhaXJPcmRlcih0aGlzLmRhdGEpOwogICAgICBpZiAocmVzLm1lc3NhZ2UgPT09ICLmk43kvZzmiJDlip8iKSB7CiAgICAgICAgdGhpcy5fZ2V0UmVwYWlyT3JkZXJEZXRhaWwoKTsKICAgICAgfQogICAgfSwKICAgIC8vIOWIoOmZpOmFjeS7tuaooeW8jwogICAgYXN5bmMgZGVsUGFydHNMaXN0KHJvdywgb3JkZXJTbikgewogICAgICB0aGlzLiRjb25maXJtKCLmgqjnoa7lrprliKDpmaTor6XphY3ku7blkJc/IiwgIuaPkOekuiIsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIuehruWumiIsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogIuWPlua2iCIsCiAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICB9KS50aGVuKGFzeW5jICgpID0+IHsKICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBkZWxldGVQYXJ0UHJvZHVjdCh7CiAgICAgICAgICBpZDogcm93LmlkLAogICAgICAgICAgb3JkZXJTbiwKICAgICAgICB9KTsKICAgICAgICBpZiAocmVzLm1lc3NhZ2UgPT0gIuaTjeS9nOaIkOWKnyIpIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgIG1lc3NhZ2U6ICLliKDpmaTmiJDlip8iLAogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLl9nZXRSZXBhaXJPcmRlckRldGFpbCgpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8g56Gu5a6a5a6h5qC4CiAgICBhc3luYyBjb21maXJtRXhhbWluZVBhcnRzKCkgewogICAgICBjb25zdCByZXMgPSBhd2FpdCBleGFtaW5lUGFydFByb2R1Y3QodGhpcy5leGFtaW5lUGFydHNGb3JtKTsKICAgICAgaWYgKHJlcy5tZXNzYWdlID09PSAi5pON5L2c5oiQ5YqfIikgewogICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgbWVzc2FnZTogcmVzLm1lc3NhZ2UsCiAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5jbG9zZUV4YW1pbmVQYXJ0c0RpYWxvZygpOwogICAgICAgIHRoaXMuX2dldFJlcGFpck9yZGVyRGV0YWlsKCk7CiAgICAgIH0KICAgIH0sCiAgICAvLyDlhbPpl63phY3ku7blrqHmoLjmoYYKICAgIGNsb3NlRXhhbWluZVBhcnRzRGlhbG9nKCkgewogICAgICB0aGlzLmV4YW1pbmVQYXJ0c0Zvcm0gPSBbXTsKICAgICAgdGhpcy5leGFtaW5lUGFydHMgPSBmYWxzZTsKICAgIH0sCiAgICAvLyDmiZPlvIDphY3ku7blrqHmoLjmoYYKICAgIG9wZW5FeGFtaW5lUGFydHNEaWFsb2cocm93LCBvcmRlclNuKSB7CiAgICAgIC8vIGNvbnN0IG9iaiA9IHJvdzsKICAgICAgLy8gdGhpcy5leGFtaW5lUGFydHNGb3JtID0geyAuLi5vYmogfTsKICAgICAgLy8gLy8gdGhpcy5leGFtaW5lUGFydHNGb3JtLm51bWJlciA9IG51bGw7CiAgICAgIC8vIHRoaXMuZXhhbWluZVBhcnRzRm9ybS5vcmRlclNuID0gdGhpcy5vcmRlclNuOwogICAgICAvLyB0aGlzLmV4YW1pbmVQYXJ0cyA9IHRydWU7CiAgICAgIHRoaXMuJGNvbmZpcm0oIuehruiupOmFjeS7tuS/oeaBr+aXoOivr++8jOmAmui/h+WuoeaguCIsICLlrqHmoLjphY3ku7YiLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICLnoa7lrpoiLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICLlj5bmtogiLAogICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgfSkudGhlbihhc3luYyAoKSA9PiB7CiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgZXhhbWluZVBhcnRQcm9kdWN0KHsKICAgICAgICAgIGlkOiByb3cuaWQsCiAgICAgICAgICBvcmRlclNuLAogICAgICAgIH0pOwogICAgICAgIGlmIChyZXMubWVzc2FnZSA9PSAi5pON5L2c5oiQ5YqfIikgewogICAgICAgICAgdGhpcy5fZ2V0UmVwYWlyT3JkZXJEZXRhaWwoKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOi3s+i9rOeJqea1geivpuaDhQogICAgZ29Ub0xvZ2lzdGljc0RldGFpbHMocGFydElkLCBtb2RlbCwgb3JkZXJTbikgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogImxvZ2lzdGljc0RldGFpbHMiLAogICAgICAgIHF1ZXJ5OiB7IHBhcnRJZCwgbW9kZWwsIG9yZGVyU24gfSwKICAgICAgfSk7CiAgICB9LAogICAgLy8g5Luj5o+Q5Lqk6aqM5pS2CiAgICBzdWJtaXRGb3JBY2NlcHRhbmNlKG9yZGVyU24pIHsKICAgICAgdGhpcy4kY29uZmlybSgi5oKo56Gu5a6a6KaB5pON5L2c5Luj5o+Q5Lqk6aqM5pS2PyIsICLmj5DnpLoiLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICLnoa7lrpoiLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICLlj5bmtogiLAogICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgfSkudGhlbihhc3luYyAoKSA9PiB7CiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgaGFuZGxlU3VibWl0QWNjZXB0YW5jZShvcmRlclNuKTsKICAgICAgICBpZiAocmVzLm1lc3NhZ2UgPT09ICLmk43kvZzmiJDlip8iKSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgbWVzc2FnZTogcmVzLm1lc3NhZ2UsCiAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgIH0pOwogICAgICAgICAgdGhpcy5fZ2V0UmVwYWlyT3JkZXJEZXRhaWwoKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOehruWumua3u+WKoOWbnuiuv+S/oeaBrwogICAgYXN5bmMgYWRkUmV0dXJuVmlzdEluZm8oKSB7CiAgICAgIGlmICghdGhpcy5wbGF0Zm9ybVZpc2l0TWVzc2FnZSkgewogICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgbWVzc2FnZTogIuWbnuiuv+S/oeaBr+S4jeiDveS4uuepuiIsCiAgICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgaGFuZGxlUmVwYWlyTWVzc2FnZSh7CiAgICAgICAgICBvcmRlclNuOiB0aGlzLm9yZGVyU24sCiAgICAgICAgICBwbGF0Zm9ybVZpc2l0TWVzc2FnZTogdGhpcy5wbGF0Zm9ybVZpc2l0TWVzc2FnZSwKICAgICAgICB9KTsKICAgICAgICBpZiAocmVzLm1lc3NhZ2UgPT0gIuaTjeS9nOaIkOWKnyIpIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICBtZXNzYWdlOiByZXMubWVzc2FnZSwKICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLl9nZXRSZXBhaXJPcmRlckRldGFpbCgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgbWVzc2FnZTogIue9kee7nOS4jeS9s++8jOeojeWQjumHjeivlSIsCiAgICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIC8vIOi3s+i9rOaMh+a0vuW4iOWChemhtemdogogICAgZ29Bc3NpZ25lZE1hc3RlclBhZ2UoKSB7CiAgICAgIGNvbnN0IHsgb3JkZXJTbiwgbWFzdGVyVWlkTGlzdCwgbWFzdGVyTmFtZUxpc3QgfSA9IHRoaXMuZGF0YTsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6ICIvbWFpbnRlbmFuY2UvYXNzaWduZWRXb3JrZXIiLAogICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICBvcmRlclNuLAogICAgICAgICAgbWFzdGVyVWlkTGlzdCwKICAgICAgICAgIG1hc3Rlck5hbWVMaXN0LAogICAgICAgIH0sCiAgICAgIH0pOwogICAgfSwKICAgIC8vIOWIpOaWreaMh+a0vuaMiemSruaYr+WQpuaYvuekugogICAganVkZ2VBc3NpZ25lZEJ0blNob3coKSB7CiAgICAgIGlmICh0aGlzLmRhdGEuZW50ZXJwcmlzZU1haW5TdGF0dXMgPT09IDEpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgICBpZiAodGhpcy5kYXRhLmVudGVycHJpc2VNYWluU3RhdHVzID09PSAwKSB7CiAgICAgICAgaWYgKHRoaXMuZGF0YS5wbGF0Zm9ybVN0YXR1cyAhPT0gMCkgewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKHRoaXMuZGF0YS5lbnRlcnByaXNlTWFpblN0YXR1cyA9PT0gLTEpIHsKICAgICAgICBpZiAodGhpcy5kYXRhLnBsYXRmb3JtU3RhdHVzID09PSAtMSkgewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgLy8g54K55Ye756Gu5a6a5re75Yqg5o+P6L+wCiAgICBhc3luYyBkZXNjQ29uZmlybSgpIHsKICAgICAgY29uc3QgZGF0YSA9IHsKICAgICAgICBjb250ZW50OiB0aGlzLmNvbnRlbnQsCiAgICAgICAgb3JkZXJTbjogdGhpcy5kYXRhLm9yZGVyU24sCiAgICAgIH07CiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGVkaXRPcmRlclNlcnZpY2VQcm9ncmVzcyhkYXRhKTsKICAgICAgaWYgKHJlcy5tZXNzYWdlID09PSAi5pON5L2c5oiQ5YqfIikgewogICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgICB9CiAgICB9LAogICAgLy8g54K55Ye75Y+W5raI6K6i5Y2V6Kem5Y+R55qE5pe26Ze0CiAgICBjbGlja0NhbmNlbE9yZGVyRGlhbG9nKCkgewogICAgICB0aGlzLmNhbmNlbE9yZGVyRGlhbG9nID0gdHJ1ZTsKICAgIH0sCiAgICAvLyDlhbPpl63lj5bmtojorqLljZXlvLnnqpfnmoTml7bpl7QKICAgIGNsb3NlY2FuY2VsT3JkZXJEaWFsb2coKSB7CiAgICAgIHRoaXMuY2FuY2VsT3JkZXJEaWFsb2cgPSBmYWxzZTsKICAgICAgdGhpcy5kZWxPcmRlcmlucFZhbHVlID0gIiI7CiAgICB9LAoKICAgIC8vIOWIpOaWremFjeS7tuaYjue7hgogICAganVkZ2VQYXJ0cygpIHsKICAgICAgaWYgKCF0aGlzLmRhdGEucGFydHNMaXN0KSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9IGVsc2UgaWYgKHRoaXMuZGF0YS5wYXJ0c0xpc3QgJiYgdGhpcy5kYXRhLnBhcnRzTGlzdC5sZW5ndGggPT09IDApIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgIH0sCiAgICAvLyDliKTmlq3mlYXpmpzop6PlhrPmlrnmoYgKICAgIGp1ZGdlRmF1bHQoKSB7CiAgICAgIGlmICghdGhpcy5kYXRhLnByb2dyYW1tZUxpc3QpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0gZWxzZSBpZiAoCiAgICAgICAgdGhpcy5kYXRhLnByb2dyYW1tZUxpc3QuYW5hbHlzaXMgPT09IHVuZGVmaW5lZCAmJgogICAgICAgIHRoaXMuZGF0YS5wcm9ncmFtbWVMaXN0LmRlc2MgPT09IHVuZGVmaW5lZCAmJgogICAgICAgIHRoaXMuZGF0YS5wcm9ncmFtbWVMaXN0LnByb2dyYW1tZSA9PT0gdW5kZWZpbmVkCiAgICAgICkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgfSwKICAgIC8vIOWIpOaWreiuouWNlei0ueeUqAogICAganVkZ2VPcmRlckNvc3QoKSB7CiAgICAgIGNvbnN0IHsgZG9vckFtb3VudCwgdGVjaG5vbG9neUFtb3VudCwgcGFydHNBbW91bnQsIG90aGVyQW1vdW50IH0gPQogICAgICAgIHRoaXMuZGF0YTsKICAgICAgaWYgKAogICAgICAgIGRvb3JBbW91bnQgPT09IDAgJiYKICAgICAgICB0ZWNobm9sb2d5QW1vdW50ID09PSAwICYmCiAgICAgICAgKG90aGVyQW1vdW50ID09PSAwKSAmIChwYXJ0c0Ftb3VudCA9PT0gMCkKICAgICAgKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CiAgICB9LAogICAgLy8g54K55Ye75Y+W5raI6K6i5Y2V5by556qX56Gu5a6a55qE5LqL5Lu2CiAgICBfY2FuY2VsUmVwYWlyT3JkZXIoKSB7CiAgICAgIGxldCBwYXJhbXMgPSB7CiAgICAgICAgb3JkZXJTbjogdGhpcy5vcmRlclNuLAogICAgICAgIGNhbmNlbFJlYXNvbjogdGhpcy5kZWxPcmRlcmlucFZhbHVlLAogICAgICB9OwogICAgICBjYW5jZWxSZXBhaXJPcmRlcihwYXJhbXMpLnRoZW4oKHJlcykgPT4gewogICAgICAgIGlmIChyZXMpIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICAgIG1lc3NhZ2U6IHJlcy5tZXNzYWdlLAogICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvbWFpbnRlbmFuY2UvbWFpbnRlbmFuY2Vfb3JkZXIiKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKCiAgICAvLyDmmoLml7bkuI3nn6XpgZPlubLlmJshISEhIQogICAgY2hhbmdlU3R1dGEoZSkgewogICAgICBpZiAoZS52YWx1ZSA9PSAxKSB7CiAgICAgICAgdGhpcy5zdGF0dXMgPSAyOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc3RhdHVzID0gMzsKICAgICAgfQogICAgfSwKICAgIC8vIOayoeeUqOWIsAogICAgc3J1ZUFjY29tb250KCkgewogICAgICB0aGlzLiRyZWZzLnF1b3RhdGlvbkZvcm0ub3BlbigpOwogICAgfSwKICAgIC8vIOeCueWHu+aJk+asvuiHs+W4iOWCheinpuWPkeeahOS6i+S7tgogICAgX2hhbmRsZU1hc3RlclBheW1lbnQoKSB7CiAgICAgIGxldCBwYXJhbXMgPSB7CiAgICAgICAgb3JkZXJTbjogdGhpcy5vcmRlclNuLAogICAgICB9OwogICAgICBoYW5kbGVNYXN0ZXJQYXltZW50KHBhcmFtcykudGhlbigocmVzKSA9PiB7CiAgICAgICAgaWYgKHJlcykgewogICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgICAgICAgICAgbWVzc2FnZTogcmVzLm1lc3NhZ2UsCiAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8g54K55Ye756Gu5a6a5oql5Lu36Kem5Y+R55qE5LqL5Lu2CiAgICBzdW1iaXRRdW90YXRpb24ob3JkZXJTbikgewogICAgICB0aGlzLiRjb25maXJtKCLnoa7orqTlrprku7fml6Dor68/IiwgIuaPkOekuiIsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIuehruWumiIsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogIuWPlua2iCIsCiAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICBjb25zdCBsb2FkaW5nID0gdGhpcy4kbG9hZGluZyh7CiAgICAgICAgICBsb2NrOiB0cnVlLAogICAgICAgICAgdGV4dDogIkxvYWRpbmciLAogICAgICAgICAgc3Bpbm5lcjogImVsLWljb24tbG9hZGluZyIsCiAgICAgICAgICBiYWNrZ3JvdW5kOiAicmdiYSgwLCAwLCAwLCAwLjcpIiwKICAgICAgICB9KTsKICAgICAgICBsZXQgZGF0YSA9IHsKICAgICAgICAgIG9yZGVyU24sCiAgICAgICAgICBzdGF0dXM6IDIsCiAgICAgICAgICByZWplY3RSZWFzb246ICIiLAogICAgICAgIH07CiAgICAgICAgZXhhbWluZU1hc3RlclF1b3RhdGlvbihkYXRhKQogICAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICBsb2FkaW5nLmNsb3NlKCk7CiAgICAgICAgICAgIGlmIChyZXMuc3VjY2VzcykgewogICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgICAgICAgICAgbWVzc2FnZTogcmVzLm1lc3NhZ2UsCiAgICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9tYWludGVuYW5jZS9tYWludGVuYW5jZV9vcmRlciIpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KQogICAgICAgICAgLmNhdGNoKCgpID0+IHsKICAgICAgICAgICAgbG9hZGluZy5jbG9zZSgpOwogICAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIGluaXQoKSB7CiAgICAvLyAgIHRoaXMuJGF4aW9zCiAgICAvLyAgICAgLmdldCgKICAgIC8vICAgICAgICIvYWRtaW4vbWFpbnRlbmFuY2UvZ2V0UmVwYWlyT3JkZXJEZXRhaWw/ZW50ZXJwcmlzZU9yZGVyU249IiArCiAgICAvLyAgICAgICAgIGxvY2F0aW9uLmhhc2guc3BsaXQoIj9lbnRlcnByaXNlT3JkZXJTbj0iKVsxXQogICAgLy8gICAgICkKICAgIC8vICAgICAudGhlbigoeyBkYXRhIH0pID0+IHsKICAgIC8vICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7CiAgICAvLyAgICAgfSkKICAgIC8vICAgICAuY2F0Y2goZXJyID0+IHsKICAgIC8vICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTsKICAgIC8vICAgICB9KTsKICAgIC8vIH0sCiAgICAvLyDmmL7npLrkvIHkuJrmiqXku7flvLnmoYYKICAgIC8vIOayoeeUqOWIsAogICAgcXVvdGF0aW9uSW5pdCgpIHsKICAgICAgdGhpcy5xdW90YXRpb25Gb3JtID0gewogICAgICAgIGVudGVycHJpc2VPcmRlclNuOiB0aGlzLmRhdGEub3JkZXJTbiwKICAgICAgICBzdGF0dXM6ICIwIiwKICAgICAgfTsKICAgICAgdGhpcy4kcmVmcy5xdW90YXRpb25Gb3JtLm9wZW4oKTsKICAgIH0sCiAgICAvLyBzdW1iaXRRdW90YXRpb24oZm4pIHsKICAgIC8vICAgaWYgKAogICAgLy8gICAgIHRoaXMucXVvdGF0aW9uRm9ybS5zdGF0dXMgPT0gIjAiICYmCiAgICAvLyAgICAgIXRoaXMucXVvdGF0aW9uRm9ybS5yZWplY3RSZWFzb24KICAgIC8vICAgKSB7CiAgICAvLyAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi6K+36L6T5YWl6amz5Zue5Y6f5ZugIik7CiAgICAvLyAgICAgcmV0dXJuOwogICAgLy8gICB9CiAgICAvLyAgIHRoaXMuJGF4aW9zCiAgICAvLyAgICAgLnBvc3QodGhpcy51cmwuaGFuZGxlTWFzdGVyUXVvdGF0aW9uLCB0aGlzLnF1b3RhdGlvbkZvcm0pCiAgICAvLyAgICAgLnRoZW4oZGF0YSA9PiB7CiAgICAvLyAgICAgICBpZiAoZGF0YS5jb2RlID09ICIwMDAiKSB7CiAgICAvLyAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgLy8gICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgIC8vICAgICAgICAgICBtZXNzYWdlOiBkYXRhLm1lc3NhZ2UsCiAgICAvLyAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiCiAgICAvLyAgICAgICAgIH0pOwogICAgLy8gICAgICAgICB0aGlzLnJlc2V0UXVvdGF0aW9uRm9ybShmbik7CiAgICAvLyAgICAgICB9CiAgICAvLyAgICAgfSkKICAgIC8vICAgICAuY2F0Y2goZXJyID0+IHsKICAgIC8vICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTsKICAgIC8vICAgICB9KTsKCiAgICAvLyB9LAogICAgLy8g5YWz6Zet56Gu6K6k5oql5Lu355qE5qih5oCB5qGG55qE5LqL5Lu2CiAgICByZXNldFF1b3RhdGlvbkZvcm0oZm4pIHsKICAgICAgdGhpcy5fZ2V0UmVwYWlyT3JkZXJEZXRhaWwoKTsKICAgICAgZm4oZmFsc2UpOwogICAgfSwKICAgIC8vIOeCueWHu+ajgOa1i+WumuS7t+inpuWPkeeahOS6i+S7tgogICAganVtcDJjaGVjaygpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICJjaGVja1ByaWNpbmciLAogICAgICAgIHF1ZXJ5OiB7IG9yZGVyU246IHRoaXMuZGF0YS5vcmRlclNuLCBlZGl0OiB0cnVlIH0sCiAgICAgIH0pOwogICAgfSwKICAgIC8vIOayoeeUqOi/hwogICAgcGF5KCkgewogICAgICB0aGlzLiRheGlvcwogICAgICAgIC5wb3N0KHRoaXMudXJsLmhhbmRsZUNvbmZpcm1EZXBvc2l0LCB7CiAgICAgICAgICBlbnRlcnByaXNlT3JkZXJTbjogbG9jYXRpb24uaGFzaC5zcGxpdCgiP2VudGVycHJpc2VPcmRlclNuPSIpWzFdLAogICAgICAgICAgLy8gdHlwZSAoaW50ZWdlciwgb3B0aW9uYWwpOiDnsbvlnos6IDEg5a6a6YeRIDIg5bC+5qy+CiAgICAgICAgICB0eXBlOiB0aGlzLmRhdGEuZW50ZXJwcmlzZVN1YlN0YXR1cyA9PSAyMzA1ID8gMSA6IDIsCiAgICAgICAgfSkKICAgICAgICAudGhlbigoZGF0YSkgPT4gewogICAgICAgICAgaWYgKGRhdGEuY29kZSA9PSAiMDAwIikgewogICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICAgICAgbWVzc2FnZTogZGF0YS5tZXNzYWdlLAogICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHRoaXMuX2dldFJlcGFpck9yZGVyRGV0YWlsKCk7CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycikgPT4gewogICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpOwogICAgICAgIH0pOwogICAgfSwKICAgIC8vIOaYvuekuuS8geS4muaKpeS7t+W8ueahhgogICAgY2hlY2tJbml0KCkgewogICAgICB0aGlzLmNoZWNrRm9ybSA9IHsKICAgICAgICBlbnRlcnByaXNlT3JkZXJTbjogdGhpcy5kYXRhLm9yZGVyU24sCiAgICAgICAgc3RhdHVzOiAiMCIsCiAgICAgIH07CiAgICAgIHRoaXMuJHJlZnMuY2hlY2tGb3JtLm9wZW4oKTsKICAgIH0sCiAgICAvLyDnoa7orqTpqozmlLbnmoTmqKHmgIHmoYbnoa7lrprnmoTkuovku7YKICAgIHN1bWJpdENoZWNrKGZuKSB7CiAgICAgIGlmICh0aGlzLmNoZWNrRm9ybS5zdGF0dXMgPT0gIjAiICYmICF0aGlzLmNoZWNrRm9ybS5yZWplY3RSZWFzb24pIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLor7fovpPlhaXpqbPlm57ljp/lm6AiKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdGhpcy4kYXhpb3MKICAgICAgICAucG9zdCh0aGlzLnVybC5oYW5kbGVFbnRlcnByaXNlQ2hlY2ssIHRoaXMuY2hlY2tGb3JtKQogICAgICAgIC50aGVuKChkYXRhKSA9PiB7CiAgICAgICAgICBpZiAoZGF0YS5jb2RlID09ICIwMDAiKSB7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgICAgICAgICAgICBtZXNzYWdlOiBkYXRhLm1lc3NhZ2UsCiAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICB9KTsKICAgICAgICAgICAgdGhpcy5yZXNldENoZWNrRm9ybShmbik7CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycikgPT4gewogICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpOwogICAgICAgIH0pOwogICAgfSwKICAgIC8vIOehruiupOmqjOaUtueahOaooeaAgeahhuWFs+mXreeahOS6i+S7tgogICAgcmVzZXRDaGVja0Zvcm0oZm4pIHsKICAgICAgdGhpcy5fZ2V0UmVwYWlyT3JkZXJEZXRhaWwoKTsKICAgICAgZm4oZmFsc2UpOwogICAgfSwKICAgIGhhbmRsZUNvbmZpcm1EZXBvc2l0VG9NYXN0ZXIoZm4pIHsKICAgICAgdGhpcy4kYXhpb3MKICAgICAgICAucG9zdCh0aGlzLnVybC5oYW5kbGVDb25maXJtRGVwb3NpdFRvTWFzdGVyLCB7CiAgICAgICAgICBlbnRlcnByaXNlT3JkZXJTbjogbG9jYXRpb24uaGFzaC5zcGxpdCgiP2VudGVycHJpc2VPcmRlclNuPSIpWzFdLAogICAgICAgICAgdHlwZTogdGhpcy5kYXRhLmVudGVycHJpc2VTdWJTdGF0dXMgPT0gIjIzMDYiID8gMSA6IDIsCiAgICAgICAgfSkKICAgICAgICAudGhlbigoZGF0YSkgPT4gewogICAgICAgICAgaWYgKGRhdGEuY29kZSA9PSAiMDAwIikgewogICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICAgICAgbWVzc2FnZTogZGF0YS5tZXNzYWdlLAogICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLnJlc2V0UGxhdGZvcm1QYXkoZm4pOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnIpID0+IHsKICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTsKICAgICAgICB9KTsKICAgIH0sCiAgICAvLyDmsqHnlKjliLAKICAgIHBsYXRmb3JtUGF5SW5pdCgpIHsKICAgICAgaWYgKHRoaXMuZGF0YS5lbnRlcnByaXNlU3ViU3RhdHVzICE9ICIyNTAyIikgewogICAgICAgIHRoaXMuJHJlZnMucGxhdGZvcm0ub3BlbigpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuaGFuZGxlQ29uZmlybURlcG9zaXRUb01hc3RlcigpOwogICAgICB9CiAgICB9LAogICAgLy8g5omT5qy+5L+h5oGv55qE5qih5oCB5qGG56Gu5a6a55qE5LqL5Lu2CiAgICBzdW1iaXRQbGF0Zm9ybVBheShmbikgewogICAgICBpZiAodGhpcy5kYXRhLmVudGVycHJpc2VTdWJTdGF0dXMgPT0gIjI2MDEiKSB7CiAgICAgICAgdGhpcy5yZW1pdChmbik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5oYW5kbGVDb25maXJtRGVwb3NpdFRvTWFzdGVyKGZuKTsKICAgICAgfQogICAgfSwKICAgIC8vIOaJk+asvuS/oeaBr+eahOaooeaAgeahhuehruWumueahOS6i+S7tgogICAgcmVtaXQoZm4pIHsKICAgICAgdGhpcy4kYXhpb3MKICAgICAgICAucG9zdCh0aGlzLnVybC5oYW5kbGVDb25maXJtQmFsYW5jZVRvTWFzdGVyLCB7CiAgICAgICAgICBlbnRlcnByaXNlT3JkZXJTbjogbG9jYXRpb24uaGFzaC5zcGxpdCgiP2VudGVycHJpc2VPcmRlclNuPSIpWzFdLAogICAgICAgIH0pCiAgICAgICAgLnRoZW4oKGRhdGEpID0+IHsKICAgICAgICAgIGlmIChkYXRhLmNvZGUgPT0gIjAwMCIpIHsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgICAgICAgIG1lc3NhZ2U6IGRhdGEubWVzc2FnZSwKICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgICAgdGhpcy5yZXNldFBsYXRmb3JtUGF5KGZuKTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7CiAgICAgICAgfSk7CiAgICB9LAogICAgcmVzZXRQbGF0Zm9ybVBheShmbikgewogICAgICB0aGlzLl9nZXRSZXBhaXJPcmRlckRldGFpbCgpOwogICAgICBmbihmYWxzZSk7CiAgICB9LAogICAgX2dldFJlcGFpck9yZGVyRGV0YWlsKCkgewogICAgICBsZXQgcGFyYW1zID0gewogICAgICAgIGVudGVycHJpc2VPcmRlclNuOiB0aGlzLm9yZGVyU24sCiAgICAgIH07CiAgICAgIGdldFJlcGFpck9yZGVyRGV0YWlsKHBhcmFtcykudGhlbigocmVzKSA9PiB7CiAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICAvLyDkuLrkuoblrp7njrDlpJrkuKrluIjlgoXmmI7nu4YKICAgICAgICAgIGlmIChyZXMuZGF0YS5lbnJvbGxSZXBhaXJPcmRlck91dExpc3QpIHsKICAgICAgICAgICAgcmVzLmRhdGEuZW5yb2xsUmVwYWlyT3JkZXJPdXRMaXN0LmZvckVhY2goKGl0ZW0pID0+IHsKICAgICAgICAgICAgICAvLyDlm57mmL7mlYXpmpzpobkKICAgICAgICAgICAgICBpZiAoaXRlbS5mYXVsdHMpIHsKICAgICAgICAgICAgICAgIGl0ZW0uZmF1bHRzID0gSlNPTi5wYXJzZShpdGVtLmZhdWx0cyk7CiAgICAgICAgICAgICAgICBpZiAoaXRlbS5mYXVsdHM/Lmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgaXRlbS5mYXVsdHMuZm9yRWFjaCgoaXRlbTEpID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGl0ZW0xLmltYWdlID09ICJzdHJpbmciKSB7CiAgICAgICAgICAgICAgICAgICAgICBpdGVtMS5pbWFnZSA9IEpTT04ucGFyc2UoaXRlbTEuaW1hZ2UpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIC8vIOWbnuaYvumFjeS7tgogICAgICAgICAgICAgIGlmIChpdGVtLnBhcnRzKSB7CiAgICAgICAgICAgICAgICBpdGVtLnBhcnRzID0gSlNPTi5wYXJzZShpdGVtLnBhcnRzKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQoKICAgICAgICAgIHJlcy5kYXRhLmZhdWx0cyA9IEpTT04ucGFyc2UocmVzLmRhdGEuZmF1bHRzKTsKICAgICAgICAgIGlmIChyZXMuZGF0YS5mYXVsdHM/Lmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgcmVzLmRhdGEuZmF1bHRzLmZvckVhY2goKGl0ZW0pID0+IHsKICAgICAgICAgICAgICBpZiAodHlwZW9mIGl0ZW0uaW1hZ2UgPT0gInN0cmluZyIpIHsKICAgICAgICAgICAgICAgIGl0ZW0uaW1hZ2UgPSBKU09OLnBhcnNlKGl0ZW0uaW1hZ2UpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CgogICAgICAgICAgLy8g5Yik5pat5LiA6ZSu5a+E5L+uCiAgICAgICAgICBpZiAocmVzLmRhdGEucGFydHNMaXN0KSB7CiAgICAgICAgICAgIHJlcy5kYXRhLnBhcnRzTGlzdC5mb3JFYWNoKChpdGVtKSA9PiB7CiAgICAgICAgICAgICAgLy8g5ZCM5pe25pyJ5aSW5Y+R5ZKM5bmz5Y+wCiAgICAgICAgICAgICAgaWYgKGl0ZW0ubW9kZWwgPT0gMSAmJiBpdGVtLnR5cGUgPT0gMikgewogICAgICAgICAgICAgICAgdGhpcy5wYXJ0SXRlbVNlbmQgPSB0cnVlOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLmRhdGEgPSByZXMuZGF0YTsKICAgICAgICAgIGlmIChyZXMuZGF0YSAmJiByZXMuZGF0YS5yZXBhaXJDb21tZW50Py5pbWFnZXMpIHsKICAgICAgICAgICAgdGhpcy5yZXBhaXJDb21tZW50SW1hZ2UgPSB0aGlzLmRhdGEucmVwYWlyQ29tbWVudC5pbWFnZXMuc3BsaXQoIiwiKTsKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICAgIG1lc3NhZ2U6IHJlcy5tZXNzYWdlLAogICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICB9LAp9Owo="},null]}