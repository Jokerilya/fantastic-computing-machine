{"remainingRequest":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\机将公司\\机将后台端\\background-management-system\\src\\views\\maintenance\\assignedWorker.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\机将公司\\机将后台端\\background-management-system\\src\\views\\maintenance\\assignedWorker.vue","mtime":1705658332049},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBxdWVyeUFzc2lnbmFibGVNYXN0ZXJMaXN0LCBoYW5kbGVBc3NpZ25NYXN0ZXIgfSBmcm9tICJAL2FwaS91c2VyIjsNCmltcG9ydCB7IGFkZHJlc3NGbiB9IGZyb20gIkAvYXBpL3N5c3RlbSI7DQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGRpc3RyaWN0VmFsdWU6IG51bGwsDQogICAgICBkaXN0cmljdExpc3Q6IG51bGwsIC8v5Yy657qn55qE5YiX6KGoDQogICAgICBjaXR5VmFsdWU6IG51bGwsDQogICAgICBjaXR5TGlzdDogbnVsbCwgLy/luILnuqfnmoTliJfooagNCiAgICAgIHJlZ2lvbkNob29zZURpYWxvZzogZmFsc2UsDQogICAgICBlbnRlcnByaXNlT3JkZXJTbjogIiIsIC8v5oyH5rS+6ZyA6KaB55qE5LyB5Lia5bel5Y2V6K6i5Y2V57yW5Y+3DQogICAgICBwYXJhbXM6IHsNCiAgICAgICAgLy8g5biI5YKF5p+l6K+i6ZyA6KaB55qE5pWw5o2uDQogICAgICAgIHBhZ2VObzogMSwNCiAgICAgICAgcGFnZVNpemU6IDEwLA0KICAgICAgICByZWFsTmFtZTogIiIsDQogICAgICB9LA0KICAgICAgbWFzdGVyTGlzdDogbnVsbCwgLy/luIjlgoXliJfooagNCiAgICAgIHRvdGFsOiBudWxsLCAvL+W4iOWCheaAu+adoeaVsA0KDQogICAgICBtYXN0ZXJVaWRMaXN0OiBbXSwgLy/opoHmjIfmtL7luIjlgoVwZGnnmoTliJfooagNCiAgICAgIG1hc3Rlck5hbWVMaXN0OiBbXSwgLy/opoHmjIfmtL7luIjlgoXlp5PlkI3nmoTliJfooagNCiAgICAgIHRhYmxlU2hvdzogdHJ1ZSwNCiAgICB9Ow0KICB9LA0KICBtZXRob2RzOiB7DQogICAgLy8g56Gu5a6a5Yy65Z+fDQogICAgYXN5bmMgY29uZmlybVJlZ2lvbkNob29zZSgpIHsNCiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGhhbmRsZUFzc2lnbk1hc3Rlcih7DQogICAgICAgIGFyZWFJZExpc3Q6IHRoaXMuZGlzdHJpY3RWYWx1ZSwNCiAgICAgICAgZW50ZXJwcmlzZU9yZGVyU246IHRoaXMuZW50ZXJwcmlzZU9yZGVyU24sDQogICAgICAgIG1hc3RlclVpZExpc3Q6IG51bGwsDQogICAgICB9KTsNCiAgICAgIGlmIChyZXMubWVzc2FnZSA9PT0gIuaTjeS9nOaIkOWKnyIpIHsNCiAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgbWVzc2FnZTogIuaMh+a0vuaIkOWKnyIsDQogICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLA0KICAgICAgICB9KTsNCiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goew0KICAgICAgICAgIG5hbWU6ICJtYWludGVuYW5jZV9vcmRlcl9kZXNjIiwNCiAgICAgICAgICBxdWVyeTogeyBvcmRlclNuOiB0aGlzLmVudGVycHJpc2VPcmRlclNuIH0sDQogICAgICAgIH0pOw0KICAgICAgfQ0KICAgIH0sDQogICAgLy8g5biC57qn5Y+R55Sf5pS55Y+YDQogICAgYXN5bmMgY2l0eVZhbHVlQ2hhZ2UoKSB7DQogICAgICAvLyDojrflj5bljLrnuqcNCiAgICAgIGNvbnN0IGRpc3RyaWN0TGlzdCA9IGF3YWl0IGFkZHJlc3NGbih0aGlzLmNpdHlWYWx1ZSk7DQogICAgICB0aGlzLmRpc3RyaWN0TGlzdCA9IGRpc3RyaWN0TGlzdC5kYXRhOw0KICAgIH0sDQogICAgLy8g5omT5byA6YCJ5oup5Yy65Z+fDQogICAgb3BlblJlZ2lvbkNob29zZURpYWxvZygpIHsNCiAgICAgIHRoaXMucmVnaW9uQ2hvb3NlRGlhbG9nID0gdHJ1ZTsNCiAgICB9LA0KICAgIC8vIOWIoOmZpOaMh+a0vuW4iOWChQ0KICAgIGRlbEFzc2lnbmVkV29ya2VyKGluZGV4KSB7DQogICAgICB0aGlzLiRjb25maXJtKA0KICAgICAgICAi5oKo56Gu5a6a5Y+W5raI5oyH5rS+IiArIHRoaXMubWFzdGVyTmFtZUxpc3RbaW5kZXhdICsgIj8iLA0KICAgICAgICAi5Y+W5raI5oyH5rS+IiwNCiAgICAgICAgew0KICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwNCiAgICAgICAgfQ0KICAgICAgKS50aGVuKCgpID0+IHsNCiAgICAgICAgdGhpcy5tYXN0ZXJVaWRMaXN0LnNwbGljZShpbmRleCwgMSk7DQogICAgICAgIHRoaXMubWFzdGVyTmFtZUxpc3Quc3BsaWNlKGluZGV4LCAxKTsNCiAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLA0KICAgICAgICAgIG1lc3NhZ2U6ICLliKDpmaTmiJDlip8hIiwNCiAgICAgICAgfSk7DQogICAgICB9KTsNCiAgICB9LA0KICAgIC8vIOWLvumAieaMh+a0vuWkmumAieahhg0KICAgIG1hbnlQZW9wbGVBc3NpZ25lZChzaG93LCB1aWQsIG5hbWUpIHsNCiAgICAgIGlmICghc2hvdykgew0KICAgICAgICBpZiAodGhpcy5tYXN0ZXJVaWRMaXN0LmluZGV4T2YodWlkKSA9PT0gLTEpIHsNCiAgICAgICAgICB0aGlzLm1hc3RlclVpZExpc3QucHVzaCh1aWQpOw0KICAgICAgICB9DQogICAgICAgIGlmICh0aGlzLm1hc3Rlck5hbWVMaXN0LmluZGV4T2YobmFtZSkgPT09IC0xKSB7DQogICAgICAgICAgdGhpcy5tYXN0ZXJOYW1lTGlzdC5wdXNoKG5hbWUpOw0KICAgICAgICB9DQogICAgICB9IGVsc2Ugew0KICAgICAgICBjb25zdCB1aWRJbmRleCA9IHRoaXMubWFzdGVyVWlkTGlzdC5pbmRleE9mKHVpZCk7DQogICAgICAgIHRoaXMubWFzdGVyVWlkTGlzdC5zcGxpY2UodWlkSW5kZXgsIDEpOw0KICAgICAgICBjb25zdCBuYW1lSW5kZXggPSB0aGlzLm1hc3Rlck5hbWVMaXN0LmluZGV4T2YobmFtZSk7DQogICAgICAgIHRoaXMubWFzdGVyTmFtZUxpc3Quc3BsaWNlKG5hbWVJbmRleCwgMSk7DQogICAgICAgIGNvbnNvbGUubG9nKHRoaXMubWFzdGVyVWlkTGlzdCk7DQogICAgICB9DQogICAgfSwNCiAgICAvLyDmjIfmtL7mjInpkq4NCiAgICBhc3luYyBhc3NpZ25lZEJ0bihqdWRnZSkgew0KICAgICAgbGV0IHBhcmFtcyA9IHsNCiAgICAgICAgZW50ZXJwcmlzZU9yZGVyU246IHRoaXMuZW50ZXJwcmlzZU9yZGVyU24sDQogICAgICB9Ow0KICAgICAgaWYgKGp1ZGdlID09PSAid29ya2VyIikgew0KICAgICAgICBwYXJhbXMubWFzdGVyVWlkTGlzdCA9IHRoaXMubWFzdGVyVWlkTGlzdDsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHBhcmFtcy5tYXN0ZXJVaWRMaXN0ID0gW107DQogICAgICB9DQogICAgICBjb25zdCByZXMgPSBhd2FpdCBoYW5kbGVBc3NpZ25NYXN0ZXIocGFyYW1zKTsNCiAgICAgIGlmIChyZXMubWVzc2FnZSA9PT0gIuaTjeS9nOaIkOWKnyIpIHsNCiAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgbWVzc2FnZTogIuaMh+a0vuaIkOWKnyIsDQogICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLA0KICAgICAgICB9KTsNCiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goew0KICAgICAgICAgIG5hbWU6ICJtYWludGVuYW5jZV9vcmRlcl9kZXNjIiwNCiAgICAgICAgICBxdWVyeTogeyBvcmRlclNuOiB0aGlzLmVudGVycHJpc2VPcmRlclNuIH0sDQogICAgICAgIH0pOw0KICAgICAgfQ0KICAgIH0sDQogICAgLy8g6L6T5YWl5qGG55qE5YC85Y+R55Sf5pS55Y+Y55qE5LqL5Lu2DQogICAgcmVhbE5hbWVCbHVyRm4oKSB7DQogICAgICB0aGlzLnBhcmFtcy5wYWdlTm8gPSAxOw0KICAgICAgdGhpcy5nZXRNYXN0ZXJMaXN0KCk7DQogICAgfSwNCiAgICAvLyDpobXnoIHlj5HnlJ/mlLnlj5jnmoTml7blgJkNCiAgICBjdXJyZW50Q2hhbmdlKHBhZ2UpIHsNCiAgICAgIHRoaXMucGFyYW1zLnBhZ2VObyA9IHBhZ2U7DQogICAgICB0aGlzLmdldE1hc3Rlckxpc3QoKTsNCiAgICB9LA0KICAgIC8vIOiOt+WPluWPr+aMh+a0vuW4iOWCheWIl+ihqA0KICAgIGFzeW5jIGdldE1hc3Rlckxpc3QoKSB7DQogICAgICBjb25zdCBsb2FkaW5nID0gdGhpcy4kbG9hZGluZygpOw0KICAgICAgdGhpcy50YWJsZVNob3cgPSBmYWxzZTsNCiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHF1ZXJ5QXNzaWduYWJsZU1hc3Rlckxpc3QodGhpcy5wYXJhbXMpOw0KICAgICAgdGhpcy5tYXN0ZXJMaXN0ID0gcmVzLmRhdGEucmVjb3JkczsNCiAgICAgIHRoaXMubWFzdGVyTGlzdC5mb3JFYWNoKChpdGVtKSA9PiB7DQogICAgICAgIGl0ZW0uc2hvdyA9IGZhbHNlOw0KICAgICAgfSk7DQogICAgICB0aGlzLnRvdGFsID0gcmVzLmRhdGEudG90YWw7DQogICAgICB0aGlzLnRhYmxlU2hvdyA9IHRydWU7DQogICAgICBsb2FkaW5nLmNsb3NlKCk7DQogICAgfSwNCiAgfSwNCiAgYXN5bmMgY3JlYXRlZCgpIHsNCiAgICBjb25zdCB7IG1hc3Rlck5hbWVMaXN0LCBtYXN0ZXJVaWRMaXN0LCBvcmRlclNuIH0gPSB0aGlzLiRyb3V0ZS5xdWVyeTsNCiAgICBpZiAobWFzdGVyTmFtZUxpc3QpIHsNCiAgICAgIG1hc3Rlck5hbWVMaXN0LmZvckVhY2goKGl0ZW0pID0+IHsNCiAgICAgICAgdGhpcy5tYXN0ZXJOYW1lTGlzdC5wdXNoKGl0ZW0pOw0KICAgICAgfSk7DQogICAgfQ0KICAgIGlmIChtYXN0ZXJVaWRMaXN0KSB7DQogICAgICBtYXN0ZXJVaWRMaXN0LmZvckVhY2goKGl0ZW0pID0+IHsNCiAgICAgICAgdGhpcy5tYXN0ZXJVaWRMaXN0LnB1c2goaXRlbSk7DQogICAgICB9KTsNCiAgICB9DQogICAgLy8g6I635Y+W5bm/5Lic55yB55qE5biCDQogICAgY29uc3QgY2l0eUxpc3QgPSBhd2FpdCBhZGRyZXNzRm4oNDQwMDAwKTsNCiAgICB0aGlzLmNpdHlMaXN0ID0gY2l0eUxpc3QuZGF0YTsNCg0KICAgIHRoaXMuZW50ZXJwcmlzZU9yZGVyU24gPSBvcmRlclNuOyAvL+aMh+a0vumcgOimgeeahOS8geS4muW3peWNleiuouWNlee8luWPtw0KICAgIHRoaXMuZ2V0TWFzdGVyTGlzdCgpOw0KICB9LA0KfTsNCg=="},{"version":3,"sources":["assignedWorker.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"assignedWorker.vue","sourceRoot":"src/views/maintenance","sourcesContent":["<template>\r\n  <div class=\"assignedWorker\">\r\n    <!-- 查询工具栏 -->\r\n    <div class=\"searchTool\">\r\n      <div class=\"workerName\">\r\n        <h4 style=\"color: #999\">师傅名称</h4>\r\n        <div class=\"inp\">\r\n          <el-input\r\n            clearable\r\n            placeholder=\"请输入你的师傅名称\"\r\n            v-model=\"params.realName\"\r\n          ></el-input>\r\n        </div>\r\n        <h4 style=\"color: #999; width: 90px; margin-left: 20px\">指派的师傅:</h4>\r\n        <div class=\"assignedWorkerList\">\r\n          <span\r\n            v-for=\"(item, index) in masterNameList\"\r\n            :key=\"item\"\r\n            class=\"item\"\r\n            @click=\"delAssignedWorker(index)\"\r\n          >\r\n            {{ item }}\r\n          </span>\r\n          <div class=\"notiveText\">( 注:点击姓名即可删除！)</div>\r\n        </div>\r\n      </div>\r\n      <div class=\"operationBtnList\">\r\n        <!-- <el-button\r\n          class=\"thrownIntoMarketBtn\"\r\n          type=\"primary\"\r\n          @click=\"openRegionChooseDialog\"\r\n        >\r\n          区域指派</el-button\r\n        >\r\n        <el-button\r\n          class=\"thrownIntoMarketBtn\"\r\n          type=\"warning\"\r\n          @click=\"assignedBtn('market')\"\r\n          >抛入市场</el-button\r\n        > -->\r\n        <el-button type=\"primary\" @click=\"realNameBlurFn\"> 搜索 </el-button>\r\n        <el-button\r\n          class=\"thrownIntoMarketBtn\"\r\n          type=\"success\"\r\n          @click=\"assignedBtn('worker')\"\r\n          >指派师傅</el-button\r\n        >\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 师傅表格 -->\r\n    <div class=\"workerTable\">\r\n      <el-card>\r\n        <el-table\r\n          v-show=\"tableShow\"\r\n          height=\"70vh\"\r\n          :header-cell-style=\"{\r\n            background: '#f6f8fc',\r\n            color: '#707070',\r\n          }\"\r\n          :data=\"masterList\"\r\n          style=\"width: 100%\"\r\n        >\r\n          <el-table-column label=\"多选\" align=\"center\" width=\"100px\">\r\n            <template slot-scope=\"{ row }\">\r\n              <input\r\n                type=\"checkbox\"\r\n                style=\"zoom: 120%\"\r\n                @click=\"manyPeopleAssigned(row.show, row.uid, row.realName)\"\r\n                v-model=\"row.show\"\r\n              />\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"师傅头像\" align=\"center\" width=\"100px\">\r\n            <template slot-scope=\"{ row }\">\r\n              <img :src=\"row.realPortrait\" width=\"75px\" height=\"75px\" />\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"realName\" label=\"师傅\" align=\"center\">\r\n          </el-table-column>\r\n          <el-table-column prop=\"phone\" label=\"师傅电话\" align=\"center\">\r\n          </el-table-column>\r\n          <el-table-column prop=\"identity\" label=\"角色\" align=\"center\">\r\n          </el-table-column>\r\n          <el-table-column label=\"服务状态\" align=\"center\">\r\n            <template> 可接单状态 </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"createTime\" label=\"入驻时间\" align=\"center\">\r\n          </el-table-column>\r\n          <el-table-column label=\"所属\" align=\"center\">\r\n            <template> 广东机床加工有限公司 </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"操作\" align=\"center\">\r\n            <template slot-scope=\"{ row }\">\r\n              <a\r\n                href=\"#\"\r\n                class=\"operationBtn\"\r\n                @click=\"\r\n                  $router.push('/maintenance/worker/workerDetails?id=' + row.id)\r\n                \"\r\n                >详情</a\r\n              >\r\n              <!-- <a href=\"#\" class=\"operationBtn\">订单</a> -->\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n\r\n        <!-- 底部分页 -->\r\n        <div class=\"pagingTool\">\r\n          <el-pagination\r\n            :total=\"total\"\r\n            :page-size=\"10\"\r\n            @current-change=\"currentChange\"\r\n            layout=\"total, prev, pager, next, jumper\"\r\n          ></el-pagination>\r\n        </div>\r\n      </el-card>\r\n    </div>\r\n\r\n    <!-- 区域选择 -->\r\n    <el-dialog\r\n      title=\"区域指派\"\r\n      width=\"30%\"\r\n      :visible=\"regionChooseDialog\"\r\n      :show-close=\"false\"\r\n    >\r\n      <div class=\"content\">\r\n        <el-select\r\n          v-model=\"cityValue\"\r\n          placeholder=\"请选择市\"\r\n          style=\"margin-right: 20px\"\r\n          @change=\"cityValueChage\"\r\n        >\r\n          <el-option\r\n            v-for=\"item in cityList\"\r\n            :key=\"item.id\"\r\n            :label=\"item.name\"\r\n            :value=\"item.id\"\r\n          ></el-option>\r\n        </el-select>\r\n        <el-select\r\n          multiple\r\n          collapse-tags\r\n          placeholder=\"请选择区\"\r\n          v-model=\"districtValue\"\r\n        >\r\n          <el-option\r\n            v-for=\"item in districtList\"\r\n            :key=\"item.id\"\r\n            :label=\"item.name\"\r\n            :value=\"item.id\"\r\n          ></el-option>\r\n        </el-select>\r\n      </div>\r\n      <span slot=\"footer\">\r\n        <el-button @click=\"regionChooseDialog = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"confirmRegionChoose\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { queryAssignableMasterList, handleAssignMaster } from \"@/api/user\";\r\nimport { addressFn } from \"@/api/system\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      districtValue: null,\r\n      districtList: null, //区级的列表\r\n      cityValue: null,\r\n      cityList: null, //市级的列表\r\n      regionChooseDialog: false,\r\n      enterpriseOrderSn: \"\", //指派需要的企业工单订单编号\r\n      params: {\r\n        // 师傅查询需要的数据\r\n        pageNo: 1,\r\n        pageSize: 10,\r\n        realName: \"\",\r\n      },\r\n      masterList: null, //师傅列表\r\n      total: null, //师傅总条数\r\n\r\n      masterUidList: [], //要指派师傅pdi的列表\r\n      masterNameList: [], //要指派师傅姓名的列表\r\n      tableShow: true,\r\n    };\r\n  },\r\n  methods: {\r\n    // 确定区域\r\n    async confirmRegionChoose() {\r\n      const res = await handleAssignMaster({\r\n        areaIdList: this.districtValue,\r\n        enterpriseOrderSn: this.enterpriseOrderSn,\r\n        masterUidList: null,\r\n      });\r\n      if (res.message === \"操作成功\") {\r\n        this.$message({\r\n          message: \"指派成功\",\r\n          type: \"success\",\r\n        });\r\n        this.$router.push({\r\n          name: \"maintenance_order_desc\",\r\n          query: { orderSn: this.enterpriseOrderSn },\r\n        });\r\n      }\r\n    },\r\n    // 市级发生改变\r\n    async cityValueChage() {\r\n      // 获取区级\r\n      const districtList = await addressFn(this.cityValue);\r\n      this.districtList = districtList.data;\r\n    },\r\n    // 打开选择区域\r\n    openRegionChooseDialog() {\r\n      this.regionChooseDialog = true;\r\n    },\r\n    // 删除指派师傅\r\n    delAssignedWorker(index) {\r\n      this.$confirm(\r\n        \"您确定取消指派\" + this.masterNameList[index] + \"?\",\r\n        \"取消指派\",\r\n        {\r\n          type: \"warning\",\r\n        }\r\n      ).then(() => {\r\n        this.masterUidList.splice(index, 1);\r\n        this.masterNameList.splice(index, 1);\r\n        this.$message({\r\n          type: \"success\",\r\n          message: \"删除成功!\",\r\n        });\r\n      });\r\n    },\r\n    // 勾选指派多选框\r\n    manyPeopleAssigned(show, uid, name) {\r\n      if (!show) {\r\n        if (this.masterUidList.indexOf(uid) === -1) {\r\n          this.masterUidList.push(uid);\r\n        }\r\n        if (this.masterNameList.indexOf(name) === -1) {\r\n          this.masterNameList.push(name);\r\n        }\r\n      } else {\r\n        const uidIndex = this.masterUidList.indexOf(uid);\r\n        this.masterUidList.splice(uidIndex, 1);\r\n        const nameIndex = this.masterNameList.indexOf(name);\r\n        this.masterNameList.splice(nameIndex, 1);\r\n        console.log(this.masterUidList);\r\n      }\r\n    },\r\n    // 指派按钮\r\n    async assignedBtn(judge) {\r\n      let params = {\r\n        enterpriseOrderSn: this.enterpriseOrderSn,\r\n      };\r\n      if (judge === \"worker\") {\r\n        params.masterUidList = this.masterUidList;\r\n      } else {\r\n        params.masterUidList = [];\r\n      }\r\n      const res = await handleAssignMaster(params);\r\n      if (res.message === \"操作成功\") {\r\n        this.$message({\r\n          message: \"指派成功\",\r\n          type: \"success\",\r\n        });\r\n        this.$router.push({\r\n          name: \"maintenance_order_desc\",\r\n          query: { orderSn: this.enterpriseOrderSn },\r\n        });\r\n      }\r\n    },\r\n    // 输入框的值发生改变的事件\r\n    realNameBlurFn() {\r\n      this.params.pageNo = 1;\r\n      this.getMasterList();\r\n    },\r\n    // 页码发生改变的时候\r\n    currentChange(page) {\r\n      this.params.pageNo = page;\r\n      this.getMasterList();\r\n    },\r\n    // 获取可指派师傅列表\r\n    async getMasterList() {\r\n      const loading = this.$loading();\r\n      this.tableShow = false;\r\n      const res = await queryAssignableMasterList(this.params);\r\n      this.masterList = res.data.records;\r\n      this.masterList.forEach((item) => {\r\n        item.show = false;\r\n      });\r\n      this.total = res.data.total;\r\n      this.tableShow = true;\r\n      loading.close();\r\n    },\r\n  },\r\n  async created() {\r\n    const { masterNameList, masterUidList, orderSn } = this.$route.query;\r\n    if (masterNameList) {\r\n      masterNameList.forEach((item) => {\r\n        this.masterNameList.push(item);\r\n      });\r\n    }\r\n    if (masterUidList) {\r\n      masterUidList.forEach((item) => {\r\n        this.masterUidList.push(item);\r\n      });\r\n    }\r\n    // 获取广东省的市\r\n    const cityList = await addressFn(440000);\r\n    this.cityList = cityList.data;\r\n\r\n    this.enterpriseOrderSn = orderSn; //指派需要的企业工单订单编号\r\n    this.getMasterList();\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.operationBtn {\r\n  margin-right: 10px;\r\n  color: #0b2059;\r\n}\r\n.assignedWorker {\r\n  padding: 20px;\r\n  .searchTool {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    position: relative;\r\n\r\n    .workerName {\r\n      display: flex;\r\n      align-items: center;\r\n      h4 {\r\n        width: 80px;\r\n      }\r\n      .inp {\r\n        width: 250px;\r\n      }\r\n      .assignedWorkerList {\r\n        color: #1186f4;\r\n\r\n        .notiveText {\r\n          font-size: 14px;\r\n          color: red;\r\n          position: absolute;\r\n          bottom: -8px;\r\n          left: 24.3%;\r\n          width: 160px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .workerTable {\r\n    margin-top: 20px;\r\n    .pagingTool {\r\n      margin-top: 20px;\r\n      display: flex;\r\n      justify-content: center;\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]}]}