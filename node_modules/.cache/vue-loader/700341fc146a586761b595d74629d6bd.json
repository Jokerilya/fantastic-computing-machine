{"remainingRequest":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\机将公司\\机将后台端\\background-management-system\\src\\components\\uploadImg\\upload-img.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"D:\\机将公司\\机将后台端\\background-management-system\\src\\components\\uploadImg\\upload-img.vue","mtime":1669258939257},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\@vue\\cli-service\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoudXBsb2FkX2ltZ3sKICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICBiYWNrZ3JvdW5kOiAjZGRkOwogICAgZGlzcGxheTogZmxleDsKICAgIC51cGxvYWR7CiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgd2lkdGg6IDEwMCU7CiAgICAgIGhlaWdodDogMTAwJTsKICAgICAgdG9wOiAwOwogICAgICBsZWZ0OiAwOwogICAgICBiYWNrZ3JvdW5kOiB1cmwoJy4uLy4uL2Fzc2V0cy91cGxvYWQucG5nJykgbm8tcmVwZWF0IGNlbnRlciAvIGF1dG8gMTAwJTsKICAgICAgZm9udC1zaXplOiAjZmZmOwogICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgIGxpbmUtaGVpZ2h0OiA4MHB4OwogICAgICBkaXNwbGF5OiBub25lOwogICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsMCwwLDAuNzgpOwogICAgfQogICAgJjpob3ZlcnsKICAgICAgLnVwbG9hZHsKICAgICAgICBkaXNwbGF5OiBibG9jazsKICAgICAgfQogICAgfQogICAgaW1nLHZpZGVvewogICAgICB3aWR0aDogMTAwJTsKICAgICAgaGVpZ2h0OiAxMDAlOwogICAgICBvYmplY3QtZml0OiBjb3ZlcjsKICAgIH0KICAgIHZpZGVvewogICAgICB3aWR0aDogMTAwJTsKICAgICAgaGVpZ2h0OiAxMDAlOwogICAgfQogICAgLm5vX3RleHR7CiAgICAgIG1hcmdpbjogYXV0bzsKICAgICAgY29sb3I6ICM5OTk7CiAgICAgIGZvbnQtc2l6ZTogMTJweDsKICAgIH0KfQouYm9yZGVyX3JhZGl1c3sKICBib3JkZXItcmFkaXVzOiA1MCU7Cn0K"},{"version":3,"sources":["upload-img.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"upload-img.vue","sourceRoot":"src/components/uploadImg","sourcesContent":["<template>\n  <div class=\"upload_img\" :class=\"{border_radius:radius}\" :style=\"{width:width,height:height,border:'1px solid #ccc'}\">\n    <img v-if=\"img && type == 'img'\" :src=\"img\" alt=\"\">\n    <video v-if=\"img && type == 'video'\" :src=\"img\" />\n    <span v-if=\"!img\" class=\"no_text\">点击上传</span>\n    <el-upload\n      class=\"upload-demo\"\n\t    action=\"\"\n      :http-request=\"httpRequestFn\"\n      :show-file-list=\"false\"\n    >\n      <div slot=\"trigger\" v-if=\"img && type == 'file'\">\n        <i class=\"el-icon-document\"></i>\n        {{img}}\n      </div>\n      <div v-else slot=\"trigger\" class=\"upload\" />\n    </el-upload>\n  </div>\n</template>\n\n<script>\nimport { UploadImg } from '@/api/system.js'\nexport default {\n  props: {\n    type: {\n      type: String,\n      default: 'img'\n    },\n    img: {\n      type: String,\n      default: ''\n    },\n    width: {\n      type: String,\n      default: '60px'\n    },\n    height: {\n      type: String,\n      default: '60px'\n    },\n    radius: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n    \n    }\n  },\n  computed: {\n\n  },\n  methods: {\n    httpRequestFn(data) {\n      const loading = this.$loading({text:'上传中..'})\n      const formData = new FormData()\n      formData.append('file', data.file)\n      UploadImg(formData).then((res) => {\n        this.$emit('uploadSuc', res.data)\n        this.$message({\n          showClose: true,\n          message: '文件上传成功！',\n          type: 'success'\n        })\n        loading.close()\n      }).catch(() => {\n        this.$message({\n          showClose: true,\n          message: '文件上传失败！',\n          type: 'warning'\n        })\n        loading.close()\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.upload_img{\n    position: relative;\n    overflow: hidden;\n    background: #ddd;\n    display: flex;\n    .upload{\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      top: 0;\n      left: 0;\n      background: url('../../assets/upload.png') no-repeat center / auto 100%;\n      font-size: #fff;\n      text-align: center;\n      line-height: 80px;\n      display: none;\n      background-color: rgba(0,0,0,0.78);\n    }\n    &:hover{\n      .upload{\n        display: block;\n      }\n    }\n    img,video{\n      width: 100%;\n      height: 100%;\n      object-fit: cover;\n    }\n    video{\n      width: 100%;\n      height: 100%;\n    }\n    .no_text{\n      margin: auto;\n      color: #999;\n      font-size: 12px;\n    }\n}\n.border_radius{\n  border-radius: 50%;\n}\n</style>\n</style>\n"]}]}