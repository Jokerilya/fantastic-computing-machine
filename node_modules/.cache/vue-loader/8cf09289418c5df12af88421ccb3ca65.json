{"remainingRequest":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\机将公司\\机将后台端\\background-management-system\\src\\components\\uploadImg\\upload-img.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\机将公司\\机将后台端\\background-management-system\\src\\components\\uploadImg\\upload-img.vue","mtime":1669258939257},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IFVwbG9hZEltZyB9IGZyb20gJ0AvYXBpL3N5c3RlbS5qcycKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICB0eXBlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ2ltZycKICAgIH0sCiAgICBpbWc6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnJwogICAgfSwKICAgIHdpZHRoOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJzYwcHgnCiAgICB9LAogICAgaGVpZ2h0OiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJzYwcHgnCiAgICB9LAogICAgcmFkaXVzOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgIAogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKCiAgfSwKICBtZXRob2RzOiB7CiAgICBodHRwUmVxdWVzdEZuKGRhdGEpIHsKICAgICAgY29uc3QgbG9hZGluZyA9IHRoaXMuJGxvYWRpbmcoe3RleHQ6J+S4iuS8oOS4rS4uJ30pCiAgICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCkKICAgICAgZm9ybURhdGEuYXBwZW5kKCdmaWxlJywgZGF0YS5maWxlKQogICAgICBVcGxvYWRJbWcoZm9ybURhdGEpLnRoZW4oKHJlcykgPT4gewogICAgICAgIHRoaXMuJGVtaXQoJ3VwbG9hZFN1YycsIHJlcy5kYXRhKQogICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+aWh+S7tuS4iuS8oOaIkOWKn++8gScsCiAgICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgICB9KQogICAgICAgIGxvYWRpbmcuY2xvc2UoKQogICAgICB9KS5jYXRjaCgoKSA9PiB7CiAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn5paH5Lu25LiK5Lyg5aSx6LSl77yBJywKICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICAgIH0pCiAgICAgICAgbG9hZGluZy5jbG9zZSgpCiAgICAgIH0pCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["upload-img.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAqBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"upload-img.vue","sourceRoot":"src/components/uploadImg","sourcesContent":["<template>\n  <div class=\"upload_img\" :class=\"{border_radius:radius}\" :style=\"{width:width,height:height,border:'1px solid #ccc'}\">\n    <img v-if=\"img && type == 'img'\" :src=\"img\" alt=\"\">\n    <video v-if=\"img && type == 'video'\" :src=\"img\" />\n    <span v-if=\"!img\" class=\"no_text\">点击上传</span>\n    <el-upload\n      class=\"upload-demo\"\n\t    action=\"\"\n      :http-request=\"httpRequestFn\"\n      :show-file-list=\"false\"\n    >\n      <div slot=\"trigger\" v-if=\"img && type == 'file'\">\n        <i class=\"el-icon-document\"></i>\n        {{img}}\n      </div>\n      <div v-else slot=\"trigger\" class=\"upload\" />\n    </el-upload>\n  </div>\n</template>\n\n<script>\nimport { UploadImg } from '@/api/system.js'\nexport default {\n  props: {\n    type: {\n      type: String,\n      default: 'img'\n    },\n    img: {\n      type: String,\n      default: ''\n    },\n    width: {\n      type: String,\n      default: '60px'\n    },\n    height: {\n      type: String,\n      default: '60px'\n    },\n    radius: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n    \n    }\n  },\n  computed: {\n\n  },\n  methods: {\n    httpRequestFn(data) {\n      const loading = this.$loading({text:'上传中..'})\n      const formData = new FormData()\n      formData.append('file', data.file)\n      UploadImg(formData).then((res) => {\n        this.$emit('uploadSuc', res.data)\n        this.$message({\n          showClose: true,\n          message: '文件上传成功！',\n          type: 'success'\n        })\n        loading.close()\n      }).catch(() => {\n        this.$message({\n          showClose: true,\n          message: '文件上传失败！',\n          type: 'warning'\n        })\n        loading.close()\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.upload_img{\n    position: relative;\n    overflow: hidden;\n    background: #ddd;\n    display: flex;\n    .upload{\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      top: 0;\n      left: 0;\n      background: url('../../assets/upload.png') no-repeat center / auto 100%;\n      font-size: #fff;\n      text-align: center;\n      line-height: 80px;\n      display: none;\n      background-color: rgba(0,0,0,0.78);\n    }\n    &:hover{\n      .upload{\n        display: block;\n      }\n    }\n    img,video{\n      width: 100%;\n      height: 100%;\n      object-fit: cover;\n    }\n    video{\n      width: 100%;\n      height: 100%;\n    }\n    .no_text{\n      margin: auto;\n      color: #999;\n      font-size: 12px;\n    }\n}\n.border_radius{\n  border-radius: 50%;\n}\n</style>\n</style>\n"]}]}