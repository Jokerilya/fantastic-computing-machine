{"remainingRequest":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\机将公司\\机将后台端\\background-management-system\\src\\views\\financialManagement\\components\\payOrderDetails.vue?vue&type=style&index=0&id=711efa80&lang=less&scoped=true&","dependencies":[{"path":"D:\\机将公司\\机将后台端\\background-management-system\\src\\views\\financialManagement\\components\\payOrderDetails.vue","mtime":1684373282156},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\@vue\\cli-service\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\style-resources-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLy8g5oyJ6ZKu5qC35byPDQouY2xvc2VCdG4gew0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOw0KICBjb2xvcjogIzBiMjA1OTsNCiAgYm9yZGVyOiAxcHggc29saWQgIzBiMjA1OTsNCiAgd2lkdGg6IDExMHB4Ow0KICBoZWlnaHQ6IDQwcHg7DQp9DQouY29tZmlybUJ0biB7DQogIGJhY2tncm91bmQtY29sb3I6ICMyZTRjOWU7DQogIGNvbG9yOiAjZmZmOw0KICB3aWR0aDogMTEwcHg7DQogIGhlaWdodDogNDBweDsNCn0NCg0KLy8g5pS25qy+6K+m5oOFDQoub3JkZXJEZXRhaWxzIHsNCiAgY29sb3I6ICM3MDcwNzA7DQogIC5jb250ZW50IHsNCiAgICBwYWRkaW5nOiAyMHB4IDIwcHg7DQogICAgLmxpbmUgew0KICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgIG1hcmdpbi1ib3R0b206IDIwcHg7DQogICAgICAuaXRlbSB7DQogICAgICAgIGZsZXg6IDE7DQogICAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgICAgIHBhZGRpbmctcmlnaHQ6IDIwcHg7DQogICAgICAgIC50aXRsZSB7DQogICAgICAgICAgY29sb3I6ICM3MDcwNzA7DQogICAgICAgICAgZm9udC13ZWlnaHQ6IDcwMDsNCiAgICAgICAgICBmb250LXNpemU6IDIycHg7DQogICAgICAgICAgbWFyZ2luLXJpZ2h0OiAyMHB4Ow0KICAgICAgICB9DQogICAgICAgIC5kZXNjIHsNCiAgICAgICAgICBmb250LXNpemU6IDE4cHg7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9DQogIH0NCn0NCg0KLm1vbmV5RGV0YWlscyB7DQogIGNvbG9yOiAjNzA3MDcwOw0KDQogIC5jb250ZW50IHsNCiAgICBwYWRkaW5nOiAyMHB4IDIwcHggMjBweCA2MHB4Ow0KICAgIC5wYXJ0c0xpbmUgew0KICAgICAgd2lkdGg6IDcwJTsNCiAgICAgIC5pdGVtIHsNCiAgICAgICAgZm9udC1zaXplOiAxOHB4Ow0KICAgICAgICBtYXJnaW4tYm90dG9tOiAyMHB4Ow0KICAgICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgICBwYWRkaW5nLWxlZnQ6IDUwcHg7DQogICAgICAgIHdpZHRoOiA3MCU7DQogICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsNCiAgICAgICAgLmxvZ2luUHVyY2hhc2Ugew0KICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgICAgICAgICBsZWZ0OiA1cHg7DQogICAgICAgICAgdG9wOiAtNXB4Ow0KICAgICAgICB9DQogICAgICAgIC5uYW1lIHsNCiAgICAgICAgICBmbGV4OiAxOw0KICAgICAgICB9DQogICAgICAgIC5wcmljZSB7DQogICAgICAgICAgZmxleDogMTsNCiAgICAgICAgfQ0KICAgICAgICAubnVtIHsNCiAgICAgICAgICBmbGV4OiAxOw0KICAgICAgICB9DQogICAgICB9DQogICAgfQ0KICAgIC5saW5lIHsNCiAgICAgIG1hcmdpbi1ib3R0b206IDIwcHg7DQogICAgICAudGl0bGUgew0KICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7DQogICAgICAgIHdpZHRoOiAxNTBweDsNCiAgICAgICAgY29sb3I6ICM3MDcwNzA7DQogICAgICAgIGZvbnQtd2VpZ2h0OiA3MDA7DQogICAgICAgIGZvbnQtc2l6ZTogMjJweDsNCiAgICAgICAgbWFyZ2luLXJpZ2h0OiAyMHB4Ow0KICAgICAgfQ0KICAgICAgLmRlc2Mgew0KICAgICAgICBmb250LXNpemU6IDE4cHg7DQogICAgICB9DQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["payOrderDetails.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"payOrderDetails.vue","sourceRoot":"src/views/financialManagement/components","sourcesContent":["<template>\r\n  <el-dialog\r\n    @close=\"closeFn\"\r\n    @open=\"openFn\"\r\n    :visible=\"dialogVisible\"\r\n    width=\"50%\"\r\n    :before-close=\"closeFn\"\r\n    :showClose=\"false\"\r\n  >\r\n    <div v-if=\"orderDetails\">\r\n      <div class=\"orderDetails\">\r\n        <h2 style=\"text-align:center;\">\r\n          {{\r\n            rowList.serviceTypeName === \"维保师傅支付\" ? \"支付详情\" : \"收款详情\"\r\n          }}\r\n        </h2>\r\n        <div class=\"content\">\r\n          <div class=\"line\">\r\n            <div class=\"item\">\r\n              <span class=\"title\"\r\n                >{{ orderDetails.masterRealName ? \"师傅\" : \"普通\" }}订单</span\r\n              >\r\n              <span class=\"desc\">{{ rowList.orderSn }}</span>\r\n            </div>\r\n            <div class=\"item\" v-if=\"orderDetails.masterRealName\">\r\n              <span class=\"title\">师傅名称</span>\r\n              <span class=\"desc\">{{ orderDetails.masterRealName }}</span>\r\n            </div>\r\n          </div>\r\n          <div class=\"line\">\r\n            <div class=\"item\">\r\n              <span class=\"title\">客户名称</span>\r\n              <span class=\"desc\">{{ orderDetails.contactsPeople }}</span>\r\n            </div>\r\n            <div class=\"item\">\r\n              <span class=\"title\">联系电话</span>\r\n              <span class=\"desc\">{{ orderDetails.contactsPhone }}</span>\r\n            </div>\r\n          </div>\r\n          <div class=\"line\">\r\n            <div class=\"item\">\r\n              <span class=\"title\">支付日期</span>\r\n              <span class=\"desc\">{{\r\n                rowList.payTime ? rowList.payTime : \"未支付\"\r\n              }}</span>\r\n            </div>\r\n            <div class=\"item\">\r\n              <span class=\"title\">订单金额</span>\r\n              <span class=\"desc\">{{ rowList.payMoney }}元</span>\r\n            </div>\r\n          </div>\r\n          <div class=\"line\">\r\n            <div class=\"item\">\r\n              <span class=\"title\">收款人员</span>\r\n              <span class=\"desc\">{{ orderDetails.realName }}</span>\r\n            </div>\r\n            <div class=\"item\">\r\n              <span class=\"title\">所属银行</span>\r\n              <span class=\"desc\">{{ orderDetails.bankName }}</span>\r\n            </div>\r\n          </div>\r\n          <div class=\"line\">\r\n            <div class=\"item\">\r\n              <span class=\"title\">银行卡号</span>\r\n              <span class=\"desc\">{{ orderDetails.realBankCode }}</span>\r\n            </div>\r\n            <div class=\"item\"></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"moneyDetails\">\r\n        <h2 style=\"padding-left: 20px;\">金额明细</h2>\r\n        <div class=\"content\">\r\n          <div class=\"line\">\r\n            <span class=\"title\">上门费用</span>\r\n            <span class=\"desc\">{{ orderDetails.doorAmount }}元</span>\r\n          </div>\r\n          <div class=\"line\">\r\n            <span class=\"title\">技术服务费</span>\r\n            <span class=\"desc\">{{ orderDetails.technologyAmount }}元</span>\r\n          </div>\r\n          <div class=\"line\">\r\n            <span class=\"title\"\r\n              >配件费<i\r\n                v-if=\"\r\n                  orderDetails.partsList && orderDetails.partsList.length !== 0\r\n                \"\r\n                v-show=\"!partsDetailsShow\"\r\n                class=\"el-icon-caret-bottom\"\r\n                @click=\"partsDetailsShow = true\"\r\n              ></i\r\n              ><i\r\n                v-if=\"\r\n                  orderDetails.partsList && orderDetails.partsList.length !== 0\r\n                \"\r\n                v-show=\"partsDetailsShow\"\r\n                class=\"el-icon-caret-top\"\r\n                @click=\"partsDetailsShow = false\"\r\n              ></i\r\n            ></span>\r\n            <span class=\"desc\">{{ orderDetails.partsAmount }}元</span>\r\n          </div>\r\n          <div class=\"partsLine\" v-if=\"partsDetailsShow\">\r\n            <div class=\"item\" v-for=\"item in orderDetails.partsList\">\r\n              <div class=\"loginPurchase\">\r\n                <img\r\n                  src=\"@/assets/logo/masterPurchase.png\"\r\n                  width=\"28px\"\r\n                  v-if=\"item.type !== 2\"\r\n                />\r\n                <img\r\n                  src=\"@/assets/logo/platformPurchase.png\"\r\n                  width=\"28px\"\r\n                  v-if=\"item.type === 2\"\r\n                />\r\n              </div>\r\n              <div class=\"name\">{{ item.name }}</div>\r\n              <div class=\"price\">{{ item.price }}元</div>\r\n              <div class=\"num\">{{ item.num }}个</div>\r\n            </div>\r\n          </div>\r\n          <div class=\"line\">\r\n            <span class=\"title\">其他</span>\r\n            <span class=\"desc\">{{ orderDetails.otherAmount }}元</span>\r\n          </div>\r\n          <div class=\"line\">\r\n            <span class=\"title\">总金额</span>\r\n            <span class=\"desc\">{{ orderDetails.totalAmount }}元</span>\r\n          </div>\r\n          <div class=\"line\">\r\n            <span class=\"title\" style=\"color: red;\">支付金额</span>\r\n            <span class=\"desc\" style=\"color: red;\"\r\n              >{{ orderDetails.payAmount ? orderDetails.payAmount : 0 }}元</span\r\n            >\r\n            <span\r\n              style=\"margin-left: 20px;\"\r\n              v-if=\"rowList.serviceTypeName !== '维保企业支付'\"\r\n              >(不包含平台采购配件费)</span\r\n            >\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div style=\"display: flex;justify-content: flex-end;\">\r\n        <el-button @click=\"closeFn\" class=\"closeBtn\">关闭</el-button>\r\n        <el-button class=\"comfirmBtn\" v-if=\"payBtnShow\" @click=\"comfirmFn\"\r\n          >确定付款</el-button\r\n        >\r\n      </div>\r\n    </div>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  getRepairOrderCollectionInfo,\r\n  handleConfirmPaymentToMaster,\r\n} from \"@/api/financialController\";\r\n\r\nexport default {\r\n  props: {\r\n    dialogVisible: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    payBtnShow: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      rowList: null,\r\n      orderDetails: null,\r\n      partsDetailsShow: true,\r\n    };\r\n  },\r\n  created() {},\r\n  methods: {\r\n    // 弹窗close触发的事件\r\n    closeFn() {\r\n      this.rowList = null;\r\n      this.orderDetails = null;\r\n      this.partsDetailsShow = true;\r\n      this.$emit(\"handleClose\");\r\n    },\r\n    // 弹窗open触发的事件\r\n    async openFn() {\r\n      const loading = this.$loading();\r\n      if (this.rowList.serviceTypeName === \"维保师傅支付\") {\r\n        const res = await getRepairOrderCollectionInfo(this.rowList.orderSn, 3);\r\n        this.orderDetails = res.data;\r\n      } else {\r\n        const res = await getRepairOrderCollectionInfo(this.rowList.orderSn, 2);\r\n        this.orderDetails = res.data;\r\n      }\r\n      console.log(this.orderDetails);\r\n      loading.close();\r\n    },\r\n    // 确定按钮\r\n    async comfirmFn() {\r\n      const res = await handleConfirmPaymentToMaster(this.rowList.orderSn);\r\n      if (res.message === \"操作成功\") {\r\n        this.$message({\r\n          message: \"支付成功!\",\r\n          type: \"success\",\r\n        });\r\n        await this.$emit(\"refreshpage\");\r\n        await this.closeFn();\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n// 按钮样式\r\n.closeBtn {\r\n  background-color: #fff;\r\n  color: #0b2059;\r\n  border: 1px solid #0b2059;\r\n  width: 110px;\r\n  height: 40px;\r\n}\r\n.comfirmBtn {\r\n  background-color: #2e4c9e;\r\n  color: #fff;\r\n  width: 110px;\r\n  height: 40px;\r\n}\r\n\r\n// 收款详情\r\n.orderDetails {\r\n  color: #707070;\r\n  .content {\r\n    padding: 20px 20px;\r\n    .line {\r\n      display: flex;\r\n      margin-bottom: 20px;\r\n      .item {\r\n        flex: 1;\r\n        display: flex;\r\n        align-items: center;\r\n        padding-right: 20px;\r\n        .title {\r\n          color: #707070;\r\n          font-weight: 700;\r\n          font-size: 22px;\r\n          margin-right: 20px;\r\n        }\r\n        .desc {\r\n          font-size: 18px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.moneyDetails {\r\n  color: #707070;\r\n\r\n  .content {\r\n    padding: 20px 20px 20px 60px;\r\n    .partsLine {\r\n      width: 70%;\r\n      .item {\r\n        font-size: 18px;\r\n        margin-bottom: 20px;\r\n        display: flex;\r\n        padding-left: 50px;\r\n        width: 70%;\r\n        position: relative;\r\n        .loginPurchase {\r\n          position: absolute;\r\n          left: 5px;\r\n          top: -5px;\r\n        }\r\n        .name {\r\n          flex: 1;\r\n        }\r\n        .price {\r\n          flex: 1;\r\n        }\r\n        .num {\r\n          flex: 1;\r\n        }\r\n      }\r\n    }\r\n    .line {\r\n      margin-bottom: 20px;\r\n      .title {\r\n        display: inline-block;\r\n        width: 150px;\r\n        color: #707070;\r\n        font-weight: 700;\r\n        font-size: 22px;\r\n        margin-right: 20px;\r\n      }\r\n      .desc {\r\n        font-size: 18px;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]}]}