{"remainingRequest":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\机将公司\\机将后台端\\background-management-system\\src\\views\\boss\\companyWelfare\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\机将公司\\机将后台端\\background-management-system\\src\\views\\boss\\companyWelfare\\index.vue","mtime":1669258939295},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IHF1ZXJ5V2VsZmFyZSxlZGl0V2VsZmFyZSxkZWxldGVXZWxmYXJlIH0gZnJvbSAiQC9hcGkvYm9zcyI7CmltcG9ydCB1cGxvYWRJbWcgZnJvbSAiQC9jb21wb25lbnRzL3VwbG9hZEltZy91cGxvYWQtaW1nLnZ1ZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiR29vZHNDbGFzcyIsCiAgY29tcG9uZW50czogewogICAgdXBsb2FkSW1nLAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZhdGhlckNhdGVnb3J5QXJyOiBbXSwKICAgICAgdGltZVN0YW1wOiAiIiwKICAgICAgZGF0YUxpc3Q6IFtdLAogICAgICBwaWQ6IDAsCiAgICAgIGRlZkRkYXRhOiB7CiAgICAgICAgbmFtZTogIiIsCiAgICAgIH0sCiAgICAgIGRhdGFDb25maWc6IHsKICAgICAgICBsb2FkaW5nOiB0cnVlLAogICAgICB9LAogICAgfTsKICB9LAogIGJlZm9yZU1vdW50KCkgewogICAgdGhpcy5xdWVyeVByb2R1Y3RDYXRlZ29yeUZuKCk7CiAgfSwKICBjb21wdXRlZDoge30sCiAgd2F0Y2g6IHt9LAogIG1ldGhvZHM6IHsKICAgIHF1ZXJ5UHJvZHVjdENhdGVnb3J5Rm4oKSB7CiAgICAgIHF1ZXJ5V2VsZmFyZSgpLnRoZW4oKHJlcykgPT4gewogICAgICAgIGNvbnN0IHJlc0RhdGEgPSB0aGlzLnJlc0RhdGFGbihyZXMpOwogICAgICAgIHRoaXMuZGF0YUxpc3Quc3BsaWNlKDAsIHRoaXMuZGF0YUxpc3QubGVuZ3RoLCAuLi5yZXNEYXRhKTsKICAgICAgfSk7CiAgICB9LAogICAgLy/mlrDlop7liIbnsbsKICAgIGFkZEl0ZW1GbigpIHsKICAgICAgdGhpcy5kYXRhTGlzdC51bnNoaWZ0KE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZGVmRGRhdGEpKTsKICAgIH0sCiAgICAvL+afpeeci+WtkOWIhuexuwogICAgZ2V0Q2hpbGRyZW5GbihpZCkgewogICAgICB0aGlzLnBpZCA9IGlkOwogICAgICB0aGlzLnF1ZXJ5UHJvZHVjdENhdGVnb3J5Rm4oKTsKICAgIH0sCiAgICAvL+i/lOWbnuS4gOe6p+WIhuexuwogICAgYmFja0ZjYXRlZ29yeUZuKCkgewogICAgICB0aGlzLnBpZCA9IDA7CiAgICAgIHRoaXMucXVlcnlQcm9kdWN0Q2F0ZWdvcnlGbigpOwogICAgfSwKICAgIC8v57yW6L6R6IGM5L2N57G75Z6LCiAgICBlZGl0SXRlbUZuKGl0ZW0pIHsKICAgICAgZWRpdFdlbGZhcmUoewogICAgICAgIGlkOiBpdGVtLmlkLAogICAgICAgIG5hbWU6IGl0ZW0ubmFtZSwKICAgICAgfSkudGhlbigocmVzKSA9PiB7CiAgICAgICAgaWYgKHJlcy5jb2RlID09PSAiMDAwIikgewogICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgICAgICAgICAgbWVzc2FnZTogIuaTjeS9nOaIkOWKn++8gSIsCiAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgIH0pOwogICAgICAgICAgdGhpcy5xdWVyeVByb2R1Y3RDYXRlZ29yeUZuKCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvL+WIoOmZpOWyl+S9jQogICAgZGVsZnVuYyhzY29wZSkgewogICAgICB0aGlzLmRlbGV0ZUFsZXJ0KCkKICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICBjb25zdCByZXMgPSBkZWxldGVXZWxmYXJlKHsKICAgICAgICAgICAgaWQ6IHNjb3BlLnJvdy5pZCwKICAgICAgICAgIH0pOwogICAgICAgICAgcmV0dXJuIHJlczsKICAgICAgICB9KQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgIGlmIChyZXMuY29kZSA9PSAiMDAwIikgewogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoIuWIoOmZpOaIkOWKn++8gSIpOwogICAgICAgICAgICB0aGlzLmRhdGFMaXN0LnNwbGljZShzY29wZS4kaW5kZXgsIDEpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/boss/companyWelfare","sourcesContent":["<template>\n  <div class=\"content_box\">\n    <first-title title=\"公司福利列表\" />\n    <div class=\"select_view\">\n      <el-button type=\"primary\" icon=\"el-icon-plus\" @click=\"addItemFn\"\n        >添加福利</el-button\n      >\n      <span class=\"mg_l15\" style=\"color: #f56c6c\"\n        >注意：“修改”和“添加”数据项目后需要点击右侧“提交编辑”按钮才会生效哦</span\n      >\n    </div>\n    <el-table\n      :key=\"timeStamp\"\n      v-loading=\"dataConfig.loading\"\n      border\n      :data=\"dataList\"\n      class=\"list\"\n    >\n      <el-table-column\n        label=\"ID\"\n        fixed\n        width=\"60\"\n        align=\"center\"\n        header-align=\"center\"\n      >\n        <template slot-scope=\"scope\">\n          <span v-if=\"scope.row.id\">{{ scope.row.id }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"公司福利名称\" align=\"center\">\n        <template slot-scope=\"scope\">\n          <el-input v-model=\"scope.row.name\" placeholder=\"请输入公司福利名称\" />\n        </template>\n      </el-table-column>\n      <el-table-column\n        label=\"操作\"\n        fixed=\"right\"\n        width=\"300\"\n        align=\"center\"\n        header-align=\"center\"\n      >\n        <template slot-scope=\"scope\">\n          <el-button type=\"primary\" size=\"small\" @click=\"editItemFn(scope.row)\"\n            >提交编辑</el-button\n          >\n          <el-button size=\"small\" type=\"danger\" @click=\"delfunc(scope)\"\n            >删除</el-button\n          >\n        </template>\n      </el-table-column>\n    </el-table>\n  </div>\n</template>\n\n<script>\nimport { queryWelfare,editWelfare,deleteWelfare } from \"@/api/boss\";\nimport uploadImg from \"@/components/uploadImg/upload-img.vue\";\nexport default {\n  name: \"GoodsClass\",\n  components: {\n    uploadImg,\n  },\n  data() {\n    return {\n      fatherCategoryArr: [],\n      timeStamp: \"\",\n      dataList: [],\n      pid: 0,\n      defDdata: {\n        name: \"\",\n      },\n      dataConfig: {\n        loading: true,\n      },\n    };\n  },\n  beforeMount() {\n    this.queryProductCategoryFn();\n  },\n  computed: {},\n  watch: {},\n  methods: {\n    queryProductCategoryFn() {\n      queryWelfare().then((res) => {\n        const resData = this.resDataFn(res);\n        this.dataList.splice(0, this.dataList.length, ...resData);\n      });\n    },\n    //新增分类\n    addItemFn() {\n      this.dataList.unshift(Object.assign({}, this.defDdata));\n    },\n    //查看子分类\n    getChildrenFn(id) {\n      this.pid = id;\n      this.queryProductCategoryFn();\n    },\n    //返回一级分类\n    backFcategoryFn() {\n      this.pid = 0;\n      this.queryProductCategoryFn();\n    },\n    //编辑职位类型\n    editItemFn(item) {\n      editWelfare({\n        id: item.id,\n        name: item.name,\n      }).then((res) => {\n        if (res.code === \"000\") {\n          this.$message({\n            showClose: true,\n            message: \"操作成功！\",\n            type: \"success\",\n          });\n          this.queryProductCategoryFn();\n        }\n      });\n    },\n    //删除岗位\n    delfunc(scope) {\n      this.deleteAlert()\n        .then(() => {\n          const res = deleteWelfare({\n            id: scope.row.id,\n          });\n          return res;\n        })\n        .then((res) => {\n          if (res.code == \"000\") {\n            this.$message.success(\"删除成功！\");\n            this.dataList.splice(scope.$index, 1);\n          }\n        });\n    },\n  },\n};\n</script>\n\n<style scoped>\n/deep/ .el-table .cell {\n  display: flex;\n  justify-content: center;\n}\n</style>\n"]}]}