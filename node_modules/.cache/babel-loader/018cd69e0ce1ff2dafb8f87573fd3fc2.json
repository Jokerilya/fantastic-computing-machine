{"remainingRequest":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\babel-loader\\lib\\index.js!D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\机将公司\\机将后台端\\background-management-system\\src\\views\\talent\\OfflineTraining\\detail.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\机将公司\\机将后台端\\background-management-system\\src\\views\\talent\\OfflineTraining\\detail.vue","mtime":1669258939337},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovXHU2NzNBXHU1QzA2XHU1MTZDXHU1M0Y4L1x1NjczQVx1NUMwNlx1NTQwRVx1NTNGMFx1N0FFRi9iYWNrZ3JvdW5kLW1hbmFnZW1lbnQtc3lzdGVtL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGdkbWFwIGZyb20gIkAvY29tcG9uZW50cy9nZE1hcCI7CmltcG9ydCB7IGdldE9mZmxpbmVUcmFpbmluZywgZWRpdE9mZmxpbmVUcmFpbmluZyB9IGZyb20gIkAvYXBpL3RhbGVudC5qcyI7CmltcG9ydCB1cGxvYWRJbWcgZnJvbSAiQC9jb21wb25lbnRzL3VwbG9hZEltZy91cGxvYWQtaW1nLnZ1ZSI7CmltcG9ydCBUaW55bWNlIGZyb20gIkAvY29tcG9uZW50cy9UaW55bWNlIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICIiLAogIGNvbXBvbmVudHM6IHsKICAgIFRpbnltY2U6IFRpbnltY2UsCiAgICB1cGxvYWRJbWc6IHVwbG9hZEltZywKICAgIGdkbWFwOiBnZG1hcAogIH0sCiAgcHJvcHM6IHt9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBvcGVubWFwZGlhbG9nOiBmYWxzZSwKICAgICAgb2ZmbGluZUlkOiAiIiwKICAgICAgc3VibWl0SW5nOiBmYWxzZSwKICAgICAgZm9ybWRhdGE6IHsKICAgICAgICBhZGRyZXNzOiAiIiwKICAgICAgICBjb250ZW50OiAiIiwKICAgICAgICBjb3ZlckltYWdlOiAiIiwKICAgICAgICBlbWFpbDogIiIsCiAgICAgICAgbGF0aXR1ZGU6ICIiLAogICAgICAgIGxvbmdpdHVkZTogIiIsCiAgICAgICAgcGhvbmU6ICIiLAogICAgICAgIHRpdGxlOiAiIgogICAgICB9LAogICAgICBydWxlczoge30KICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIGFhYSA9IHRoaXMuJHJvdXRlLnF1ZXJ5Lm9mZmxpbmVJZDsKICAgIHRoaXMub2ZmbGluZUlkID0gTnVtYmVyKGFhYSk7CgogICAgaWYgKE51bWJlcihhYWEpICE9PSAwKSB7CiAgICAgIHRoaXMuZ2V0b2ZmbGluZURldGFpbCgpOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHt9LAogIGFjdGl2YXRlZDogZnVuY3Rpb24gYWN0aXZhdGVkKCkge30sCiAgd2F0Y2g6IHt9LAogIG1ldGhvZHM6IHsKICAgIC8v5o+Q5LqkCiAgICBzdWJtaXQ6IGZ1bmN0aW9uIHN1Ym1pdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBwb3N0RGF0YSA9IF9vYmplY3RTcHJlYWQoe30sIHRoaXMuZm9ybWRhdGEpOwoKICAgICAgZGVsZXRlIHBvc3REYXRhLmRlbEZsYWc7CiAgICAgIHBvc3REYXRhLmlkID0gdGhpcy5vZmZsaW5lSWQ7CiAgICAgIHRoaXMuc3VibWl0SW5nID0gdHJ1ZTsKICAgICAgZWRpdE9mZmxpbmVUcmFpbmluZyhwb3N0RGF0YSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpcy5zdWJtaXRJbmcgPSBmYWxzZTsKICAgICAgICB9LCAxMDAwKTsKCiAgICAgICAgaWYgKHJlcy5jb2RlID09ICIwMDAiKSB7CiAgICAgICAgICBfdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgICAgICAgICAgbWVzc2FnZTogX3RoaXMub2ZmbGluZUlkID09PSAwID8gIuaWsOWinuaIkOWKn++8gSIgOiAi57yW6L6R5oiQ5Yqf77yBIiwKICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiCiAgICAgICAgICB9KTsKCiAgICAgICAgICBfdGhpcy4kcm91dGVyLmdvKC0xKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzLnN1Ym1pdEluZyA9IGZhbHNlOwogICAgICAgIH0sIDEwMDApOwogICAgICB9KTsKICAgIH0sCiAgICAvL+iOt+WPluivpuaDhQogICAgZ2V0b2ZmbGluZURldGFpbDogZnVuY3Rpb24gZ2V0b2ZmbGluZURldGFpbCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBpZiAodGhpcy5vZmZsaW5lSWQgPT0gMCkgcmV0dXJuOwogICAgICBnZXRPZmZsaW5lVHJhaW5pbmcodGhpcy5vZmZsaW5lSWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIHZhciByZXNEYXRhID0gX3RoaXMyLnJlc0RhdGFGbihyZXMpOwoKICAgICAgICBfdGhpczIuZm9ybWRhdGEgPSBPYmplY3QuYXNzaWduKF90aGlzMi5mb3JtZGF0YSwgcmVzRGF0YSk7CiAgICAgIH0pOwogICAgfSwKICAgIC8v5Zu+54mH5LiK5Lyg6L+U5ZueCiAgICB1cGxvYWRTdWNGbjogZnVuY3Rpb24gdXBsb2FkU3VjRm4oaW1nKSB7CiAgICAgIHRoaXMuZm9ybWRhdGEuY292ZXJJbWFnZSA9IGltZzsKICAgIH0sCiAgICAvL+WcsOWbvui/lOWbnuWcsOeQhuS9jee9rgogICAgZ2V0YWRkcmVzczogZnVuY3Rpb24gZ2V0YWRkcmVzcyh2YWwpIHsKICAgICAgdGhpcy5mb3JtZGF0YS5hZGRyZXNzID0gdmFsLmFkZHJlc3M7CiAgICAgIHRoaXMuZm9ybWRhdGEubGF0aXR1ZGUgPSB2YWwubGF0OwogICAgICB0aGlzLmZvcm1kYXRhLmxvbmdpdHVkZSA9IHZhbC5sbmc7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["detail.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"content_box\">\n    <first-title :title=\"offlineId === 0 ? '新增培训' : '编辑培训'\" />\n    <div class=\"bg-white\" style=\"padding: 50px 20px\">\n      <el-form ref=\"form\" :rules=\"rules\" label-width=\"130px\" :model=\"formdata\">\n        <el-form-item label=\"标题：\" prop=\"title\">\n          <el-input\n            style=\"width: 250px\"\n            v-model=\"formdata.title\"\n            placeholder=\"请输入标题\"\n          />\n        </el-form-item>\n        <el-form-item\n          class=\"float_item\"\n          style=\"height: auto\"\n          label=\"封面图:\"\n          prop=\"coverImage\"\n        >\n          <upload-img\n            width=\"80px\"\n            height=\"80px\"\n            :img=\"formdata.coverImage\"\n            @uploadSuc=\"uploadSucFn\"\n          />\n        </el-form-item>\n        <el-form-item label=\"电话：\" prop=\"phone\">\n          <el-input\n            style=\"width: 250px\"\n            v-model=\"formdata.phone\"\n            placeholder=\"请输入电话\"\n          />\n        </el-form-item>\n        <el-form-item label=\"邮箱：\" prop=\"email\">\n          <el-input\n            style=\"width: 250px\"\n            v-model=\"formdata.email\"\n            placeholder=\"请输入邮箱\"\n          />\n        </el-form-item>\n        <el-form-item label=\"地理位置：\" prop=\"address\">\n          <el-input\n            v-model=\"formdata.address\"\n            class=\"inputcursor\"\n            readonly=\"\"\n            style=\"width: 350px\"\n            @click.native=\"openmapdialog = true\"\n            placeholder=\"点击打开地图选择地理位置\"\n          />\n        </el-form-item>\n        <el-form-item style=\"clear: both\" label=\"线下培训描述：\" prop=\"content\">\n          <tinymce\n            :width=\"650\"\n            ref=\"ppp\"\n            :id=\"'offline_' + offlineId\"\n            v-model=\"formdata.content\"\n            :height=\"400\"\n          />\n        </el-form-item>\n        <el-form-item label=\"\">\n          <el-button\n            type=\"primary\"\n            class=\"mr10\"\n            plain\n            @click=\"$router.push({ name: 'offlinetrainingList' })\"\n            >取消</el-button\n          >\n          <el-button type=\"primary\" :disabled=\"submitIng\" @click=\"submit\">{{\n            submitIng ? \"提交中...\" : \"确认提交\"\n          }}</el-button>\n          <span v-show=\"submitIng\" style=\"margin-left: 15px; color: #f56c6c\"\n            >提交中,请勿重复点击!</span\n          >\n        </el-form-item>\n      </el-form>\n    </div>\n    <!--地图组件-->\n    <gdmap\n      @getaddress=\"getaddress\"\n      :openmapdialog=\"openmapdialog\"\n      @close=\"openmapdialog = false\"\n    ></gdmap>\n  </div>\n</template>\n\n<script>\nimport gdmap from \"@/components/gdMap\";\nimport { getOfflineTraining, editOfflineTraining } from \"@/api/talent.js\";\nimport uploadImg from \"@/components/uploadImg/upload-img.vue\";\nimport Tinymce from \"@/components/Tinymce\";\nexport default {\n  name: \"\",\n  components: {\n    Tinymce,\n    uploadImg,\n    gdmap,\n  },\n  props: {},\n  data() {\n    return {\n      openmapdialog: false,\n      offlineId: \"\",\n      submitIng: false,\n      formdata: {\n        address: \"\",\n        content: \"\",\n        coverImage: \"\",\n        email: \"\",\n        latitude: \"\",\n        longitude: \"\",\n        phone: \"\",\n        title: \"\",\n      },\n      rules: {},\n    };\n  },\n  mounted() {\n    let aaa = this.$route.query.offlineId;\n    this.offlineId = Number(aaa);\n    if (Number(aaa) !== 0) {\n      this.getofflineDetail();\n    }\n  },\n  created() {},\n  activated() {},\n  watch: {},\n  methods: {\n    //提交\n    submit() {\n      const postData = { ...this.formdata };\n      delete postData.delFlag\n      postData.id = this.offlineId;\n      this.submitIng = true;\n      editOfflineTraining(postData)\n        .then((res) => {\n          setTimeout(() => {\n            this.submitIng = false;\n          }, 1000);\n          if (res.code == \"000\") {\n            this.$message({\n              showClose: true,\n              message: this.offlineId === 0 ? \"新增成功！\" : \"编辑成功！\",\n              type: \"success\",\n            });\n            this.$router.go(-1);\n          }\n        })\n        .catch(() => {\n          setTimeout(() => {\n            this.submitIng = false;\n          }, 1000);\n        });\n    },\n    //获取详情\n    getofflineDetail() {\n      if (this.offlineId == 0) return;\n      getOfflineTraining(this.offlineId).then((res) => {\n        const resData = this.resDataFn(res);\n        this.formdata = Object.assign(this.formdata, resData);\n      });\n    },\n    //图片上传返回\n    uploadSucFn(img) {\n      this.formdata.coverImage = img;\n    },\n    //地图返回地理位置\n    getaddress(val) {\n      this.formdata.address = val.address;\n      this.formdata.latitude = val.lat;\n      this.formdata.longitude = val.lng\n    },\n  },\n};\n</script>\n\n<style>\n.inputcursor /deep/ .el-input__inner {\n  cursor: pointer;\n}\n</style>\n"],"sourceRoot":"src/views/talent/OfflineTraining"}]}