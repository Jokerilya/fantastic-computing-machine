{"remainingRequest":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\babel-loader\\lib\\index.js!D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\机将公司\\机将后台端\\background-management-system\\src\\components\\uploadImg\\upload-img.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\机将公司\\机将后台端\\background-management-system\\src\\components\\uploadImg\\upload-img.vue","mtime":1669258939257},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgVXBsb2FkSW1nIH0gZnJvbSAnQC9hcGkvc3lzdGVtLmpzJzsKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICB0eXBlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ2ltZycKICAgIH0sCiAgICBpbWc6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnJwogICAgfSwKICAgIHdpZHRoOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJzYwcHgnCiAgICB9LAogICAgaGVpZ2h0OiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJzYwcHgnCiAgICB9LAogICAgcmFkaXVzOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHt9OwogIH0sCiAgY29tcHV0ZWQ6IHt9LAogIG1ldGhvZHM6IHsKICAgIGh0dHBSZXF1ZXN0Rm46IGZ1bmN0aW9uIGh0dHBSZXF1ZXN0Rm4oZGF0YSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIGxvYWRpbmcgPSB0aGlzLiRsb2FkaW5nKHsKICAgICAgICB0ZXh0OiAn5LiK5Lyg5LitLi4nCiAgICAgIH0pOwogICAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgZm9ybURhdGEuYXBwZW5kKCdmaWxlJywgZGF0YS5maWxlKTsKICAgICAgVXBsb2FkSW1nKGZvcm1EYXRhKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpcy4kZW1pdCgndXBsb2FkU3VjJywgcmVzLmRhdGEpOwoKICAgICAgICBfdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn5paH5Lu25LiK5Lyg5oiQ5Yqf77yBJywKICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJwogICAgICAgIH0pOwoKICAgICAgICBsb2FkaW5nLmNsb3NlKCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn5paH5Lu25LiK5Lyg5aSx6LSl77yBJywKICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICAgIH0pOwoKICAgICAgICBsb2FkaW5nLmNsb3NlKCk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["upload-img.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAqBA,SAAA,SAAA,QAAA,iBAAA;AACA,eAAA;AACA,EAAA,KAAA,EAAA;AACA,IAAA,IAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA,KADA;AAKA,IAAA,GAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA,KALA;AASA,IAAA,KAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA,KATA;AAaA,IAAA,MAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA,KAbA;AAiBA,IAAA,MAAA,EAAA;AACA,MAAA,IAAA,EAAA,OADA;AAEA,MAAA,OAAA,EAAA;AAFA;AAjBA,GADA;AAuBA,EAAA,IAvBA,kBAuBA;AACA,WAAA,EAAA;AAGA,GA3BA;AA4BA,EAAA,QAAA,EAAA,EA5BA;AA+BA,EAAA,OAAA,EAAA;AACA,IAAA,aADA,yBACA,IADA,EACA;AAAA;;AACA,UAAA,OAAA,GAAA,KAAA,QAAA,CAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAAA,CAAA;AACA,UAAA,QAAA,GAAA,IAAA,QAAA,EAAA;AACA,MAAA,QAAA,CAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,IAAA;AACA,MAAA,SAAA,CAAA,QAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,KAAA,CAAA,WAAA,EAAA,GAAA,CAAA,IAAA;;AACA,QAAA,KAAA,CAAA,QAAA,CAAA;AACA,UAAA,SAAA,EAAA,IADA;AAEA,UAAA,OAAA,EAAA,SAFA;AAGA,UAAA,IAAA,EAAA;AAHA,SAAA;;AAKA,QAAA,OAAA,CAAA,KAAA;AACA,OARA,EAQA,KARA,CAQA,YAAA;AACA,QAAA,KAAA,CAAA,QAAA,CAAA;AACA,UAAA,SAAA,EAAA,IADA;AAEA,UAAA,OAAA,EAAA,SAFA;AAGA,UAAA,IAAA,EAAA;AAHA,SAAA;;AAKA,QAAA,OAAA,CAAA,KAAA;AACA,OAfA;AAgBA;AArBA;AA/BA,CAAA","sourcesContent":["<template>\n  <div class=\"upload_img\" :class=\"{border_radius:radius}\" :style=\"{width:width,height:height,border:'1px solid #ccc'}\">\n    <img v-if=\"img && type == 'img'\" :src=\"img\" alt=\"\">\n    <video v-if=\"img && type == 'video'\" :src=\"img\" />\n    <span v-if=\"!img\" class=\"no_text\">点击上传</span>\n    <el-upload\n      class=\"upload-demo\"\n\t    action=\"\"\n      :http-request=\"httpRequestFn\"\n      :show-file-list=\"false\"\n    >\n      <div slot=\"trigger\" v-if=\"img && type == 'file'\">\n        <i class=\"el-icon-document\"></i>\n        {{img}}\n      </div>\n      <div v-else slot=\"trigger\" class=\"upload\" />\n    </el-upload>\n  </div>\n</template>\n\n<script>\nimport { UploadImg } from '@/api/system.js'\nexport default {\n  props: {\n    type: {\n      type: String,\n      default: 'img'\n    },\n    img: {\n      type: String,\n      default: ''\n    },\n    width: {\n      type: String,\n      default: '60px'\n    },\n    height: {\n      type: String,\n      default: '60px'\n    },\n    radius: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n    \n    }\n  },\n  computed: {\n\n  },\n  methods: {\n    httpRequestFn(data) {\n      const loading = this.$loading({text:'上传中..'})\n      const formData = new FormData()\n      formData.append('file', data.file)\n      UploadImg(formData).then((res) => {\n        this.$emit('uploadSuc', res.data)\n        this.$message({\n          showClose: true,\n          message: '文件上传成功！',\n          type: 'success'\n        })\n        loading.close()\n      }).catch(() => {\n        this.$message({\n          showClose: true,\n          message: '文件上传失败！',\n          type: 'warning'\n        })\n        loading.close()\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.upload_img{\n    position: relative;\n    overflow: hidden;\n    background: #ddd;\n    display: flex;\n    .upload{\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      top: 0;\n      left: 0;\n      background: url('../../assets/upload.png') no-repeat center / auto 100%;\n      font-size: #fff;\n      text-align: center;\n      line-height: 80px;\n      display: none;\n      background-color: rgba(0,0,0,0.78);\n    }\n    &:hover{\n      .upload{\n        display: block;\n      }\n    }\n    img,video{\n      width: 100%;\n      height: 100%;\n      object-fit: cover;\n    }\n    video{\n      width: 100%;\n      height: 100%;\n    }\n    .no_text{\n      margin: auto;\n      color: #999;\n      font-size: 12px;\n    }\n}\n.border_radius{\n  border-radius: 50%;\n}\n</style>\n</style>\n"],"sourceRoot":"src/components/uploadImg"}]}