{"remainingRequest":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\babel-loader\\lib\\index.js!D:\\机将公司\\机将后台端\\background-management-system\\src\\store\\modules\\user.js","dependencies":[{"path":"D:\\机将公司\\机将后台端\\background-management-system\\src\\store\\modules\\user.js","mtime":1669258939282},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJEOi9cdTY3M0FcdTVDMDZcdTUxNkNcdTUzRjgvXHU2NzNBXHU1QzA2XHU1NDBFXHU1M0YwXHU3QUVGL2JhY2tncm91bmQtbWFuYWdlbWVudC1zeXN0ZW0vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCB7IGxvZ2luIGFzIF9sb2dpbiB9IGZyb20gJ0AvYXBpL2FkbWluLmpzJzsKaW1wb3J0IHsgbWVudVRyZWVMaXN0Rm4gfSBmcm9tICdAL2FwaS9zeXN0ZW0uanMnOwppbXBvcnQgeyBnZXRUb2tlbiwgc2V0VG9rZW4sIHJlbW92ZVRva2VuIH0gZnJvbSAnQC91dGlscy9hdXRoJzsKaW1wb3J0IHsgbG9jYWxTdG9yYWdlRGF0YSwgcmVtb3ZlTG9jYWxTdG9yYWdlIH0gZnJvbSAnQC91dGlscyc7CmltcG9ydCB7IHJlc2V0Um91dGVyIH0gZnJvbSAnQC9yb3V0ZXInOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7Cgp2YXIgZ2V0RGVmYXVsdFN0YXRlID0gZnVuY3Rpb24gZ2V0RGVmYXVsdFN0YXRlKCkgewogIHJldHVybiB7CiAgICB0b2tlbjogZ2V0VG9rZW4oKSwKICAgIHVzZXJJbmZvOiB7fSwKICAgIG1lbnVUcmVlTGlzdDogW10sCiAgICBmaWxlUHJvZ3Jlc3M6IHt9CiAgfTsKfTsKCnZhciBzdGF0ZSA9IGdldERlZmF1bHRTdGF0ZSgpOwp2YXIgbXV0YXRpb25zID0gewogIFJFU0VUX1NUQVRFOiBmdW5jdGlvbiBSRVNFVF9TVEFURShzdGF0ZSkgewogICAgT2JqZWN0LmFzc2lnbihzdGF0ZSwgZ2V0RGVmYXVsdFN0YXRlKCkpOwogIH0sCiAgU0VUX1RPS0VOOiBmdW5jdGlvbiBTRVRfVE9LRU4oc3RhdGUsIHRva2VuKSB7CiAgICBzdGF0ZS50b2tlbiA9IHRva2VuOwogIH0sCiAgU0VUX1VTRVJJTkZPOiBmdW5jdGlvbiBTRVRfVVNFUklORk8oc3RhdGUsIGRhdGEpIHsKICAgIHN0YXRlLnVzZXJJbmZvID0gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUudXNlckluZm8sIGRhdGEpOwoKICAgIGlmICghc3RhdGUudXNlckluZm8ucG9ydHJhaXQpIHsKICAgICAgc3RhdGUudXNlckluZm8ucG9ydHJhaXQgPSAnaHR0cHM6Ly9ndy5hbGlwYXlvYmplY3RzLmNvbS96b3MvYW50ZmluY2RuL1hBb3NYdU5aeUYvQmlhemZhbnhtYW1OUm94eFZ4a2EucG5nJzsKICAgIH0KICB9LAogIFNFVF9NRU5VTElTVDogZnVuY3Rpb24gU0VUX01FTlVMSVNUKHN0YXRlLCBsaXN0KSB7CiAgICB2YXIgX3N0YXRlJG1lbnVUcmVlTGlzdDsKCiAgICAoX3N0YXRlJG1lbnVUcmVlTGlzdCA9IHN0YXRlLm1lbnVUcmVlTGlzdCkuc3BsaWNlLmFwcGx5KF9zdGF0ZSRtZW51VHJlZUxpc3QsIFswLCBzdGF0ZS5tZW51VHJlZUxpc3QubGVuZ3RoXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KGxpc3QpKSk7CiAgfSwKICBTRVRGSUxFUFJPR1JFU1M6IGZ1bmN0aW9uIFNFVEZJTEVQUk9HUkVTUyhzdGF0ZSwgZGF0YSkgewogICAgVnVlLnNldChzdGF0ZS5maWxlUHJvZ3Jlc3MsIGRhdGEua2V5LCBkYXRhLnZhbCk7CiAgfSwKICBERUxGSUxFUFJPR1JFU1M6IGZ1bmN0aW9uIERFTEZJTEVQUk9HUkVTUyhzdGF0ZSwgZGF0YSkgewogICAgZGVsZXRlIHN0YXRlLmZpbGVQcm9ncmVzc1tkYXRhXTsKICB9Cn07CnZhciBhY3Rpb25zID0gewogIGFjdGlvbk1lbnVsaXN0OiBmdW5jdGlvbiBhY3Rpb25NZW51bGlzdChfcmVmLCBkYXRhT2JqKSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICBtZW51VHJlZUxpc3RGbih7CiAgICAgICAgaWQ6IGRhdGFPYmogPyBkYXRhT2JqLmlkIDogdW5kZWZpbmVkCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgdmFyIGRhdGEgPSByZXNwb25zZS5kYXRhOwogICAgICAgIGNvbnNvbGUubG9nKGRhdGEpOwogICAgICAgIGNvbW1pdCgnU0VUX01FTlVMSVNUJywgZGF0YSk7CiAgICAgICAgcmVzb2x2ZSgpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICByZWplY3QoZXJyb3IpOwogICAgICB9KTsKICAgIH0pOwogIH0sCiAgLy8gdXNlciBsb2dpbgogIGxvZ2luOiBmdW5jdGlvbiBsb2dpbihfcmVmMiwgdXNlckluZm8pIHsKICAgIHZhciBjb21taXQgPSBfcmVmMi5jb21taXQ7CiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICBfbG9naW4odXNlckluZm8pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgdmFyIGRhdGEgPSByZXNwb25zZS5kYXRhOwogICAgICAgIGNvbnNvbGUuaW5mbyhkYXRhKTsKICAgICAgICBjb21taXQoJ1NFVF9VU0VSSU5GTycsIHsKICAgICAgICAgIHVzZXJBY2NvdW50OiBkYXRhLnJlYWxOYW1lLAogICAgICAgICAgcG9ydHJhaXQ6IGRhdGEucG9ydHJhaXQsCiAgICAgICAgICByb2xlSWQ6IGRhdGEucm9sZUlkCiAgICAgICAgfSk7CiAgICAgICAgbG9jYWxTdG9yYWdlRGF0YSgndXNlckFjY291bnQnLCBkYXRhLnJlYWxOYW1lKTsKICAgICAgICBsb2NhbFN0b3JhZ2VEYXRhKCdyb2xlSWQnLCBkYXRhLnJvbGVJZCk7CiAgICAgICAgbG9jYWxTdG9yYWdlRGF0YSgncG9ydHJhaXQnLCBkYXRhLnBvcnRyYWl0IHx8ICdodHRwczovL2d3LmFsaXBheW9iamVjdHMuY29tL3pvcy9hbnRmaW5jZG4vWEFvc1h1Tlp5Ri9CaWF6ZmFueG1hbU5Sb3h4VnhrYS5wbmcnKTsKICAgICAgICBjb21taXQoJ1NFVF9UT0tFTicsIGRhdGEudG9rZW4pOwogICAgICAgIHNldFRva2VuKGRhdGEudG9rZW4pOwogICAgICAgIHJlc29sdmUoKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgcmVqZWN0KGVycm9yKTsKICAgICAgfSk7CiAgICB9KTsKICB9LAogIGdldEluZm86IGZ1bmN0aW9uIGdldEluZm8oX3JlZjMpIHsKICAgIHZhciBjb21taXQgPSBfcmVmMy5jb21taXQ7CiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgY29tbWl0KCdTRVRfVVNFUklORk8nLCB7CiAgICAgICAgdXNlckFjY291bnQ6IGxvY2FsU3RvcmFnZURhdGEoJ3VzZXJBY2NvdW50JyksCiAgICAgICAgcG9ydHJhaXQ6IGxvY2FsU3RvcmFnZURhdGEoJ3BvcnRyYWl0JyksCiAgICAgICAgcm9sZUlkOiBsb2NhbFN0b3JhZ2VEYXRhKCdyb2xlSWQnKQogICAgICB9KTsKICAgICAgcmVzb2x2ZSgpOwogICAgfSk7CiAgfSwKICAvLyB1c2VyIGxvZ291dAogIGxvZ291dDogZnVuY3Rpb24gbG9nb3V0KF9yZWY0KSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZjQuY29tbWl0LAogICAgICAgIHN0YXRlID0gX3JlZjQuc3RhdGU7CiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICByZW1vdmVUb2tlbigpOyAvLyBtdXN0IHJlbW92ZSAgdG9rZW4gIGZpcnN0CgogICAgICByZXNldFJvdXRlcigpOwogICAgICBjb21taXQoJ1JFU0VUX1NUQVRFJyk7CiAgICAgIHJlc29sdmUoKTsKICAgIH0pOwogIH0sCiAgLy8gcmVtb3ZlIHRva2VuCiAgcmVzZXRUb2tlbjogZnVuY3Rpb24gcmVzZXRUb2tlbihfcmVmNSkgewogICAgdmFyIGNvbW1pdCA9IF9yZWY1LmNvbW1pdDsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICByZW1vdmVUb2tlbigpOyAvLyBtdXN0IHJlbW92ZSAgdG9rZW4gIGZpcnN0CgogICAgICBjb21taXQoJ1JFU0VUX1NUQVRFJyk7CiAgICAgIHJlbW92ZUxvY2FsU3RvcmFnZSgndXNlckFjY291bnQnKTsKICAgICAgcmVtb3ZlTG9jYWxTdG9yYWdlKCdwb3J0cmFpdCcpOwogICAgICByZXNvbHZlKCk7CiAgICB9KTsKICB9Cn07CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lc3BhY2VkOiB0cnVlLAogIHN0YXRlOiBzdGF0ZSwKICBtdXRhdGlvbnM6IG11dGF0aW9ucywKICBhY3Rpb25zOiBhY3Rpb25zCn07"},{"version":3,"sources":["D:/机将公司/机将后台端/background-management-system/src/store/modules/user.js"],"names":["login","menuTreeListFn","getToken","setToken","removeToken","localStorageData","removeLocalStorage","resetRouter","Vue","getDefaultState","token","userInfo","menuTreeList","fileProgress","state","mutations","RESET_STATE","Object","assign","SET_TOKEN","SET_USERINFO","data","portrait","SET_MENULIST","list","splice","length","SETFILEPROGRESS","set","key","val","DELFILEPROGRESS","actions","actionMenulist","dataObj","commit","Promise","resolve","reject","id","undefined","then","response","console","log","catch","error","info","userAccount","realName","roleId","getInfo","logout","resetToken","namespaced"],"mappings":"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","sourcesContent":["import { login } from '@/api/admin.js';\nimport { menuTreeListFn } from '@/api/system.js';\nimport { getToken, setToken, removeToken } from '@/utils/auth';\nimport { localStorageData, removeLocalStorage } from '@/utils';\nimport { resetRouter } from '@/router';\nimport Vue from 'vue';\n\nconst getDefaultState = () => {\n\treturn {\n\t\ttoken: getToken(),\n\t\tuserInfo: {},\n\t\tmenuTreeList: [],\n\t\tfileProgress: {},\n\t};\n};\n\nconst state = getDefaultState();\n\nconst mutations = {\n\tRESET_STATE: state => {\n\t\tObject.assign(state, getDefaultState());\n\t},\n\tSET_TOKEN: (state, token) => {\n\t\tstate.token = token;\n\t},\n\tSET_USERINFO: (state, data) => {\n\t\tstate.userInfo = Object.assign({}, state.userInfo, data);\n\t\tif (!state.userInfo.portrait) {\n\t\t\tstate.userInfo.portrait =\n\t\t\t\t'https://gw.alipayobjects.com/zos/antfincdn/XAosXuNZyF/BiazfanxmamNRoxxVxka.png';\n\t\t}\n\t},\n\tSET_MENULIST: (state, list) => {\n\t\tstate.menuTreeList.splice(0, state.menuTreeList.length, ...list);\n\t},\n\tSETFILEPROGRESS: (state, data) => {\n\t\tVue.set(state.fileProgress, data.key, data.val);\n\t},\n\tDELFILEPROGRESS: (state, data) => {\n\t\tdelete state.fileProgress[data];\n\t},\n};\n\nconst actions = {\n\tactionMenulist({ commit }, dataObj) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tmenuTreeListFn({ id: dataObj ? dataObj.id : undefined })\n\t\t\t\t.then(response => {\n\t\t\t\t\tconst { data } = response;\n\t\t\t\t\tconsole.log(data);\n\t\t\t\t\tcommit('SET_MENULIST', data);\n\t\t\t\t\tresolve();\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\treject(error);\n\t\t\t\t});\n\t\t});\n\t},\n\n\t// user login\n\tlogin({ commit }, userInfo) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tlogin(userInfo)\n\t\t\t\t.then(response => {\n\t\t\t\t\tconst { data } = response;\n\t\t\t\t\tconsole.info(data)\n\t\t\t\t\tcommit('SET_USERINFO', {\n\t\t\t\t\t\tuserAccount: data.realName,\n\t\t\t\t\t\tportrait: data.portrait,\n\t\t\t\t\t\troleId: data.roleId,\n\t\t\t\t\t});\n\t\t\t\t\tlocalStorageData('userAccount', data.realName);\n\t\t\t\t\tlocalStorageData('roleId', data.roleId);\n\t\t\t\t\tlocalStorageData(\n\t\t\t\t\t\t'portrait',\n\t\t\t\t\t\tdata.portrait ||\n\t\t\t\t\t\t\t'https://gw.alipayobjects.com/zos/antfincdn/XAosXuNZyF/BiazfanxmamNRoxxVxka.png'\n\t\t\t\t\t);\n\t\t\t\t\tcommit('SET_TOKEN', data.token);\n\t\t\t\t\tsetToken(data.token);\n\t\t\t\t\tresolve();\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\treject(error);\n\t\t\t\t});\n\t\t});\n\t},\n\tgetInfo({ commit }) {\n\t\treturn new Promise(resolve => {\n\t\t\tcommit('SET_USERINFO', {\n\t\t\t\tuserAccount: localStorageData('userAccount'),\n\t\t\t\tportrait: localStorageData('portrait'),\n\t\t\t\troleId: localStorageData('roleId'),\n\t\t\t});\n\t\t\tresolve();\n\t\t});\n\t},\n\t// user logout\n\tlogout({ commit, state }) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tremoveToken(); // must remove  token  first\n\t\t\tresetRouter();\n\t\t\tcommit('RESET_STATE');\n\t\t\tresolve();\n\t\t});\n\t},\n\n\t// remove token\n\tresetToken({ commit }) {\n\t\treturn new Promise(resolve => {\n\t\t\tremoveToken(); // must remove  token  first\n\t\t\tcommit('RESET_STATE');\n\t\t\tremoveLocalStorage('userAccount');\n\t\t\tremoveLocalStorage('portrait');\n\t\t\tresolve();\n\t\t});\n\t},\n};\n\nexport default {\n\tnamespaced: true,\n\tstate,\n\tmutations,\n\tactions,\n};\n"]}]}