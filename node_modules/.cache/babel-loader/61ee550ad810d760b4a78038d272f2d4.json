{"remainingRequest":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\babel-loader\\lib\\index.js!D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\机将公司\\机将后台端\\background-management-system\\src\\components\\Tinymce\\components\\EditorImage.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\机将公司\\机将后台端\\background-management-system\\src\\components\\Tinymce\\components\\EditorImage.vue","mtime":1670046758181},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovXHU2NzNBXHU1QzA2XHU1MTZDXHU1M0Y4L1x1NjczQVx1NUMwNlx1NTQwRVx1NTNGMFx1N0FFRi9iYWNrZ3JvdW5kLW1hbmFnZW1lbnQtc3lzdGVtL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLWluZGV4LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8gaW1wb3J0IHsgZ2V0VG9rZW4gfSBmcm9tICdhcGkvcWluaXUnCmltcG9ydCB7IHFpbml1SG9zdCB9IGZyb20gIkAvd2ViQ29uZmlnLmpzIjsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOwppbXBvcnQgeyBVcGxvYWRJbWcgfSBmcm9tICJAL2FwaS9zeXN0ZW0uanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkVkaXRvclNsaWRlVXBsb2FkIiwKICBwcm9wczogewogICAgY29sb3I6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAiIzE4OTBmZiIKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBxaW5pdUhvc3Q6IHFpbml1SG9zdCwKICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIGxpc3RPYmo6IHt9LAogICAgICBmaWxlTGlzdDogW10KICAgIH07CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBHZXR0ZXJzKFsidG9rZW4iXSkpLCB7fSwgewogICAgZmlsZVByb2dyZXNzOiBmdW5jdGlvbiBmaWxlUHJvZ3Jlc3MoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLmZpbGVQcm9ncmVzczsKICAgIH0KICB9KSwKICBtZXRob2RzOiB7CiAgICBjaGVja0FsbFN1Y2Nlc3M6IGZ1bmN0aW9uIGNoZWNrQWxsU3VjY2VzcygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLmxpc3RPYmopLmV2ZXJ5KGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIF90aGlzLmxpc3RPYmpbaXRlbV0uaGFzU3VjY2VzczsKICAgICAgfSk7CiAgICB9LAogICAgaHR0cFJlcXVlc3RGbjogZnVuY3Rpb24gaHR0cFJlcXVlc3RGbihkYXRhKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIGxvYWRpbmcgPSB0aGlzLiRsb2FkaW5nKHsKICAgICAgICB0ZXh0OiAi5LiK5Lyg5LitLi4iCiAgICAgIH0pOwogICAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgZm9ybURhdGEuYXBwZW5kKCJmaWxlIiwgZGF0YS5maWxlKTsKICAgICAgVXBsb2FkSW1nKGZvcm1EYXRhKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwoKICAgICAgICBfdGhpczIuJGVtaXQoInVwbG9hZFN1YyIsIHJlcyk7CgogICAgICAgIF90aGlzMi5oYW5kbGVTdWNjZXNzKHJlcy5kYXRhLCBkYXRhLmZpbGUpOwoKICAgICAgICBpZiAoX3RoaXMyLmNoZWNrQWxsU3VjY2VzcygpKSB7CiAgICAgICAgICBsb2FkaW5nLmNsb3NlKCk7CgogICAgICAgICAgX3RoaXMyLiRtZXNzYWdlKHsKICAgICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgICAgICBtZXNzYWdlOiAi5Zu+54mH5LiK5Lyg5oiQ5Yqf77yB54K55Ye756Gu6K6k5o+S5YWl5paH5pys57yW6L6R5ZmoIiwKICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczIuJG1lc3NhZ2UoewogICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuaWh+S7tuS4iuS8oOWksei0pe+8gSIsCiAgICAgICAgICB0eXBlOiAid2FybmluZyIKICAgICAgICB9KTsKCiAgICAgICAgbG9hZGluZy5jbG9zZSgpOwogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVTdWJtaXQ6IGZ1bmN0aW9uIGhhbmRsZVN1Ym1pdCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB2YXIgYXJyID0gT2JqZWN0LmtleXModGhpcy5saXN0T2JqKS5tYXAoZnVuY3Rpb24gKHYpIHsKICAgICAgICByZXR1cm4gX3RoaXMzLmxpc3RPYmpbdl07CiAgICAgIH0pOwoKICAgICAgaWYgKCF0aGlzLmNoZWNrQWxsU3VjY2VzcygpKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZSgi6K+3562J5b6F5Zu+54mH5LiK5Lyg5oiQ5Yqf44CC5aaC5p6c5Ye6546w572R57uc6Zeu6aKY77yM6K+35Yi35paw6aG16Z2i5bm26YeN5paw5LiK5Lyg77yBIik7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBjb25zb2xlLmxvZyhhcnIpOwogICAgICB0aGlzLiRlbWl0KCJzdWNjZXNzQ0JLIiwgYXJyKTsKICAgICAgdGhpcy5saXN0T2JqID0ge307CiAgICAgIHRoaXMuZmlsZUxpc3QgPSBbXTsKICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gZmFsc2U7CiAgICB9LAogICAgaGFuZGxlU3VjY2VzczogZnVuY3Rpb24gaGFuZGxlU3VjY2VzcyhyZXNwb25zZSwgZmlsZSkgewogICAgICB2YXIgdWlkID0gZmlsZS51aWQ7CiAgICAgIHZhciBvYmpLZXlBcnIgPSBPYmplY3Qua2V5cyh0aGlzLmxpc3RPYmopOwoKICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IG9iaktleUFyci5sZW5ndGg7IGkgPCBsZW47IGkrKykgewogICAgICAgIGlmICh0aGlzLmxpc3RPYmpbb2JqS2V5QXJyW2ldXS51aWQgPT09IHVpZCkgewogICAgICAgICAgdGhpcy5saXN0T2JqW29iaktleUFycltpXV0udXJsID0gcmVzcG9uc2U7CiAgICAgICAgICB0aGlzLmxpc3RPYmpbb2JqS2V5QXJyW2ldXS5oYXNTdWNjZXNzID0gdHJ1ZTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBoYW5kbGVSZW1vdmU6IGZ1bmN0aW9uIGhhbmRsZVJlbW92ZShmaWxlKSB7CiAgICAgIHZhciBmaWxlTGlzdCA9IHRoaXMuJHJlZnMudXBsb2FkSW1nLnVwbG9hZEZpbGVzOwogICAgICB2YXIgaW5kZXggPSBmaWxlTGlzdC5maW5kSW5kZXgoZnVuY3Rpb24gKGZpbGVJdGVtKSB7CiAgICAgICAgcmV0dXJuIGZpbGVJdGVtLnVpZCA9PT0gZmlsZS51aWQ7CiAgICAgIH0pOwogICAgICBmaWxlTGlzdC5zcGxpY2UoaW5kZXgsIDEpOwogICAgICB2YXIgdWlkID0gZmlsZS51aWQ7CiAgICAgIGRlbGV0ZSB0aGlzLmxpc3RPYmpbdWlkXTsKICAgIH0sCiAgICBiZWZvcmVVcGxvYWQ6IGZ1bmN0aW9uIGJlZm9yZVVwbG9hZChmaWxlKSB7CiAgICAgIHZhciBfc2VsZiA9IHRoaXM7CgogICAgICB2YXIgX1VSTCA9IHdpbmRvdy5VUkwgfHwgd2luZG93LndlYmtpdFVSTDsKCiAgICAgIHZhciBmaWxlTmFtZSA9IGZpbGUudWlkOwogICAgICB0aGlzLmxpc3RPYmpbZmlsZU5hbWVdID0ge307CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgdmFyIGltZyA9IG5ldyBJbWFnZSgpOwogICAgICAgIGltZy5zcmMgPSBfVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKTsKCiAgICAgICAgaW1nLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF9zZWxmLmxpc3RPYmpbZmlsZU5hbWVdID0gewogICAgICAgICAgICBoYXNTdWNjZXNzOiBmYWxzZSwKICAgICAgICAgICAgdWlkOiBmaWxlLnVpZCwKICAgICAgICAgICAgd2lkdGg6IHRoaXMud2lkdGgsCiAgICAgICAgICAgIGhlaWdodDogdGhpcy5oZWlnaHQKICAgICAgICAgIH07CiAgICAgICAgfTsKCiAgICAgICAgcmVzb2x2ZSh0cnVlKTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["EditorImage.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"upload-container\">\n    <el-button\n      :style=\"{ background: color, borderColor: color }\"\n      icon=\"el-icon-upload\"\n      size=\"mini\"\n      type=\"primary\"\n      @click=\"dialogVisible = true\"\n    >\n      上传图片\n    </el-button>\n    <el-dialog :visible.sync=\"dialogVisible\" :append-to-body=\"true\">\n      <el-upload\n        ref=\"uploadImg\"\n        :multiple=\"true\"\n        :file-list=\"fileList\"\n        :show-file-list=\"true\"\n        :before-upload=\"beforeUpload\"\n        class=\"editor-slide-upload\"\n        :action=\"qiniuHost\"\n        list-type=\"picture-card\"\n        :http-request=\"httpRequestFn\"\n      >\n        <div slot=\"file\" slot-scope=\"{ file }\" class=\"show_img_box\">\n          <img class=\"el-upload-list__item-thumbnail\" :src=\"file.url\" alt=\"\" />\n          <div class=\"progress\">\n            <span\n              v-if=\"parseInt(fileProgress[file.uid]) >= 100\"\n              class=\"delete_icon\"\n              @click=\"handleRemove(file)\"\n            >\n              <i class=\"el-icon-delete\" />\n            </span>\n            <el-progress\n              v-if=\"parseInt(fileProgress[file.uid]) < 100\"\n              style=\"color: #FFFFFF;\"\n              type=\"circle\"\n              :percentage=\"parseInt(fileProgress[file.uid])\"\n            />\n          </div>\n        </div>\n        <i slot=\"default\" class=\"el-icon-plus\" />\n      </el-upload>\n      <el-button @click=\"dialogVisible = false\">\n        取消\n      </el-button>\n      <el-button type=\"primary\" @click=\"handleSubmit\">\n        确认\n      </el-button>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\n// import { getToken } from 'api/qiniu'\nimport { qiniuHost } from \"@/webConfig.js\";\nimport { mapGetters } from \"vuex\";\nimport { UploadImg } from \"@/api/system.js\";\nexport default {\n  name: \"EditorSlideUpload\",\n  props: {\n    color: {\n      type: String,\n      default: \"#1890ff\",\n    },\n  },\n  data() {\n    return {\n      qiniuHost: qiniuHost,\n      dialogVisible: false,\n      listObj: {},\n      fileList: [],\n    };\n  },\n  computed: {\n    ...mapGetters([\"token\"]),\n    fileProgress() {\n      return this.$store.state.user.fileProgress;\n    },\n  },\n  methods: {\n    checkAllSuccess() {\n      return Object.keys(this.listObj).every(\n        (item) => this.listObj[item].hasSuccess\n      );\n    },\n    httpRequestFn(data) {\n      const loading = this.$loading({ text: \"上传中..\" });\n      const formData = new FormData();\n      formData.append(\"file\", data.file);\n      UploadImg(formData)\n        .then((res) => {\n          console.log(res);\n          this.$emit(\"uploadSuc\", res);\n          this.handleSuccess(res.data, data.file);\n          if (this.checkAllSuccess()) {\n            loading.close();\n            this.$message({\n              showClose: true,\n              message: \"图片上传成功！点击确认插入文本编辑器\",\n              type: \"success\",\n            });\n          }\n        })\n        .catch(() => {\n          this.$message({\n            showClose: true,\n            message: \"文件上传失败！\",\n            type: \"warning\",\n          });\n          loading.close();\n        });\n    },\n    handleSubmit() {\n      const arr = Object.keys(this.listObj).map((v) => this.listObj[v]);\n      if (!this.checkAllSuccess()) {\n        this.$message(\n          \"请等待图片上传成功。如果出现网络问题，请刷新页面并重新上传！\"\n        );\n        return;\n      }\n      console.log(arr);\n      this.$emit(\"successCBK\", arr);\n      this.listObj = {};\n      this.fileList = [];\n      this.dialogVisible = false;\n    },\n    handleSuccess(response, file) {\n      const uid = file.uid;\n      const objKeyArr = Object.keys(this.listObj);\n      for (let i = 0, len = objKeyArr.length; i < len; i++) {\n        if (this.listObj[objKeyArr[i]].uid === uid) {\n          this.listObj[objKeyArr[i]].url = response;\n          this.listObj[objKeyArr[i]].hasSuccess = true;\n          return;\n        }\n      }\n    },\n    handleRemove(file) {\n      const fileList = this.$refs.uploadImg.uploadFiles;\n      const index = fileList.findIndex((fileItem) => {\n        return fileItem.uid === file.uid;\n      });\n      fileList.splice(index, 1);\n      const uid = file.uid;\n      delete this.listObj[uid];\n    },\n    beforeUpload(file) {\n      const _self = this;\n      const _URL = window.URL || window.webkitURL;\n      const fileName = file.uid;\n      this.listObj[fileName] = {};\n      return new Promise((resolve, reject) => {\n        const img = new Image();\n        img.src = _URL.createObjectURL(file);\n        img.onload = function() {\n          _self.listObj[fileName] = {\n            hasSuccess: false,\n            uid: file.uid,\n            width: this.width,\n            height: this.height,\n          };\n        };\n        resolve(true);\n      });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.editor-slide-upload {\n  margin-bottom: 20px;\n  ::v-deep .el-upload--picture-card {\n    width: 100%;\n  }\n}\n.show_img_box {\n  width: 148px;\n  height: 148px;\n  position: relative;\n  .progress {\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    top: 0;\n    left: 0;\n    z-index: 1;\n    background: rgba(0, 0, 0, 0.7);\n    .el-progress__text {\n      color: #ffffff;\n    }\n  }\n  .delete_icon {\n    .el-icon-delete {\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      margin-top: -10px;\n      margin-left: -10px;\n      color: #ffffff;\n      font-size: 20px;\n      z-index: 2;\n      cursor: pointer;\n    }\n  }\n}\n</style>\n"],"sourceRoot":"src/components/Tinymce/components"}]}