{"remainingRequest":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\babel-loader\\lib\\index.js!D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\机将公司\\机将后台端\\background-management-system\\src\\views\\product\\data-collect\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\机将公司\\机将后台端\\background-management-system\\src\\views\\product\\data-collect\\index.vue","mtime":1669258939321},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovXHU2NzNBXHU1QzA2XHU1MTZDXHU1M0Y4L1x1NjczQVx1NUMwNlx1NTQwRVx1NTNGMFx1N0FFRi9iYWNrZ3JvdW5kLW1hbmFnZW1lbnQtc3lzdGVtL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L1x1NjczQVx1NUMwNlx1NTE2Q1x1NTNGOC9cdTY3M0FcdTVDMDZcdTU0MEVcdTUzRjBcdTdBRUYvYmFja2dyb3VuZC1tYW5hZ2VtZW50LXN5c3RlbS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgcXVlcnlQcm9kdWN0Q2F0ZWdvcnlGbiwgcXVlcnlTdXBwbGllckxpc3QsIGRhdGFBY3F1aXNpdGlvbiB9IGZyb20gIkAvYXBpL3Byb2R1Y3QiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIiIsCiAgY29tcG9uZW50czoge30sCiAgcHJvcHM6IHt9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmb3JtZGF0YTogewogICAgICAgIHVybExpc3Q6ICIiLAogICAgICAgIGNhdGVnb3J5SWQ6ICIiLAogICAgICAgIHN1cHBsaWVySWQ6ICIiLAogICAgICAgIGZyZWlnaHRNb25leTogIiIKICAgICAgfSwKICAgICAgcnVsZXM6IHt9LAogICAgICBzdWJtaXRJbmc6IGZhbHNlLAogICAgICBzdXBwbGllckxpc3Q6IFtdLAogICAgICAvLyDkvpvlupTllYbliJfooagKICAgICAgY2F0ZWdvcnlMaXN0OiB7CiAgICAgICAgbGF6eTogdHJ1ZSwKICAgICAgICBjaGVja1N0cmljdGx5OiB0cnVlLAogICAgICAgIGxhenlMb2FkOiBmdW5jdGlvbiBsYXp5TG9hZChub2RlLCByZXNvbHZlKSB7CiAgICAgICAgICBxdWVyeVByb2R1Y3RDYXRlZ29yeUZuKHsKICAgICAgICAgICAgcGlkOiBub2RlLnZhbHVlIHx8IDAKICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICB2YXIgcmVzRGF0YSA9IHJlcy5kYXRhOwogICAgICAgICAgICB2YXIgbm9kZXMgPSByZXNEYXRhLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICB2YWx1ZTogaXRlbS5pZCwKICAgICAgICAgICAgICAgIGxhYmVsOiBpdGVtLm5hbWUKICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9KTsgLy8g6YCa6L+H6LCD55SocmVzb2x2ZeWwhuWtkOiKgueCueaVsOaNrui/lOWbnu+8jOmAmuefpee7hOS7tuaVsOaNruWKoOi9veWujOaIkAoKICAgICAgICAgICAgcmVzb2x2ZShub2Rlcyk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0KICAgIH07CiAgfSwKICBiZWZvcmVNb3VudDogZnVuY3Rpb24gYmVmb3JlTW91bnQoKSB7CiAgICB0aGlzLmluaXQoKTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7fSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkge30sCiAgYWN0aXZhdGVkOiBmdW5jdGlvbiBhY3RpdmF0ZWQoKSB7fSwKICB3YXRjaDoge30sCiAgY29tcHV0ZWQ6IHsKICAgIHJlYWxjYXRlZ29yeUlkOiBmdW5jdGlvbiByZWFsY2F0ZWdvcnlJZCgpIHsKICAgICAgaWYgKCF0aGlzLmZvcm1kYXRhLmNhdGVnb3J5SWQpIHJldHVybiAwOwogICAgICByZXR1cm4gdGhpcy5mb3JtZGF0YS5jYXRlZ29yeUlkLnBvcCgpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgLy/liJ3lp4vljJYKICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICAgIHRoaXMuZ2V0UXVlcnlTdXBwbGllckxpc3QoKTsKICAgIH0sCiAgICAvLyDojrflj5bkvpvlupTllYbliJfooagKICAgIGdldFF1ZXJ5U3VwcGxpZXJMaXN0OiBmdW5jdGlvbiBnZXRRdWVyeVN1cHBsaWVyTGlzdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBxdWVyeVN1cHBsaWVyTGlzdCh7CiAgICAgICAgICAgICAgICAgIHBhZ2VObzogMSwKICAgICAgICAgICAgICAgICAgcGFnZVNpemU6IDEwMDAKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXMuY29kZSA9PT0gIjAwMCIpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuc3VwcGxpZXJMaXN0ID0gcmVzLmRhdGEucmVjb3JkczsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8v5o+Q5LqkCiAgICBzdWJtaXQ6IGZ1bmN0aW9uIHN1Ym1pdCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgb2JqID0ge307CgogICAgICB2YXIgcG9zdERhdGEgPSBfb2JqZWN0U3ByZWFkKHt9LCB0aGlzLmZvcm1kYXRhKTsKCiAgICAgIG9iai5jYXRlZ29yeUlkID0gdGhpcy5yZWFsY2F0ZWdvcnlJZDsKICAgICAgb2JqLnN1cHBsaWVySWQgPSBwb3N0RGF0YS5zdXBwbGllcklkOwogICAgICBvYmouZnJlaWdodE1vbmV5ID0gTnVtYmVyKHBvc3REYXRhLmZyZWlnaHRNb25leSk7CiAgICAgIG9iai5saXN0ID0gcG9zdERhdGEudXJsTGlzdC5zcGxpdCgvWyhcclxuKVxyXG5dKy8pOwogICAgICB0aGlzLnN1Ym1pdEluZyA9IHRydWU7CiAgICAgIGRhdGFBY3F1aXNpdGlvbihvYmopLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMyLnN1Ym1pdEluZyA9IGZhbHNlOwogICAgICAgIH0sIDEwMDApOwoKICAgICAgICBpZiAocmVzLmNvZGUgPT0gIjAwMCIpIHsKICAgICAgICAgIF90aGlzMi4kbWVzc2FnZSh7CiAgICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgICAgICAgICAgbWVzc2FnZTogIuaPkOS6pOaIkOWKnyIsCiAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIgogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczIuc3VibWl0SW5nID0gZmFsc2U7CiAgICAgICAgfSwgMTAwMCk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"content_box\">\n    <first-title :title=\"'数据采集'\" />\n    <div class=\"bg-white\" style=\"padding: 50px 20px; min-height: 800px\">\n      <el-form ref=\"form\" :rules=\"rules\" label-width=\"130px\" :model=\"formdata\">\n        <el-form-item label=\"商品分类：\" prop=\"title\">\n          <el-cascader\n            style=\"width: 300px\"\n            v-model=\"formdata.categoryId\"\n            class=\"\"\n            placeholder=\"请选择商品分类\"\n            expand-trigger=\"hover\"\n            :props=\"categoryList\"\n            :show-all-levels=\"false\"\n          />\n        </el-form-item>\n        <el-form-item label=\"供应商：\">\n          <el-select\n            v-model=\"formdata.supplierId\"\n            style=\"width: 300px\"\n            filterable\n            clearable\n            placeholder=\"请选择供应商\"\n          >\n            <el-option\n              v-for=\"item in supplierList\"\n              :key=\"item.id\"\n              :label=\"item.name\"\n              :value=\"item.id\"\n            />\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"运费：\">\n          <el-input\n            placeholder=\"请输入运费\"\n            style=\"width: 300px\"\n            v-model=\"formdata.freightMoney\"\n            type=\"number\"\n          />\n        </el-form-item>\n        <el-form-item label=\"网址：\">\n          <el-input\n            style=\"width: 600px\"\n            type=\"textarea\"\n            :rows=\"8\"\n            placeholder=\"请输入网址（多个按回车隔开）\"\n            v-model=\"formdata.urlList\"\n          >\n          </el-input>\n        </el-form-item>\n        <el-form-item label=\"\">\n          <el-button type=\"primary\" :disabled=\"submitIng\" @click=\"submit\">{{\n            submitIng ? \"提交中...\" : \"确认提交\"\n          }}</el-button>\n          <span v-show=\"submitIng\" style=\"margin-left: 15px; color: #f56c6c\"\n            >提交中,请勿重复点击!</span\n          >\n        </el-form-item>\n      </el-form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {\n  queryProductCategoryFn,\n  querySupplierList,\n  dataAcquisition,\n} from \"@/api/product\";\nexport default {\n  name: \"\",\n  components: {},\n  props: {},\n  data() {\n    return {\n      formdata: {\n        urlList: \"\",\n        categoryId: \"\",\n        supplierId: \"\",\n        freightMoney: \"\",\n      },\n      rules: {},\n      submitIng: false,\n      supplierList: [], // 供应商列表\n      categoryList: {\n        lazy: true,\n        checkStrictly: true,\n        lazyLoad(node, resolve) {\n          queryProductCategoryFn({\n            pid: node.value || 0,\n          }).then((res) => {\n            const resData = res.data;\n            const nodes = resData.map((item) => ({\n              value: item.id,\n              label: item.name,\n            }));\n            // 通过调用resolve将子节点数据返回，通知组件数据加载完成\n            resolve(nodes);\n          });\n        },\n      },\n    };\n  },\n  beforeMount() {\n    this.init();\n  },\n  mounted() {},\n  created() {},\n  activated() {},\n  watch: {},\n  computed: {\n    realcategoryId() {\n      if (!this.formdata.categoryId) return 0;\n      return this.formdata.categoryId.pop();\n    },\n  },\n  methods: {\n    //初始化\n    init() {\n      this.getQuerySupplierList();\n    },\n    // 获取供应商列表\n    async getQuerySupplierList() {\n      const res = await querySupplierList({\n        pageNo: 1,\n        pageSize: 1000,\n      });\n      if (res.code === \"000\") {\n        this.supplierList = res.data.records;\n      }\n    },\n    //提交\n    submit() {\n      let obj = {};\n      const postData = { ...this.formdata };\n      obj.categoryId = this.realcategoryId;\n      obj.supplierId = postData.supplierId;\n      obj.freightMoney = Number(postData.freightMoney);\n      obj.list = postData.urlList.split(/[(\\r\\n)\\r\\n]+/);\n      this.submitIng = true;\n      dataAcquisition(obj)\n        .then((res) => {\n          setTimeout(() => {\n            this.submitIng = false;\n          }, 1000);\n          if (res.code == \"000\") {\n            this.$message({\n              showClose: true,\n              message: \"提交成功\",\n              type: \"success\",\n            });\n          }\n        })\n        .catch(() => {\n          setTimeout(() => {\n            this.submitIng = false;\n          }, 1000);\n        });\n    },\n  },\n};\n</script>\n\n<style>\n</style>\n"],"sourceRoot":"src/views/product/data-collect"}]}