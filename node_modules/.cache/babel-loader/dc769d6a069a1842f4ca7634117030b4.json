{"remainingRequest":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\babel-loader\\lib\\index.js!D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\机将公司\\机将后台端\\background-management-system\\src\\views\\maintenance\\equipmentManagement\\addEquipment.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\机将公司\\机将后台端\\background-management-system\\src\\views\\maintenance\\equipmentManagement\\addEquipment.vue","mtime":1682134569065},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L1x1NjczQVx1NUMwNlx1NTE2Q1x1NTNGOC9cdTY3M0FcdTVDMDZcdTU0MEVcdTUzRjBcdTdBRUYvYmFja2dyb3VuZC1tYW5hZ2VtZW50LXN5c3RlbS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkQ6L1x1NjczQVx1NUMwNlx1NTE2Q1x1NTNGOC9cdTY3M0FcdTVDMDZcdTU0MEVcdTUzRjBcdTdBRUYvYmFja2dyb3VuZC1tYW5hZ2VtZW50LXN5c3RlbS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IGVkaXREZXZpY2VJbmZvLCBnZXRFcXVpcG1lbnREZXRhaWxzIH0gZnJvbSAiQC9hcGkvZXF1aXBtZW50TWFuYWdlbWVudCI7CmltcG9ydCB7IHF1ZXJ5RGV2aWNlU3lzdGVtTGlzdCwgcXVlcnlEZXZpY2VUeXBlTGlzdCB9IGZyb20gIkAvYXBpL29yZGVyIjsKaW1wb3J0IHsgVXBsb2FkSW1nIH0gZnJvbSAiQC9hcGkvc3lzdGVtIjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBlcXVpcG1lbnRBZGRGb3JtOiB7CiAgICAgICAgbm86ICIiLAogICAgICAgIGN5Y2xlOiBudWxsLAogICAgICAgIGZhY3RvcnlUaW1lOiAiIiwKICAgICAgICBkZXZpY2VUeXBlSWQ6ICIiLAogICAgICAgIGRldmljZUJyYW5kOiAiIiwKICAgICAgICBkZXZpY2VNb2RlbDogIiIsCiAgICAgICAgYXhlc051bWJlcjogIiIsCiAgICAgICAgZGV2aWNlU3lzdGVtSWQ6ICIiLAogICAgICAgIGRldmljZVBsYWNlOiAiIiwKICAgICAgICBzdGFydFRpbWU6ICIiLAogICAgICAgIGVuZFRpbWU6ICIiLAogICAgICAgIHByaWNlOiBudWxsLAogICAgICAgIGVudGVycHJpc2VEZXZpY2VObzogIiIsCiAgICAgICAgZW50ZXJwcmlzZURldmljZVBvc2l0aW9uOiAiIiwKICAgICAgICBuYW1lcGxhdGVJbWc6ICIiLAogICAgICAgIHR5cGU6IDAsCiAgICAgICAgb3JkZXJTbjogIlNFNDQ3NDQzIgogICAgICB9LAogICAgICB0aW1lOiAiIiwKICAgICAgZGV2aWNlVHlwZUxpc3Q6IG51bGwsCiAgICAgIC8vIOaJgOacieiuvuWkh+exu+WeiwogICAgICBkZXZpY2VTeXN0ZW1MaXN0OiBudWxsLAogICAgICAvLyDmiYDmnInorr7lpIfns7vnu58KICAgICAgdXBsb2FkX2J0bjogZmFsc2UsCiAgICAgIC8vIOaYr+WQpumakOiXj+S4iuS8oOWbvueJh+aMiemSrgogICAgICBwYXJ0c0xpc3Q6IG51bGwsCiAgICAgIC8v6YWN5Lu25YiX6KGoCiAgICAgIHRpdGxlTmFtZTogIuaWsOWinuiuvuWkh+S/oeaBryIsCiAgICAgIGFkZFBhcnRzTGlzdE5hbWU6ICLmlrDlop7orr7lpIfphY3ku7YiLAogICAgICBpZDogIiIsCiAgICAgIC8v57yW6L6R6ZyA6KaB55qEaWQKICAgICAgYWRkUGFydHNMaXN0RGlhbG9nU2hvdzogZmFsc2UsCiAgICAgIHBhcnRzTGlzdEZvcm06IHsKICAgICAgICBuYW1lOiAiIiwKICAgICAgICBjYXRlZ29yeTogIiIsCiAgICAgICAgZGV2aWNlQnJhbmQ6ICIiLAogICAgICAgIGRldml2ZU1vZGVsOiAiIiwKICAgICAgICBzcGVjaWZpY2F0aW9uOiAiIgogICAgICB9LAogICAgICBjZXJ0aW5mb0tleTogdHJ1ZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOWIpOaWreWRqOacn+WSjOS7t+agvAogICAganVkZ21lbnRJbnB1dFZhbHVlOiBmdW5jdGlvbiBqdWRnbWVudElucHV0VmFsdWUoc3RyKSB7CiAgICAgIHZhciByZSA9IC9eWzAtOV0rLj9bMC05XSovOwoKICAgICAgaWYgKHRoaXMuZXF1aXBtZW50QWRkRm9ybVtzdHJdID09PSAiIikgewogICAgICAgIHRoaXMuZXF1aXBtZW50QWRkRm9ybVtzdHJdID0gMDsKICAgICAgfSBlbHNlIGlmICghcmUudGVzdCh0aGlzLmVxdWlwbWVudEFkZEZvcm1bc3RyXSkpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIG1lc3NhZ2U6ICLlj6rog73ovpPmlbDlrZflk6YiLAogICAgICAgICAgdHlwZTogIndhcm5pbmciCiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5lcXVpcG1lbnRBZGRGb3JtW3N0cl0gPSAwOwogICAgICB9CiAgICB9LAogICAgLy8g54K55Ye757yW6L6R6K6+5aSH6YWN5Lu25by556qXCiAgICBlZGl0cGFydHNMaXN0OiBmdW5jdGlvbiBlZGl0cGFydHNMaXN0KHJvdywgaW5kZXgpIHsKICAgICAgdGhpcy5hZGRQYXJ0c0xpc3ROYW1lID0gIue8lui+keiuvuWkh+mFjeS7tiI7CiAgICAgIHRoaXMuYWRkUGFydHNMaXN0RGlhbG9nU2hvdyA9IHRydWU7CiAgICAgIHRoaXMucGFydHNMaXN0Rm9ybSA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcm93KSwge30sIHsKICAgICAgICBpbmRleDogaW5kZXgKICAgICAgfSk7CiAgICB9LAogICAgLy8g56Gu5a6a5re75Yqg6K6+5aSH6YWN5Lu2CiAgICBhZGRQYXJ0c0xpc3RDb21maXJtOiBmdW5jdGlvbiBhZGRQYXJ0c0xpc3RDb21maXJtKGluZGV4KSB7CiAgICAgIGlmICh0aGlzLmFkZFBhcnRzTGlzdE5hbWUgPT09ICLnvJbovpHorr7lpIfphY3ku7YiKSB7CiAgICAgICAgdGhpcy5wYXJ0c0xpc3RbaW5kZXhdID0gdGhpcy5wYXJ0c0xpc3RGb3JtOwogICAgICAgIHRoaXMuY2VydGluZm9LZXkgPSAhdGhpcy5jZXJ0aW5mb0tleTsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAoIXRoaXMucGFydHNMaXN0KSB7CiAgICAgICAgICB0aGlzLnBhcnRzTGlzdCA9IFtdOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5wYXJ0c0xpc3QucHVzaCh0aGlzLnBhcnRzTGlzdEZvcm0pOwogICAgICB9CgogICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgbWVzc2FnZTogdGhpcy5hZGRQYXJ0c0xpc3ROYW1lID09PSAi57yW6L6R6K6+5aSH6YWN5Lu2IiA/ICLnvJbovpHmiJDlip8iIDogIua3u+WKoOaIkOWKnyIKICAgICAgfSk7CiAgICAgIHRoaXMuY2xvc2VBZGRQYXJ0c0xpc3REaWFsb2coKTsKICAgIH0sCiAgICAvLyDlhbPpl63mlrDlop7orr7lpIfphY3ku7blvLnnqpcKICAgIGNsb3NlQWRkUGFydHNMaXN0RGlhbG9nOiBmdW5jdGlvbiBjbG9zZUFkZFBhcnRzTGlzdERpYWxvZygpIHsKICAgICAgdGhpcy5hZGRQYXJ0c0xpc3REaWFsb2dTaG93ID0gZmFsc2U7CiAgICAgIHRoaXMucGFydHNMaXN0Rm9ybSA9IHsKICAgICAgICBuYW1lOiAiIiwKICAgICAgICBjYXRlZ29yeTogIiIsCiAgICAgICAgZGV2aWNlQnJhbmQ6ICIiLAogICAgICAgIGRldml2ZU1vREVMOiAiIiwKICAgICAgICBzcGVjaWZpY2F0aW9uOiAiIgogICAgICB9OwogICAgfSwKICAgIC8v5paw5aKe6K6+5aSH6YWN5Lu2CiAgICBhZGRQYXJ0c0xpc3Q6IGZ1bmN0aW9uIGFkZFBhcnRzTGlzdCgpIHsKICAgICAgdGhpcy5hZGRQYXJ0c0xpc3ROYW1lID0gIuaWsOWinuiuvuWkh+mFjeS7tiI7CiAgICAgIHRoaXMuYWRkUGFydHNMaXN0RGlhbG9nU2hvdyA9IHRydWU7CiAgICB9LAogICAgLy8g5Yig6Zmk6K6+5aSH6YWN5Lu2CiAgICBkZWxwYXJ0c0xpc3Q6IGZ1bmN0aW9uIGRlbHBhcnRzTGlzdChpbmRleCwgcm93KSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLiRjb25maXJtKCLmgqjnoa7lrprliKDpmaQiICsgcm93Lm5hbWUgKyAiPyIsICLliKDpmaQiLCB7CiAgICAgICAgdHlwZTogIndhcm5pbmciCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLnBhcnRzTGlzdC5zcGxpY2UoaW5kZXgsIDEpOwoKICAgICAgICBfdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICBtZXNzYWdlOiAi5Yig6Zmk5oiQ5YqfIgogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDmlrDlop7nvJbovpHorr7lpIcKICAgIGFkZEVkaXRFcXVpcG1lbnQ6IGZ1bmN0aW9uIGFkZEVkaXRFcXVpcG1lbnQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzMi5lcXVpcG1lbnRBZGRGb3JtLmVuZFRpbWUgPSBfdGhpczIudGltZVsxXSArICIgMDA6MDA6MDAiOwogICAgICAgICAgICAgICAgX3RoaXMyLmVxdWlwbWVudEFkZEZvcm0uc3RhcnRUaW1lID0gX3RoaXMyLnRpbWVbMF0gKyAiIDAwOjAwOjAwIjsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF90aGlzMi5lcXVpcG1lbnRBZGRGb3JtKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIGVkaXREZXZpY2VJbmZvKF90aGlzMi5lcXVpcG1lbnRBZGRGb3JtKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzLm1lc3NhZ2UgPT09ICLmk43kvZzmiJDlip8iKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICJlcXVpcG1lbnREZXRhaWxzIiwKICAgICAgICAgICAgICAgICAgICBxdWVyeTogewogICAgICAgICAgICAgICAgICAgICAgaWQ6IF90aGlzMi5lcXVpcG1lbnRBZGRGb3JtLmlkCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOenu+mZpOmTreeJjOWbvueJhwogICAgcmVtb3ZlTmFtZXBsYXRlUGljOiBmdW5jdGlvbiByZW1vdmVOYW1lcGxhdGVQaWMoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdGhpcy5lcXVpcG1lbnRBZGRGb3JtLm5hbWVwbGF0ZUltZyA9ICIiOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczMudXBsb2FkX2J0biA9IGZhbHNlOwogICAgICB9LCAxMDUwKTsKICAgIH0sCiAgICAvLyDkuIrkvKDpk63niYzlm77niYcKICAgIHVwbG9hZE5hbWVwbGF0ZVBpYzogZnVuY3Rpb24gdXBsb2FkTmFtZXBsYXRlUGljKGZpbGVEYXRhKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIGxvYWRpbmcsIGZvcm1EYXRhLCByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGxvYWRpbmcgPSBfdGhpczQuJGxvYWRpbmcoewogICAgICAgICAgICAgICAgICBsb2NrOiB0cnVlLAogICAgICAgICAgICAgICAgICB0ZXh0OiAi5LiK5Lyg6ZOt54mM5LitLi4uIiwKICAgICAgICAgICAgICAgICAgc3Bpbm5lcjogImVsLWljb24tbG9hZGluZyIKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgICAgICAgICAgIF90aGlzNC51cGxvYWRfYnRuID0gdHJ1ZTsKICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgiZmlsZSIsIGZpbGVEYXRhLmZpbGUpOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIFVwbG9hZEltZyhmb3JtRGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgX3RoaXM0LmVxdWlwbWVudEFkZEZvcm0ubmFtZXBsYXRlSW1nID0gcmVzLmRhdGE7CiAgICAgICAgICAgICAgICBsb2FkaW5nLmNsb3NlKCk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICB2YXIgcmVzLCBkZXZpY2VUeXBlTGlzdCwgZGV2aWNlU3lzdGVtTGlzdDsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfdGhpczUudGl0bGVOYW1lID0gX3RoaXM1LiRyb3V0ZS5xdWVyeS50aXRsZU5hbWU7CgogICAgICAgICAgICAgIGlmICghKF90aGlzNS50aXRsZU5hbWUgIT09ICLmlrDlop7orr7lpIfkv6Hmga8iKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA5OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfdGhpczUuaWQgPSBfdGhpczUuJHJvdXRlLnF1ZXJ5LmlkOyAvLyDor6bmg4XmlbDmja7lm57mmL4KCiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA1OwogICAgICAgICAgICAgIHJldHVybiBnZXRFcXVpcG1lbnREZXRhaWxzKHsKICAgICAgICAgICAgICAgIGlkOiBfdGhpczUuaWQKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICBfdGhpczUuZXF1aXBtZW50QWRkRm9ybSA9IF9vYmplY3RTcHJlYWQoe30sIHJlcy5kYXRhKTsKCiAgICAgICAgICAgICAgaWYgKF90aGlzNS5lcXVpcG1lbnRBZGRGb3JtLnN0YXJ0VGltZSkgewogICAgICAgICAgICAgICAgX3RoaXM1LnRpbWUgPSBbcmVzLmRhdGEuc3RhcnRUaW1lLnN1YnN0cmluZygwLCAxMCksIHJlcy5kYXRhLmVuZFRpbWUuc3Vic3RyaW5nKDAsIDEwKV07CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfdGhpczUucGFydHNMaXN0ID0gcmVzLmRhdGEucGFydHNMaXN0OwoKICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgcmV0dXJuIHF1ZXJ5RGV2aWNlVHlwZUxpc3QoKTsKCiAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgZGV2aWNlVHlwZUxpc3QgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICBfdGhpczUuZGV2aWNlVHlwZUxpc3QgPSBkZXZpY2VUeXBlTGlzdC5kYXRhOyAvLyDmiYDmnInnmoTorr7lpIfns7vnu58KCiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxNTsKICAgICAgICAgICAgICByZXR1cm4gcXVlcnlEZXZpY2VTeXN0ZW1MaXN0KCk7CgogICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgIGRldmljZVN5c3RlbUxpc3QgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICBfdGhpczUuZGV2aWNlU3lzdGVtTGlzdCA9IGRldmljZVN5c3RlbUxpc3QuZGF0YTsKCiAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMyk7CiAgICB9KSkoKTsKICB9Cn07"},{"version":3,"sources":["addEquipment.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"equipmentDetails\">\r\n    <!-- 设备基本信息内容 -->\r\n    <div class=\"equipmentDetails_basicInfo\">\r\n      <h2 class=\"basicInfo_title\">{{ titleName }}</h2>\r\n      <el-card>\r\n        <div class=\"basicInfo_content\">\r\n          <div class=\"itemLine\">\r\n            <div class=\"item\">\r\n              <span class=\"item_title\">贴片编码</span>\r\n              <el-input\r\n                v-model=\"equipmentAddForm.no\"\r\n                placeholder=\"请输入贴片编码\"\r\n              ></el-input>\r\n            </div>\r\n            <div class=\"item\">\r\n              <span class=\"item_title\">保养周期</span>\r\n              <el-input\r\n                @input=\"judgmentInputValue('cycle')\"\r\n                v-model.number=\"equipmentAddForm.cycle\"\r\n                placeholder=\"请输入保养周期\"\r\n              ></el-input>\r\n            </div>\r\n            <div class=\"item\">\r\n              <span class=\"item_title\">出厂时间</span>\r\n              <el-date-picker\r\n                style=\"width: 100%;\"\r\n                v-model=\"equipmentAddForm.factoryTime\"\r\n                type=\"datetime\"\r\n                value-format=\"yyyy-MM-dd\"\r\n                placeholder=\"请输入出厂时间\"\r\n              >\r\n              </el-date-picker>\r\n            </div>\r\n          </div>\r\n          <div class=\"itemLine\">\r\n            <div class=\"item\">\r\n              <span class=\"item_title\">设备类型</span>\r\n              <el-cascader\r\n                style=\"width: 100%;\"\r\n                :props=\"{\r\n                  label: 'name',\r\n                  children: 'list',\r\n                  checkStrictly: true,\r\n                  emitPath: false,\r\n                  value: 'id',\r\n                }\"\r\n                clearable\r\n                :show-all-levels=\"false\"\r\n                :collapse-tags=\"true\"\r\n                v-model=\"equipmentAddForm.deviceTypeId\"\r\n                :options=\"deviceTypeList\"\r\n                placeholder=\"请输入设备类型\"\r\n              ></el-cascader>\r\n            </div>\r\n            <div class=\"item\">\r\n              <span class=\"item_title\">设备品牌</span>\r\n              <el-input\r\n                v-model=\"equipmentAddForm.deviceBrand\"\r\n                placeholder=\"请输入设备品牌\"\r\n              ></el-input>\r\n            </div>\r\n            <div class=\"item\">\r\n              <span class=\"item_title\">设备型号</span>\r\n              <el-input\r\n                v-model=\"equipmentAddForm.deviceModel\"\r\n                placeholder=\"请输入设备型号\"\r\n              ></el-input>\r\n            </div>\r\n          </div>\r\n          <div class=\"itemLine\">\r\n            <div class=\"item\">\r\n              <span class=\"item_title\">设备轴数</span>\r\n              <el-input\r\n                v-model=\"equipmentAddForm.axesNumber\"\r\n                placeholder=\"请输入设备轴数\"\r\n              ></el-input>\r\n            </div>\r\n            <div class=\"item\">\r\n              <span class=\"item_title\">设备系统</span>\r\n              <el-cascader\r\n                style=\"width: 100%;\"\r\n                :props=\"{\r\n                  label: 'name',\r\n                  children: 'list',\r\n                  checkStrictly: true,\r\n                  emitPath: false,\r\n                  value: 'id',\r\n                }\"\r\n                clearable\r\n                :show-all-levels=\"false\"\r\n                :collapse-tags=\"true\"\r\n                v-model=\"equipmentAddForm.deviceSystemId\"\r\n                :options=\"deviceSystemList\"\r\n                placeholder=\"请输入设备系统\"\r\n              ></el-cascader>\r\n            </div>\r\n            <div class=\"item\">\r\n              <span class=\"item_title\">设备产地</span>\r\n              <el-select\r\n                v-model=\"equipmentAddForm.devicePlace\"\r\n                placeholder=\"请输入设备产地\"\r\n                style=\"width: 100%;\"\r\n              >\r\n                <el-option label=\"进口\" value=\"进口\"> </el-option>\r\n                <el-option label=\"国产\" value=\"国产\"> </el-option>\r\n              </el-select>\r\n            </div>\r\n          </div>\r\n          <div class=\"itemLine\">\r\n            <div class=\"item\">\r\n              <span class=\"item_title\">维保时间</span>\r\n              <el-date-picker\r\n                style=\"width: 100%;\"\r\n                v-model=\"time\"\r\n                type=\"daterange\"\r\n                value-format=\"yyyy-MM-dd\"\r\n                range-separator=\"至\"\r\n                start-placeholder=\"开始日期\"\r\n                end-placeholder=\"结束日期\"\r\n              >\r\n              </el-date-picker>\r\n            </div>\r\n\r\n            <div class=\"item\">\r\n              <span class=\"item_title\">价格</span>\r\n              <el-input\r\n                @input=\"judgmentInputValue('price')\"\r\n                v-model.number=\"equipmentAddForm.price\"\r\n                placeholder=\"请输入价格\"\r\n              ></el-input>\r\n            </div>\r\n          </div>\r\n          <div class=\"itemLine\">\r\n            <div class=\"item\">\r\n              <span class=\"item_title\">企业设备编码</span>\r\n              <el-input\r\n                v-model=\"equipmentAddForm.enterpriseDeviceNo\"\r\n                placeholder=\"请输入企业设备编码\"\r\n              ></el-input>\r\n            </div>\r\n            <div class=\"item\">\r\n              <span class=\"item_title\">企业设备位置</span>\r\n              <el-input\r\n                v-model=\"equipmentAddForm.enterpriseDevicePosition\"\r\n                placeholder=\"请输入企业设备位置\"\r\n              ></el-input>\r\n            </div>\r\n          </div>\r\n          <!-- <div class=\"itemLine\" style=\"height: 160px;\">\r\n            <div class=\"item\" style=\"position: relative;\">\r\n              <span class=\"item_title\">铭牌图片</span>\r\n              <el-upload\r\n                accept=\".jpg, .jpeg, .JPG, .JPEG,.png\"\r\n                :on-remove=\"removeNameplatePic\"\r\n                :class=\"{ hide_box: upload_btn }\"\r\n                action=\"#\"\r\n                list-type=\"picture-card\"\r\n                :http-request=\"uploadNameplatePic\"\r\n                :limit=\"1\"\r\n              >\r\n                <i class=\"el-icon-plus\"></i>\r\n              </el-upload>\r\n            </div>\r\n          </div> -->\r\n          <el-button class=\"btnTool\" @click=\"addEditEquipment\">{{\r\n            titleName === \"新增设备信息\" ? \"确定新增设备\" : \"确定编辑设备\"\r\n          }}</el-button>\r\n        </div>\r\n      </el-card>\r\n    </div>\r\n    <!-- 设备配置信息内容 -->\r\n    <div\r\n      class=\"equipmentDetails_configInfo\"\r\n      v-if=\"titleName !== '新增设备信息'\"\r\n    >\r\n      <div class=\"tool\">\r\n        <h2 class=\"configInfo_title\">设备配件信息</h2>\r\n        <el-button\r\n          style=\"background-color: #2f4d9e;color: #fffefd;\"\r\n          @click=\"addPartsList\"\r\n          >新增</el-button\r\n        >\r\n        <el-button style=\"color: #2f4d9e;border: 1px solid #2f4d9e;\"\r\n          >保存</el-button\r\n        >\r\n        <span style=\"margin-left: 10px;color: red;\">注:配件修改完必须保存</span>\r\n      </div>\r\n      <el-card>\r\n        <!-- 放配件表格 -->\r\n        <el-table\r\n          :data=\"partsList\"\r\n          :cell-style=\"{ 'text-align': 'center' }\"\r\n          style=\"width: 100%\"\r\n          :header-cell-style=\"{\r\n            background: '#f6f8fc',\r\n            color: '#707070',\r\n            'text-align': 'center',\r\n          }\"\r\n          :key=\"certinfoKey\"\r\n        >\r\n          <el-table-column label=\"编号\">\r\n            <template slot-scope=\"scope\">{{ scope.$index + 1 }} </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"category\" label=\"项目大类\"></el-table-column>\r\n          <el-table-column prop=\"name\" label=\"项目名称\"> </el-table-column>\r\n          <el-table-column prop=\"deviceBrand\" label=\"品牌\"> </el-table-column>\r\n          <el-table-column prop=\"deviceModel\" label=\"型号\"> </el-table-column>\r\n          <el-table-column label=\"单位\">mm</el-table-column>\r\n          <el-table-column prop=\"specification\" label=\"规格\"> </el-table-column>\r\n          <el-table-column label=\"操作\">\r\n            <template slot-scope=\"scope\">\r\n              <a\r\n                style=\"color: #2f4d9e;margin-right: 10px;\"\r\n                @click=\"editpartsList(scope.row, scope.$index)\"\r\n                >修改</a\r\n              >\r\n              <a\r\n                style=\"color: #2f4d9e;\"\r\n                @click=\"delpartsList(scope.$index, scope.row)\"\r\n                >删除</a\r\n              >\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </el-card>\r\n    </div>\r\n    <!-- 新增设备配件 -->\r\n    <el-dialog\r\n      :visible=\"addPartsListDialogShow\"\r\n      width=\"40%\"\r\n      :center=\"true\"\r\n      :show-close=\"false\"\r\n    >\r\n      <div\r\n        slot=\"title\"\r\n        style=\"margin-top: 20px;color: #7a797c;font-weight: 700;\"\r\n      >\r\n        {{ addPartsListName }}\r\n      </div>\r\n      <div style=\"padding: 0 20%;\">\r\n        <el-form\r\n          :model=\"partsListForm\"\r\n          label-width=\"100px\"\r\n          label-position=\"left\"\r\n        >\r\n          <el-form-item label=\"项目大类\">\r\n            <el-input v-model=\"partsListForm.category\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"项目名称\">\r\n            <el-input v-model=\"partsListForm.name\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"品牌\">\r\n            <el-input v-model=\"partsListForm.deviceBrand\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"型号\">\r\n            <el-input v-model=\"partsListForm.deviceModel\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"规格\">\r\n            <el-input v-model=\"partsListForm.specification\"></el-input>\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n      <span slot=\"footer\">\r\n        <el-button\r\n          style=\"width: 100px;color: #2d4da0;border: 1px solid #2d4da0;\"\r\n          @click=\"closeAddPartsListDialog\"\r\n          >取消</el-button\r\n        >\r\n        <el-button\r\n          style=\"width: 100px;background-color: #2d4da0;color: #fff;\"\r\n          @click=\"addPartsListComfirm(partsListForm.index)\"\r\n          >确定</el-button\r\n        >\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { editDeviceInfo, getEquipmentDetails } from \"@/api/equipmentManagement\";\r\nimport { queryDeviceSystemList, queryDeviceTypeList } from \"@/api/order\";\r\nimport { UploadImg } from \"@/api/system\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      equipmentAddForm: {\r\n        no: \"\",\r\n        cycle: null,\r\n        factoryTime: \"\",\r\n        deviceTypeId: \"\",\r\n        deviceBrand: \"\",\r\n        deviceModel: \"\",\r\n        axesNumber: \"\",\r\n        deviceSystemId: \"\",\r\n        devicePlace: \"\",\r\n        startTime: \"\",\r\n        endTime: \"\",\r\n        price: null,\r\n        enterpriseDeviceNo: \"\",\r\n        enterpriseDevicePosition: \"\",\r\n        nameplateImg: \"\",\r\n        type: 0,\r\n        orderSn: \"SE447443\",\r\n      },\r\n      time: \"\",\r\n      deviceTypeList: null, // 所有设备类型\r\n      deviceSystemList: null, // 所有设备系统\r\n      upload_btn: false, // 是否隐藏上传图片按钮\r\n      partsList: null, //配件列表\r\n      titleName: \"新增设备信息\",\r\n      addPartsListName: \"新增设备配件\",\r\n      id: \"\", //编辑需要的id\r\n      addPartsListDialogShow: false,\r\n      partsListForm: {\r\n        name: \"\",\r\n        category: \"\",\r\n        deviceBrand: \"\",\r\n        deviveModel: \"\",\r\n        specification: \"\",\r\n      },\r\n      certinfoKey: true,\r\n    };\r\n  },\r\n  methods: {\r\n    // 判断周期和价格\r\n    judgmentInputValue(str) {\r\n      var re = /^[0-9]+.?[0-9]*/;\r\n      if (this.equipmentAddForm[str] === \"\") {\r\n        this.equipmentAddForm[str] = 0;\r\n      } else if (!re.test(this.equipmentAddForm[str])) {\r\n        this.$message({\r\n          message: \"只能输数字哦\",\r\n          type: \"warning\",\r\n        });\r\n        this.equipmentAddForm[str] = 0;\r\n      }\r\n    },\r\n    // 点击编辑设备配件弹窗\r\n    editpartsList(row, index) {\r\n      this.addPartsListName = \"编辑设备配件\";\r\n      this.addPartsListDialogShow = true;\r\n      this.partsListForm = { ...row, index };\r\n    },\r\n    // 确定添加设备配件\r\n    addPartsListComfirm(index) {\r\n      if (this.addPartsListName === \"编辑设备配件\") {\r\n        this.partsList[index] = this.partsListForm;\r\n        this.certinfoKey = !this.certinfoKey;\r\n      } else {\r\n        if (!this.partsList) {\r\n          this.partsList = [];\r\n        }\r\n        this.partsList.push(this.partsListForm);\r\n      }\r\n      this.$message({\r\n        type: \"success\",\r\n        message:\r\n          this.addPartsListName === \"编辑设备配件\" ? \"编辑成功\" : \"添加成功\",\r\n      });\r\n      this.closeAddPartsListDialog();\r\n    },\r\n    // 关闭新增设备配件弹窗\r\n    closeAddPartsListDialog() {\r\n      this.addPartsListDialogShow = false;\r\n      this.partsListForm = {\r\n        name: \"\",\r\n        category: \"\",\r\n        deviceBrand: \"\",\r\n        deviveMoDEL: \"\",\r\n        specification: \"\",\r\n      };\r\n    },\r\n    //新增设备配件\r\n    addPartsList() {\r\n      this.addPartsListName = \"新增设备配件\";\r\n      this.addPartsListDialogShow = true;\r\n    },\r\n    // 删除设备配件\r\n    delpartsList(index, row) {\r\n      this.$confirm(\"您确定删除\" + row.name + \"?\", \"删除\", {\r\n        type: \"warning\",\r\n      }).then(() => {\r\n        this.partsList.splice(index, 1);\r\n        this.$message({\r\n          type: \"success\",\r\n          message: \"删除成功\",\r\n        });\r\n      });\r\n    },\r\n    // 新增编辑设备\r\n    async addEditEquipment() {\r\n      this.equipmentAddForm.endTime = this.time[1] + \" 00:00:00\";\r\n      this.equipmentAddForm.startTime = this.time[0] + \" 00:00:00\";\r\n      console.log(this.equipmentAddForm);\r\n      const res = await editDeviceInfo(this.equipmentAddForm);\r\n      if (res.message === \"操作成功\") {\r\n        this.$router.push({\r\n          name: \"equipmentDetails\",\r\n          query: { id: this.equipmentAddForm.id },\r\n        });\r\n      }\r\n    },\r\n    // 移除铭牌图片\r\n    removeNameplatePic() {\r\n      this.equipmentAddForm.nameplateImg = \"\";\r\n      setTimeout(() => {\r\n        this.upload_btn = false;\r\n      }, 1050);\r\n    },\r\n    // 上传铭牌图片\r\n    async uploadNameplatePic(fileData) {\r\n      const loading = this.$loading({\r\n        lock: true,\r\n        text: \"上传铭牌中...\",\r\n        spinner: \"el-icon-loading\",\r\n      });\r\n      const formData = new FormData();\r\n      this.upload_btn = true;\r\n      formData.append(\"file\", fileData.file);\r\n      const res = await UploadImg(formData);\r\n      this.equipmentAddForm.nameplateImg = res.data;\r\n      loading.close();\r\n    },\r\n  },\r\n  async created() {\r\n    this.titleName = this.$route.query.titleName;\r\n    if (this.titleName !== \"新增设备信息\") {\r\n      this.id = this.$route.query.id;\r\n      // 详情数据回显\r\n      const res = await getEquipmentDetails({ id: this.id });\r\n      this.equipmentAddForm = { ...res.data };\r\n      if (this.equipmentAddForm.startTime) {\r\n        this.time = [\r\n          res.data.startTime.substring(0, 10),\r\n          res.data.endTime.substring(0, 10),\r\n        ];\r\n      }\r\n      this.partsList = res.data.partsList;\r\n    }\r\n    // 所有的设备类型\r\n    const deviceTypeList = await queryDeviceTypeList();\r\n    this.deviceTypeList = deviceTypeList.data;\r\n    // 所有的设备系统\r\n    const deviceSystemList = await queryDeviceSystemList();\r\n    this.deviceSystemList = deviceSystemList.data;\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.hide_box /deep/ .el-upload--picture-card {\r\n  display: none;\r\n}\r\n\r\n// 设备基本信息内容\r\n.equipmentDetails {\r\n  padding: 20px;\r\n  .equipmentDetails_basicInfo {\r\n    .basicInfo_title {\r\n      color: #0b2059;\r\n      margin: 0 0 20px 30px;\r\n    }\r\n    .basicInfo_content {\r\n      padding: 0 0 0 20px;\r\n      position: relative;\r\n      .btnTool {\r\n        position: absolute;\r\n        bottom: 10px;\r\n        right: 60px;\r\n        background-color: #2f4d9e;\r\n        color: #fff;\r\n      }\r\n      .itemLine {\r\n        height: 45px;\r\n        display: flex;\r\n        margin-bottom: 10px;\r\n\r\n        .item {\r\n          width: 33%;\r\n          display: flex;\r\n          align-items: center;\r\n          color: #707070;\r\n          font-size: 15px;\r\n          padding: 0 20px;\r\n\r\n          .item_title {\r\n            font-size: 20px;\r\n            font-weight: 700;\r\n            width: 250px;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// 设备配置信息内容\r\n.equipmentDetails_configInfo {\r\n  margin-bottom: 20px;\r\n  .tool {\r\n    display: flex;\r\n    align-items: center;\r\n    .el-button {\r\n      height: 35px;\r\n      width: 70px;\r\n    }\r\n  }\r\n  .configInfo_title {\r\n    color: #0b2059;\r\n    margin: 20px 30px;\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views/maintenance/equipmentManagement"}]}