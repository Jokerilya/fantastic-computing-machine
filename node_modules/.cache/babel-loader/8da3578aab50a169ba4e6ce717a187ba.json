{"remainingRequest":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\babel-loader\\lib\\index.js!D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\机将公司\\机将后台端\\background-management-system\\src\\layout\\components\\Navbar.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\机将公司\\机将后台端\\background-management-system\\src\\layout\\components\\Navbar.vue","mtime":1681281367203},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L1x1NjczQVx1NUMwNlx1NTE2Q1x1NTNGOC9cdTY3M0FcdTVDMDZcdTU0MEVcdTUzRjBcdTdBRUYvYmFja2dyb3VuZC1tYW5hZ2VtZW50LXN5c3RlbS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkQ6L1x1NjczQVx1NUMwNlx1NTE2Q1x1NTNGOC9cdTY3M0FcdTVDMDZcdTU0MEVcdTUzRjBcdTdBRUYvYmFja2dyb3VuZC1tYW5hZ2VtZW50LXN5c3RlbS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IEJyZWFkY3J1bWIgZnJvbSAiQC9jb21wb25lbnRzL0JyZWFkY3J1bWIiOwppbXBvcnQgSGFtYnVyZ2VyIGZyb20gIkAvY29tcG9uZW50cy9IYW1idXJnZXIiOwppbXBvcnQgeyBoYW5kbGVVblJlYWRNZXNzYWdlLCBxdWVyeVVuUmVhZE1lc3NnYWUgfSBmcm9tICJAL2FwaS9vcmRlciI7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBCcmVhZGNydW1iOiBCcmVhZGNydW1iLAogICAgSGFtYnVyZ2VyOiBIYW1idXJnZXIKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBHZXR0ZXJzKFsibmFtZSIsICJzaWRlYmFyIiwgImF2YXRhciJdKSksCiAgbWV0aG9kczogewogICAgdG9nZ2xlU2lkZUJhcjogZnVuY3Rpb24gdG9nZ2xlU2lkZUJhcigpIHsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImFwcC90b2dnbGVTaWRlQmFyIik7CiAgICB9LAogICAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgidXNlci9sb2dvdXQiKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKCIvbG9naW4iKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOafpeivouacquWkhOeQhuiuouWNlQogICAgZ2V0UXVlcnlVbnByb2Nlc3NlZE9yZGVyOiBmdW5jdGlvbiBnZXRRdWVyeVVucHJvY2Vzc2VkT3JkZXIoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIHJlcywgUXVlcnlVbnByb2Nlc3NlZE9yZGVyOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gcXVlcnlVblJlYWRNZXNzZ2FlKCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgICAgUXVlcnlVbnByb2Nlc3NlZE9yZGVyID0gcmVzLmRhdGE7CiAgICAgICAgICAgICAgICBRdWVyeVVucHJvY2Vzc2VkT3JkZXIuZm9yRWFjaChmdW5jdGlvbiAoaSkgewogICAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IF90aGlzMi4kbm90aWZ5KHsKICAgICAgICAgICAgICAgICAgICB0aXRsZTogIuW+heaTjeS9nCIsCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogaS5vcmRlclNuICsgaS5tZXNzYWdlLAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMCwKICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogImJvdHRvbS1yaWdodCIsCiAgICAgICAgICAgICAgICAgICAgb25DbGljazogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgdmFyIF9vbkNsaWNrID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlczsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZVVuUmVhZE1lc3NhZ2UoaS5pZCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMubWVzc2FnZSA9PT0gIuaTjeS9nOaIkOWKnyIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi4kcm91dGVyLnB1c2goIi9tYWludGVuYW5jZS9tYWludGVuYW5jZV9vcmRlcl9kZXNjP29yZGVyU249IiArIGkub3JkZXJTbik7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5jbG9zZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTAwMCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfb25DbGljay5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvbkNsaWNrOwogICAgICAgICAgICAgICAgICAgIH0oKQogICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIGl0ZW0uY2xvc2UoKTsKICAgICAgICAgICAgICAgICAgfSwgNjAwMDApOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgIHRoaXMuZ2V0UXVlcnlVbnByb2Nlc3NlZE9yZGVyKCk7CiAgICBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzMy5nZXRRdWVyeVVucHJvY2Vzc2VkT3JkZXIoKTsKICAgIH0sIDYxMDAwKTsKICB9Cn07"},{"version":3,"sources":["Navbar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA,SAAA,UAAA,QAAA,MAAA;AACA,OAAA,UAAA,MAAA,yBAAA;AACA,OAAA,SAAA,MAAA,wBAAA;AACA,SAAA,mBAAA,EAAA,kBAAA,QAAA,aAAA;AAEA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,UAAA,EAAA,UADA;AAEA,IAAA,SAAA,EAAA;AAFA,GADA;AAKA,EAAA,QAAA,oBACA,UAAA,CAAA,CAAA,MAAA,EAAA,SAAA,EAAA,QAAA,CAAA,CADA,CALA;AAQA,EAAA,OAAA,EAAA;AACA,IAAA,aADA,2BACA;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,mBAAA;AACA,KAHA;AAIA,IAAA,MAJA,oBAIA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,aAAA,CADA;;AAAA;AAEA,gBAAA,KAAA,CAAA,OAAA,CAAA,IAAA;;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA,KAPA;AASA;AACA,IAAA,wBAVA,sCAUA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,kBAAA,EADA;;AAAA;AACA,gBAAA,GADA;AAEA,gBAAA,qBAFA,GAEA,GAAA,CAAA,IAFA;AAGA,gBAAA,qBAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,sBAAA,IAAA,GAAA,MAAA,CAAA,OAAA,CAAA;AACA,oBAAA,KAAA,EAAA,KADA;AAEA,oBAAA,OAAA,EAAA,CAAA,CAAA,OAAA,GAAA,CAAA,CAAA,OAFA;AAGA,oBAAA,IAAA,EAAA,SAHA;AAIA,oBAAA,QAAA,EAAA,CAJA;AAKA,oBAAA,QAAA,EAAA,cALA;AAMA,oBAAA,OAAA;AAAA,6FAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uCACA,mBAAA,CAAA,CAAA,CAAA,EAAA,CADA;;AAAA;AACA,gCAAA,GADA;;AAEA,oCAAA,GAAA,CAAA,OAAA,KAAA,MAAA,EAAA;AACA,kCAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CACA,iDAAA,CAAA,CAAA,OADA;;AAGA,kCAAA,IAAA,CAAA,KAAA;AACA,kCAAA,UAAA,CAAA,YAAA;AACA,oCAAA,QAAA,CAAA,MAAA;AACA,mCAFA,EAEA,IAFA,CAAA;AAGA;;AAVA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AANA,mBAAA,CAAA;;AAmBA,kBAAA,UAAA,CAAA,YAAA;AACA,oBAAA,IAAA,CAAA,KAAA;AACA,mBAFA,EAEA,KAFA,CAAA;AAGA,iBAvBA;;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA2BA;AArCA,GARA;AAgDA,EAAA,OAhDA,qBAgDA;AAAA;;AACA,SAAA,wBAAA;AACA,IAAA,WAAA,CAAA,YAAA;AACA,MAAA,MAAA,CAAA,wBAAA;AACA,KAFA,EAEA,KAFA,CAAA;AAGA;AArDA,CAAA","sourcesContent":["<template>\n  <div class=\"navbar\">\n    <hamburger\n      :is-active=\"sidebar.opened\"\n      class=\"hamburger-container\"\n      @toggleClick=\"toggleSideBar\"\n    />\n\n    <breadcrumb class=\"breadcrumb-container\" />\n\n    <div class=\"right-menu\">\n      <!-- <div class=\"user_info\">\n        <span>{{ name }}</span>\n      </div> -->\n      <el-dropdown class=\"avatar-container\" trigger=\"click\">\n        <div class=\"avatar-wrapper\">\n          <img :src=\"avatar + '?imageView2/1/w/80/h/80'\" class=\"user-avatar\" />\n          <div class=\"user_info\">\n            <span style=\"color:#fff;\">{{ name }}</span>\n          </div>\n          <i class=\"el-icon-caret-bottom\" />\n        </div>\n        <el-dropdown-menu slot=\"dropdown\" class=\"user-dropdown\">\n          <router-link to=\"/\">\n            <el-dropdown-item>\n              首页\n            </el-dropdown-item>\n          </router-link>\n          <el-dropdown-item divided @click.native=\"logout\">\n            <span style=\"display:block;\">退出登录</span>\n          </el-dropdown-item>\n        </el-dropdown-menu>\n      </el-dropdown>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from \"vuex\";\nimport Breadcrumb from \"@/components/Breadcrumb\";\nimport Hamburger from \"@/components/Hamburger\";\nimport { handleUnReadMessage, queryUnReadMessgae } from \"@/api/order\";\n\nexport default {\n  components: {\n    Breadcrumb,\n    Hamburger,\n  },\n  computed: {\n    ...mapGetters([\"name\", \"sidebar\", \"avatar\"]),\n  },\n  methods: {\n    toggleSideBar() {\n      this.$store.dispatch(\"app/toggleSideBar\");\n    },\n    async logout() {\n      await this.$store.dispatch(\"user/logout\");\n      this.$router.push(`/login`);\n    },\n\n    // 查询未处理订单\n    async getQueryUnprocessedOrder() {\n      const res = await queryUnReadMessgae();\n      let QueryUnprocessedOrder = res.data;\n      QueryUnprocessedOrder.forEach((i) => {\n        const item = this.$notify({\n          title: \"待操作\",\n          message: i.orderSn + i.message,\n          type: \"success\",\n          duration: 0,\n          position: \"bottom-right\",\n          onClick: async () => {\n            const res = await handleUnReadMessage(i.id);\n            if (res.message === \"操作成功\") {\n              this.$router.push(\n                \"/maintenance/maintenance_order_desc?orderSn=\" + i.orderSn\n              );\n              item.close();\n              setTimeout(() => {\n                location.reload();\n              }, 1000);\n            }\n          },\n        });\n        setTimeout(() => {\n          item.close();\n        }, 60000);\n      });\n    },\n  },\n\n  created() {\n    this.getQueryUnprocessedOrder();\n    setInterval(() => {\n      this.getQueryUnprocessedOrder();\n    }, 61000);\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.navbar {\n  height: 50px;\n  overflow: hidden;\n  position: relative;\n  background: #3d3d3d;\n  box-shadow: 0 1px 4px rgba(0, 21, 41, 0.08);\n\n  .user_info {\n    float: left;\n    margin-right: 15px;\n  }\n\n  .hamburger-container {\n    line-height: 46px;\n    height: 100%;\n    float: left;\n    cursor: pointer;\n    transition: background 0.3s;\n    -webkit-tap-highlight-color: transparent;\n\n    &:hover {\n      background: rgba(0, 0, 0, 0.025);\n    }\n  }\n\n  .breadcrumb-container {\n    float: left;\n  }\n\n  .right-menu {\n    float: right;\n    height: 100%;\n    line-height: 50px;\n\n    &:focus {\n      outline: none;\n    }\n\n    .right-menu-item {\n      display: inline-block;\n      padding: 0 8px;\n      height: 100%;\n      font-size: 18px;\n      color: #5a5e66;\n      vertical-align: text-bottom;\n\n      &.hover-effect {\n        cursor: pointer;\n        transition: background 0.3s;\n\n        &:hover {\n          background: rgba(0, 0, 0, 0.025);\n        }\n      }\n    }\n\n    .avatar-container {\n      margin-right: 30px;\n      cursor: pointer;\n\n      .avatar-wrapper {\n        // margin-top: 5px;\n        position: relative;\n        img {\n          float: left;\n          margin-right: 10px;\n          margin-top: 5px;\n        }\n        .user-avatar {\n          cursor: pointer;\n          width: 40px;\n          height: 40px;\n          border-radius: 10px;\n        }\n\n        .el-icon-caret-bottom {\n          cursor: pointer;\n          position: absolute;\n          right: -6px;\n          top: 18px;\n          font-size: 12px;\n        }\n      }\n    }\n  }\n}\n</style>\n"],"sourceRoot":"src/layout/components"}]}