{"remainingRequest":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\thread-loader\\dist\\cjs.js!D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\babel-loader\\lib\\index.js!D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\机将公司\\机将后台端\\background-management-system\\src\\views\\maintenance\\worker\\worker.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\机将公司\\机将后台端\\background-management-system\\src\\views\\maintenance\\worker\\worker.vue","mtime":1708855252944},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovXHU2NzNBXHU1QzA2XHU1MTZDXHU1M0Y4L1x1NjczQVx1NUMwNlx1NTQwRVx1NTNGMFx1N0FFRi9iYWNrZ3JvdW5kLW1hbmFnZW1lbnQtc3lzdGVtL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L1x1NjczQVx1NUMwNlx1NTE2Q1x1NTNGOC9cdTY3M0FcdTVDMDZcdTU0MEVcdTUzRjBcdTdBRUYvYmFja2dyb3VuZC1tYW5hZ2VtZW50LXN5c3RlbS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4uanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IFVwbG9hZEltZywgYWRkcmVzc0ZuIH0gZnJvbSAiQC9hcGkvc3lzdGVtIjsKaW1wb3J0IEVkaXRXb3JrZXIgZnJvbSAiLi9jb21wb25lbnRzL2VkaXRXb3JrZXIudnVlIjsKaW1wb3J0IHRhYmxlTWl4aW4gZnJvbSAiQC9taXhpbi90YWJsZSI7CmltcG9ydCB7IGdldE1hc3Rlckxpc3QgfSBmcm9tICJAL2FwaS91c2VyLmpzIjsKaW1wb3J0IHsgaGFuZGxlTWFzdGVySW5mb0V4cG9ydCwgcXVlcnlNYXN0ZXJNZW1iZXJMaXN0LCBnZXRNYXN0ZXJJbmZvLCBxdWVyeU1hc3Rlck5hbWUsIHF1ZXJ5RGV2aWNlVHlwZUxpc3QsIHF1ZXJ5RGV2aWNlU3lzdGVtTGlzdCwgcXVlcnlEZXZpY2VQb3NpdGlvbkxpc3QsIGVkaXRNYXN0ZXJJbmZvLCBoYW5kbGVNYXN0ZXJJZGVudGl0eSwgaGFuZGxlTWFzdGVySW50ZWdyYWwsIHF1ZXJ5TWFzdGVySW50ZWdyYWxMaXN0LCBoYW5kbGVBY3RpdmVNYXN0ZXIgfSBmcm9tICJAL2FwaS9vcmRlci5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICB0aXRsZTogImNvdXJzZSIsCiAgbWl4aW5zOiBbdGFibGVNaXhpbl0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNldEFjdGl2ZVBhcm1hczogewogICAgICAgIHVpZDogIiIsCiAgICAgICAgZmxhZzogIiIKICAgICAgfSwKICAgICAgc2V0QWN0aXZlRGlhbG9nOiBmYWxzZSwKICAgICAgc2NvcmVMaXN0VG90YWw6ICIiLAogICAgICBzY29yZUxpc3Q6IFtdLAogICAgICBtYXN0ZXJJbnRlZ3JhbExpc3Q6IFt7CiAgICAgICAgdHlwZTogNCwKICAgICAgICB0ZXh0OiAi5Li75Yqo5o+Q5Lqk57u05L+u5Y2VIiwKICAgICAgICB2YWx1ZTogMzAKICAgICAgfSwgewogICAgICAgIHR5cGU6IDUsCiAgICAgICAgdGV4dDogIuS7i+e7jeWuouaIt+etvue6puacuuW6iueuoeWutiIsCiAgICAgICAgdmFsdWU6IDMwCiAgICAgIH0sIHsKICAgICAgICB0eXBlOiA2LAogICAgICAgIHRleHQ6ICLmi5LljZUiLAogICAgICAgIHZhbHVlOiAtMQogICAgICB9LCB7CiAgICAgICAgdHlwZTogNywKICAgICAgICB0ZXh0OiAi5ZCM5LiA5pWF6Zqc6L+U5L+uIiwKICAgICAgICB2YWx1ZTogLTIKICAgICAgfSwgewogICAgICAgIHR5cGU6IDgsCiAgICAgICAgdGV4dDogIumqjOacuiIsCiAgICAgICAgdmFsdWU6IDAKICAgICAgfSwgewogICAgICAgIHR5cGU6IDksCiAgICAgICAgdGV4dDogIuS/neWFuyIsCiAgICAgICAgdmFsdWU6IDAKICAgICAgfV0sCiAgICAgIGludGVncmFsRnJvbTogewogICAgICAgIHVpZDogIiIsCiAgICAgICAgcmVsYXRpb25PcmRlclNuOiAiIiwKICAgICAgICB0eXBlOiAiIiwKICAgICAgICByZW1hcmtzOiAiIiwKICAgICAgICB2YWx1ZTogIiIKICAgICAgfSwKICAgICAgc2NvcmVfZGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIHNjb3JlRm9ybTogewogICAgICAgIHVpZDogIiIsCiAgICAgICAgcGFnZU5vOiAxLAogICAgICAgIHBhZ2VTaXplOiA1CiAgICAgIH0sCiAgICAgIGludGVncmFsX2RpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBjaG9vc2VSb3NlRm9ybTogewogICAgICAgIG1hc3RlclJvbGVJZDogMywKICAgICAgICBzdXBlcmlvck1hc3RlclVpZDogIiIsCiAgICAgICAgdWlkOiAiIgogICAgICB9LAogICAgICBjaG9vc2VSb3NlRGlhbG9nU2hvdzogZmFsc2UsCiAgICAgIHJlZ2lvbk1hbmFnZXJMaXN0OiBudWxsLAogICAgICBhZGRTaWduaW5nTWFzdGVyUnVsZXM6IHsKICAgICAgICBwaG9uZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+Whq+WGmeaJi+acuuWPt+eggSIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICBtYXN0ZXJSb2xlSWQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fpgInmi6nnsbvlnosiLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0sCiAgICAgICAgcmVhbE5hbWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fovpPlhaXnnJ/lrp7lp5PlkI0iLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0sCiAgICAgICAgYWRkcmVzczogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpeivpue7huWcsOWdgCIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICBpZGVudGl0eU51bWJlcjogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpei6q+S7veivgeWPt+eggSIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICBpbmR1c3RyeUV4cGVyaWVuY2U6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fovpPlhaXooYzkuJrnu4/pqowiLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0sCiAgICAgICAgcmVhbFBvcnRyYWl0OiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6K+35LiK5Lyg55yf5a6e5aS05YOPIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIGlkZW50aXR5QmFja0ltYWdlOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6K+35LiK5Lyg6Lqr5Lu96K+B5Y+N6Z2i54WnIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIGlkZW50aXR5RnJvbnRJbWFnZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+S4iuS8oOi6q+S7veivgeato+mdoueFpyIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICBzZXJ2aWNlVHlwZXM6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fpgInmi6norr7lpIfnsbvlnosiLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0sCiAgICAgICAgc2VydmVTeXN0ZW06IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fovpPlhaXorr7lpIfns7vnu58iLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0sCiAgICAgICAgc2VydmVQb3NpdGlvbjogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpeacjeWKoemDqOS9jSIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICBzdXBlcmlvck1hc3RlclVpZDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+mAieaLqeWMuuWfn+e7j+eQhiIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XQogICAgICB9LAogICAgICBza2lsbENlcnRpZmljYXRlSW1hZ2VzVWlkOiBbXSwKICAgICAgaW5kdXN0cnlFeHBlcmllbmNlSW1hZ2VzVWlkOiBbXSwKICAgICAgcHJvdmluY2VMaXN0OiBudWxsLAogICAgICAvL+ecgeWIl+ihqAogICAgICBwcm92aW5jZVZhbHVlOiBudWxsLAogICAgICAvL+mAieS4reecgQogICAgICBjaXR5TGlzdDogbnVsbCwKICAgICAgLy/luILliJfooagKICAgICAgY2l0eVZhbHVlOiBudWxsLAogICAgICAvL+mAieS4reW4ggogICAgICBkaXN0cmljdExpc3Q6IG51bGwsCiAgICAgIC8v5Yy65YiX6KGoCiAgICAgIGRpc3RyaWN0VmFsdWU6IG51bGwsCiAgICAgIC8v6YCJ5Lit5Yy6CiAgICAgIGRldmljZVBvc2l0aW9uTGlzdDogbnVsbCwKICAgICAgLy/mnI3liqHpg6jkvY3liJfooagKICAgICAgc2VydmljZUFyZWE6IG51bGwsCiAgICAgIC8v5pyN5Yqh6YOo5L2N55qE5YC8CiAgICAgIGVxdWlwbWVudFN5c3RlbU9uZTogbnVsbCwKICAgICAgLy/orr7lpIfns7vnu5/nmoTlgLwKICAgICAgZXF1aXBtZW50U3lzdGVtVHdvOiBudWxsLAogICAgICAvL+iuvuWkh+ezu+e7n+eahOWAvAogICAgICBlcXVpcG1lbnRTeXN0ZW1MaXN0OiBbXSwKICAgICAgLy/orr7lpIfns7vnu5/nrKzkuIDlsYIKICAgICAgZXF1aXBtZW50U3lzdGVtVHdvTGlzdDogbnVsbCwKICAgICAgLy/orr7lpIfns7vnu5/nrKzkuozlsYIKICAgICAgZXF1aXBtZW50U3lzdGVtTGlzdDE6IFtdLAogICAgICAvL+i/m+WPo+ezu+e7n+esrOS6jOWxggogICAgICBlcXVpcG1lbnRTeXN0ZW1MaXN0MjogW10sCiAgICAgIC8v5Zu95Lqn57O757uf56ys5LqM5bGCCiAgICAgIGVxdWlwbWVudFR5cGVPbmU6IG51bGwsCiAgICAgIC8v6K6+5aSH57G75Z6L55qE5YC8CiAgICAgIGVxdWlwbWVudFR5cGVUd286IG51bGwsCiAgICAgIC8v6K6+5aSH57G75Z6L55qE5YC8CiAgICAgIGVxdWlwbWVudFR5cGVMaXN0OiBbXSwKICAgICAgLy/orr7lpIfnsbvlnovnrKzkuIDlsYIKICAgICAgZXF1aXBtZW50VHlwZVR3b0xpc3Q6IG51bGwsCiAgICAgIC8v6K6+5aSH57G75Z6L56ys5LqM5bGCCiAgICAgIGVxdWlwbWVudFR5cGVMaXN0MTogW10sCiAgICAgIC8v5pWw5o6n6L2m5bqK56ys5LqM5bGCCiAgICAgIGVxdWlwbWVudFR5cGVMaXN0MjogW10sCiAgICAgIC8v5Yqg5bel5Lit5b+D56ys5LqM5bGCCiAgICAgIGVxdWlwbWVudFR5cGVMaXN0MzogW10sCiAgICAgIC8v6LWw5b+D5py656ys5LiJ5bGCCiAgICAgIHVwbG9hZElkZW50aXR5RnJvbnRJbWFnZUltZzogbnVsbCwKICAgICAgLy/ouqvku73or4HmraPpnaIKICAgICAgdXBsb2FkSWRlbnRpdHlCYWNrSW1hZ2VJbWc6IG51bGwsCiAgICAgIC8v6Lqr5Lu96K+B5Y+N6Z2iCiAgICAgIHVwbG9hZFJlYWxQb3J0cmFpdEltZzogbnVsbCwKICAgICAgLy/nnJ/lrp7lpLTlg48KICAgICAgYWRkU2lnbmluZ01hc3RlckZvcm06IHsKICAgICAgICBtYXN0ZXJSb2xlSWQ6IDMsCiAgICAgICAgcmVhbE5hbWU6IG51bGwsCiAgICAgICAgYWRkcmVzczogbnVsbCwKICAgICAgICBpZGVudGl0eU51bWJlcjogbnVsbCwKICAgICAgICBpbmR1c3RyeUV4cGVyaWVuY2U6IG51bGwsCiAgICAgICAgcmVhbFBvcnRyYWl0OiBudWxsLAogICAgICAgIGlkZW50aXR5QmFja0ltYWdlOiBudWxsLAogICAgICAgIGlkZW50aXR5RnJvbnRJbWFnZTogbnVsbCwKICAgICAgICBzZXJ2aWNlVHlwZXM6IG51bGwsCiAgICAgICAgc2VydmVTeXN0ZW06IG51bGwsCiAgICAgICAgc2VydmVQb3NpdGlvbjogbnVsbCwKICAgICAgICBzZXJ2aWNlQXJlYXM6IG51bGwsCiAgICAgICAgaW5kdXN0cnlFeHBlcmllbmNlSW1hZ2VzOiBbXSwKICAgICAgICBza2lsbENlcnRpZmljYXRlSW1hZ2VzOiBbXSwKICAgICAgICBwaG9uZTogbnVsbCwKICAgICAgICBudW1iZXI6IG51bGwsCiAgICAgICAgc3VwZXJpb3JNYXN0ZXJVaWQ6IG51bGwKICAgICAgfSwKICAgICAgYWRkU2lnbmluZ01hc3RlckRpYWxvZ1Nob3c6IGZhbHNlLAogICAgICAvL+aWsOWinuetvue6puW4iOWCheW8ueahhgogICAgICBwYXJhbXM6IG51bGwsCiAgICAgIGNvbG9uZWxOYW1lOiBudWxsLAogICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgcmVmZXJyZXJOYW1lOiBudWxsLAogICAgICAvL+aOqOiNkOS6uuWQjeWtlwogICAgICByZWZlcnJlck9wdGlvbnM6IFtdLAogICAgICBtYXN0ZXJUZWFtTGlzdDogW10sCiAgICAgIHBhZ2VDb3VudDogMCwKICAgICAgY3VycmVudFBhZ2U6IDEsCiAgICAgIG1hc3Rlckxpc3Q6IFtdLAogICAgICBOYW1lOiAiIiwKICAgICAgUGhvbmU6ICIiLAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgcXVlcnlNZXRob2Q6ICJnZXQiLAogICAgICB0eXBlRGF0YTogW10sCiAgICAgIHN5c3RlbURhdGE6IFtdLAogICAgICBjb3Vyc2VMaXN0OiBbXSwKICAgICAgY291cnNlRGlzdHJpTGlzdDogW10sCiAgICAgIHVybDogewogICAgICAgIHF1ZXJ5OiAiL2FkbWluL21haW50ZW5hbmNlL3F1ZXJ5TWFzdGVyTGlzdCIsCiAgICAgICAgcXVlcnlUeXBlOiAiL2FkbWluL21haW50ZW5hbmNlL3F1ZXJ5RGV2aWNlVHlwZUxpc3QiLAogICAgICAgIHF1ZXJ5QWRkcmVzczogIi9hZG1pbi9iYXNlL2FkZHJlc3MiLAogICAgICAgIGVkaXQ6ICIvYWRtaW4vbWFpbnRlbmFuY2UvZWRpdE1hc3RlckluZm8iLAogICAgICAgIGxvY2s6ICIvYWRtaW4vbWFpbnRlbmFuY2UvaGFuZGxlTWFzdGVyTG9jayIsCiAgICAgICAgdXBkYXRlU3RhdHVzOiAiL2FkbWluL21haW50ZW5hbmNlL2hhbmRsZU1hc3RlckV4YW1pbmUiCiAgICAgIH0sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgd29ya2VyOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6K+36L6T5YWl5o6l5Y2V5Lq6IiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIHdvcmtlclBob25lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6K+36L6T5YWl5o6l5Y2V5Lq65omL5py6IiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIGZpbmlzaEZvcm06IHsKICAgICAgICBwYXlBbW91bnQ6IDAKICAgICAgfQogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIEVkaXRXb3JrZXI6IEVkaXRXb3JrZXIKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuZ2V0UXVlcnlEZXZpY2VUeXBlTGlzdCgpOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgIHJldHVybiBfdGhpcy5nZXRRdWVyeURldmljZVN5c3RlbUxpc3QoKTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuZ2V0UXVlcnlEZXZpY2VQb3NpdGlvbkxpc3QoKTsKCiAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gODsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuZ2V0QWRkcmVzc0ZuKCk7CgogICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEwOwogICAgICAgICAgICAgIHJldHVybiBfdGhpcy5nZXRNYXN0ZXJSb2xlTGlzdCgpOwoKICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBfdGhpcy5fZ2V0TWFzdGVyTGlzdCgpOwoKICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOehruWumuiuvue9rua0u+i3g+W4iOWChQogICAgY29uZmlybVNldEFjdGl2ZTogZnVuY3Rpb24gY29uZmlybVNldEFjdGl2ZSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlQWN0aXZlTWFzdGVyKF90aGlzMi5zZXRBY3RpdmVQYXJtYXMpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDIuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzLm1lc3NhZ2UgPT0gIuaTjeS9nOaIkOWKnyIpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmNsb3NlU2V0QWN0aXZlRGlhbG9nKCk7CgogICAgICAgICAgICAgICAgICBfdGhpczIuX2dldE1hc3Rlckxpc3QoKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g5YWz6Zet5rS76LeD5biI5YKF5qGGCiAgICBjbG9zZVNldEFjdGl2ZURpYWxvZzogZnVuY3Rpb24gY2xvc2VTZXRBY3RpdmVEaWFsb2coKSB7CiAgICAgIHRoaXMuc2V0QWN0aXZlRGlhbG9nID0gZmFsc2U7CiAgICAgIHRoaXMuc2V0QWN0aXZlUGFybWFzID0gewogICAgICAgIHVpZDogIiIsCiAgICAgICAgZmxhZzogIiIKICAgICAgfTsKICAgIH0sCiAgICAvLyDmiZPlvIDmtLvot4PluIjlgoXmoYYKICAgIG9wZW5TZXRBY3RpdmVEaWFsb2c6IGZ1bmN0aW9uIG9wZW5TZXRBY3RpdmVEaWFsb2codWlkLCBmbGFnKSB7CiAgICAgIHRoaXMuc2V0QWN0aXZlRGlhbG9nID0gdHJ1ZTsKICAgICAgdGhpcy5zZXRBY3RpdmVQYXJtYXMudWlkID0gdWlkOwogICAgICB0aGlzLnNldEFjdGl2ZVBhcm1hcy5mbGFnID0gZmxhZzsKICAgIH0sCiAgICAvLyDmlLnlj5jliIblgLzliJfooajpobXpnaLop6blj5EKICAgIHNjb3JlQ3VycmVudENoYW5nZTogZnVuY3Rpb24gc2NvcmVDdXJyZW50Q2hhbmdlKHBhZ2UpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczMuc2NvcmVGb3JtLnBhZ2VObyA9IHBhZ2U7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gcXVlcnlNYXN0ZXJJbnRlZ3JhbExpc3QoX3RoaXMzLnNjb3JlRm9ybSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgICAgX3RoaXMzLnNjb3JlTGlzdCA9IHJlcy5kYXRhLnJlY29yZHM7CiAgICAgICAgICAgICAgICBfdGhpczMuc2NvcmVMaXN0VG90YWwgPSByZXMuZGF0YS50b3RhbDsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g56Gu5a6a5biI5YKF56ev5YiG6YCJ5oupCiAgICBhZGRJbnRlZ3JhbENvbmZpcm06IGZ1bmN0aW9uIGFkZEludGVncmFsQ29uZmlybSgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICB2YXIgdmFsdWUsIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczQuaW50ZWdyYWxGcm9tLnJlbWFya3MpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM0LmludGVncmFsRnJvbS5yZW1hcmtzID0gX3RoaXM0Lm1hc3RlckludGVncmFsTGlzdFtfdGhpczQuaW50ZWdyYWxGcm9tLnR5cGUgLSA0XS50ZXh0OwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghKF90aGlzNC5pbnRlZ3JhbEZyb20udHlwZSA8IDgpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXM0LmludGVncmFsRnJvbS5yZWxhdGlvbk9yZGVyU24gPT09ICIiIHx8IF90aGlzNC5pbnRlZ3JhbEZyb20udHlwZSA9PT0gIiIpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXM0LiRtZXNzYWdlKCLorqLljZXnvJblj7flkoznp6/liIbnsbvlnovpg73mmK/lv4XloavnmoQuLi4uLi4iKTsKCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIHZhbHVlID0gX3RoaXM0Lm1hc3RlckludGVncmFsTGlzdFtfdGhpczQuaW50ZWdyYWxGcm9tLnR5cGUgLSA0XS52YWx1ZTsKICAgICAgICAgICAgICAgIF90aGlzNC5pbnRlZ3JhbEZyb20udmFsdWUgPSB2YWx1ZTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA5OwogICAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZU1hc3RlckludGVncmFsKF90aGlzNC5pbnRlZ3JhbEZyb20pOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDQuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzLm1lc3NhZ2UgPT09ICLmk43kvZzmiJDlip8iKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNC4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogIuaTjeS9nOaIkOWKnyIsCiAgICAgICAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiCiAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgX3RoaXM0LmludGVncmFsX2hhbmRsZUNsb3NlKCk7CgogICAgICAgICAgICAgICAgICBfdGhpczQuX2dldE1hc3Rlckxpc3QoKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOaJk+W8gOWIhuWAvOahhgogICAgb3Blbl9zY29yZV9kaWFsb2c6IGZ1bmN0aW9uIG9wZW5fc2NvcmVfZGlhbG9nKHVpZCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICAgIHZhciByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzNS5zY29yZUZvcm0udWlkID0gdWlkOwogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIHF1ZXJ5TWFzdGVySW50ZWdyYWxMaXN0KF90aGlzNS5zY29yZUZvcm0pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDUuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzNS5zY29yZUxpc3QgPSByZXMuZGF0YS5yZWNvcmRzOwogICAgICAgICAgICAgICAgX3RoaXM1LnNjb3JlTGlzdFRvdGFsID0gcmVzLmRhdGEudG90YWw7CiAgICAgICAgICAgICAgICBfdGhpczUuc2NvcmVfZGlhbG9nVmlzaWJsZSA9IHRydWU7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOWFs+mXreWIhuWAvOahhgogICAgc2NvcmVfaGFuZGxlQ2xvc2U6IGZ1bmN0aW9uIHNjb3JlX2hhbmRsZUNsb3NlKCkgewogICAgICB0aGlzLnNjb3JlRm9ybSA9IHsKICAgICAgICB1aWQ6ICIiLAogICAgICAgIHBhZ2VObzogMSwKICAgICAgICBwYWdlU2l6ZTogNQogICAgICB9LCB0aGlzLnNjb3JlX2RpYWxvZ1Zpc2libGUgPSBmYWxzZTsKICAgIH0sCiAgICAvLyDlhbPpl63np6/liIbmoYYKICAgIGludGVncmFsX2hhbmRsZUNsb3NlOiBmdW5jdGlvbiBpbnRlZ3JhbF9oYW5kbGVDbG9zZSgpIHsKICAgICAgdGhpcy5pbnRlZ3JhbEZyb20gPSB7CiAgICAgICAgdWlkOiAiIiwKICAgICAgICByZWxhdGlvbk9yZGVyU246ICIiLAogICAgICAgIHR5cGU6ICIiCiAgICAgIH07CiAgICAgIHRoaXMuaW50ZWdyYWxfZGlhbG9nVmlzaWJsZSA9IGZhbHNlOwogICAgfSwKICAgIC8vIOaJk+W8gOenr+WIhuahhgogICAgb3Blbl9pbnRlZ3JhbF9kaWFsb2c6IGZ1bmN0aW9uIG9wZW5faW50ZWdyYWxfZGlhbG9nKHVpZCkgewogICAgICB0aGlzLmludGVncmFsRnJvbS51aWQgPSB1aWQ7CiAgICAgIHRoaXMuaW50ZWdyYWxfZGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICB9LAogICAgLy8g56Gu5a6a6K6+572u5biI5YKF6KeS6ImyCiAgICBjb25maXJtQ2hvb3NlUm9zZTogZnVuY3Rpb24gY29uZmlybUNob29zZVJvc2UoKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoKSB7CiAgICAgICAgdmFyIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYkKF9jb250ZXh0NikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXM2LmNob29zZVJvc2VGb3JtLm1hc3RlclJvbGVJZCA9PT0gMyAmJiAhX3RoaXM2LmNob29zZVJvc2VGb3JtLnN1cGVyaW9yTWFzdGVyVWlkKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8vIOaPkOekuuWMuuWfn+e7j+eQhuW/heWhqwogICAgICAgICAgICAgICAgX3RoaXM2LiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgbWVzc2FnZTogIuWMuuWfn+e7j+eQhuS4jeiDveS4uuepuiIsCiAgICAgICAgICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIgogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDc7CiAgICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlTWFzdGVySWRlbnRpdHkoX3RoaXM2LmNob29zZVJvc2VGb3JtKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQ2LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlcy5jb2RlID09PSAiMDAwIikgewogICAgICAgICAgICAgICAgICBfdGhpczYuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICLorr7nva7miJDlip8iLAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIgogICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgIF90aGlzNi5jbG9zZUNob29zZVJvc2VEaWFsb2coKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzNi5fZ2V0TWFzdGVyTGlzdCgpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTYpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDngrnlh7vljLrln5/nu4/nkIYKICAgIGNob29zZU1hc3RlclF1WXU6IGZ1bmN0aW9uIGNob29zZU1hc3RlclF1WXUoKSB7CiAgICAgIHRoaXMuY2hvb3NlUm9zZUZvcm0uc3VwZXJpb3JNYXN0ZXJVaWQgPSBudWxsOwogICAgfSwKICAgIC8vIOWFs+mXreiuvue9ruW4iOWCheinkuiJsuahhgogICAgY2xvc2VDaG9vc2VSb3NlRGlhbG9nOiBmdW5jdGlvbiBjbG9zZUNob29zZVJvc2VEaWFsb2coKSB7CiAgICAgIHRoaXMuY2hvb3NlUm9zZUZvcm0gPSB7CiAgICAgICAgbWFzdGVyUm9sZUlkOiAzLAogICAgICAgIHN1cGVyaW9yTWFzdGVyVWlkOiAiIiwKICAgICAgICB1aWQ6ICIiCiAgICAgIH07CiAgICAgIHRoaXMuY2hvb3NlUm9zZURpYWxvZ1Nob3cgPSBmYWxzZTsKICAgIH0sCiAgICAvLyDmiZPlvIDorr7nva7luIjlgoXop5LoibLmoYYKICAgIG9wZW5DaG9vc2VSb3NlRGlhbG9nOiBmdW5jdGlvbiBvcGVuQ2hvb3NlUm9zZURpYWxvZyh1aWQpIHsKICAgICAgdGhpcy5jaG9vc2VSb3NlRm9ybS51aWQgPSB1aWQ7CiAgICAgIHRoaXMuY2hvb3NlUm9zZURpYWxvZ1Nob3cgPSB0cnVlOwogICAgfSwKICAgIC8vIOWMuuWfn+e7j+eQhueahOWAvOWPmOWMlgogICAgY2hhbmdlU3VwZXJpb3JNYXN0ZXJVaWQ6IGZ1bmN0aW9uIGNoYW5nZVN1cGVyaW9yTWFzdGVyVWlkKCkgewogICAgICB0aGlzLiRyZWZzLmFkZFNpZ25pbmdNYXN0ZXJGb3JtLnZhbGlkYXRlRmllbGQoInN1cGVyaW9yTWFzdGVyVWlkIik7CiAgICB9LAogICAgLy8g5p+l6K+i5Yy65Z+f57uP55CG5YiX6KGoCiAgICBnZXRNYXN0ZXJSb2xlTGlzdDogZnVuY3Rpb24gZ2V0TWFzdGVyUm9sZUxpc3QoKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTcoKSB7CiAgICAgICAgdmFyIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTckKF9jb250ZXh0NykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDcucHJldiA9IF9jb250ZXh0Ny5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGdldE1hc3Rlckxpc3QoewogICAgICAgICAgICAgICAgICB0eXBlOiAyLAogICAgICAgICAgICAgICAgICBtYXN0ZXJSb2xlSWQ6IDEsCiAgICAgICAgICAgICAgICAgIHBhZ2VTaXplOiAxMDAwCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQ3LnNlbnQ7CiAgICAgICAgICAgICAgICBfdGhpczcucmVnaW9uTWFuYWdlckxpc3QgPSByZXMuZGF0YS5yZWNvcmRzOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTcpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDngrnlh7vljLrln5/nu4/nkIbop6blj5EKICAgIGNoYW5nZU1hc3RlclJvbGVJZDE6IGZ1bmN0aW9uIGNoYW5nZU1hc3RlclJvbGVJZDEoKSB7CiAgICAgIHRoaXMuYWRkU2lnbmluZ01hc3RlclJ1bGVzLnNlcnZpY2VBcmVhcyA9IFt7CiAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpeacjeWKoeWMuuWfnyIsCiAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgIH1dOwogICAgICBkZWxldGUgdGhpcy5hZGRTaWduaW5nTWFzdGVyUnVsZXMuc3VwZXJpb3JNYXN0ZXJVaWQ7CiAgICB9LAogICAgLy8g54K55Ye7562+57qm5biI5YKF6Kem5Y+RCiAgICBjaGFuZ2VNYXN0ZXJSb2xlSWQyOiBmdW5jdGlvbiBjaGFuZ2VNYXN0ZXJSb2xlSWQyKCkgewogICAgICBkZWxldGUgdGhpcy5hZGRTaWduaW5nTWFzdGVyUnVsZXMuc2VydmljZUFyZWFzOwogICAgICB0aGlzLmFkZFNpZ25pbmdNYXN0ZXJSdWxlcy5zdXBlcmlvck1hc3RlclVpZCA9IFt7CiAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpeacjeWKoeWMuuWfnyIsCiAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgIH1dOwogICAgfSwKICAgIC8vIOacjeWKoeWMuuWfn+eahOWAvOWPmOWMluinpuWPkQogICAgY2hhbmdlRGlzdHJpY3RWYWx1ZTogZnVuY3Rpb24gY2hhbmdlRGlzdHJpY3RWYWx1ZSgpIHsKICAgICAgdGhpcy5hZGRTaWduaW5nTWFzdGVyRm9ybS5zZXJ2aWNlQXJlYXMgPSB0aGlzLmRpc3RyaWN0VmFsdWUudG9TdHJpbmcoKTsKICAgICAgdGhpcy4kcmVmcy5hZGRTaWduaW5nTWFzdGVyRm9ybS52YWxpZGF0ZUZpZWxkKCJzZXJ2aWNlQXJlYXMiKTsKICAgIH0sCiAgICAvLyDorr7lpIfnsbvlnovnmoTlgLzlj5jljJbop6blj5EKICAgIGNoYW5nZUVxdWlwbWVudFR5cGVUd286IGZ1bmN0aW9uIGNoYW5nZUVxdWlwbWVudFR5cGVUd28oKSB7CiAgICAgIHRoaXMuYWRkU2lnbmluZ01hc3RlckZvcm0uc2VydmljZVR5cGVzID0gdGhpcy5lcXVpcG1lbnRUeXBlVHdvLnRvU3RyaW5nKCk7CiAgICAgIHRoaXMuJHJlZnMuYWRkU2lnbmluZ01hc3RlckZvcm0udmFsaWRhdGVGaWVsZCgic2VydmljZVR5cGVzIik7CiAgICB9LAogICAgLy8g6K6+5aSH57O757uf55qE5YC85Y+Y5YyW6Kem5Y+RCiAgICBjaGFuZ2VFcXVpcG1lbnRTeXN0ZW1Ud286IGZ1bmN0aW9uIGNoYW5nZUVxdWlwbWVudFN5c3RlbVR3bygpIHsKICAgICAgdGhpcy5hZGRTaWduaW5nTWFzdGVyRm9ybS5zZXJ2ZVN5c3RlbSA9IHRoaXMuZXF1aXBtZW50U3lzdGVtVHdvLnRvU3RyaW5nKCk7CiAgICAgIHRoaXMuJHJlZnMuYWRkU2lnbmluZ01hc3RlckZvcm0udmFsaWRhdGVGaWVsZCgic2VydmVTeXN0ZW0iKTsKICAgIH0sCiAgICAvLyDmnI3liqHpg6jkvY3nmoTlgLzlj5jljJbop6blj5EKICAgIGNoYW5nZVNlcnZpY2VBcmVhOiBmdW5jdGlvbiBjaGFuZ2VTZXJ2aWNlQXJlYSgpIHsKICAgICAgdGhpcy5hZGRTaWduaW5nTWFzdGVyRm9ybS5zZXJ2ZVBvc2l0aW9uID0gdGhpcy5zZXJ2aWNlQXJlYS50b1N0cmluZygpOwogICAgICB0aGlzLiRyZWZzLmFkZFNpZ25pbmdNYXN0ZXJGb3JtLnZhbGlkYXRlRmllbGQoInNlcnZlUG9zaXRpb24iKTsKICAgIH0sCiAgICAvLyDnoa7lrprnrb7nuqbluIjlgoUKICAgIGNvbmZpcm1BZGRTaWduaW5nTWFzdGVyOiBmdW5jdGlvbiBjb25maXJtQWRkU2lnbmluZ01hc3RlcigpIHsKICAgICAgdmFyIF90aGlzOCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOCgpIHsKICAgICAgICB2YXIgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOCQoX2NvbnRleHQ4KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OC5wcmV2ID0gX2NvbnRleHQ4Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM4LiRyZWZzLmFkZFNpZ25pbmdNYXN0ZXJGb3JtLnZhbGlkYXRlKCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF90aGlzOC5hZGRTaWduaW5nTWFzdGVyRm9ybS50eXBlID0gMjsKCiAgICAgICAgICAgICAgICBpZiAoX3RoaXM4LmFkZFNpZ25pbmdNYXN0ZXJGb3JtLmluZHVzdHJ5RXhwZXJpZW5jZUltYWdlcykgewogICAgICAgICAgICAgICAgICBfdGhpczguYWRkU2lnbmluZ01hc3RlckZvcm0uaW5kdXN0cnlFeHBlcmllbmNlSW1hZ2VzID0gX3RoaXM4LmFkZFNpZ25pbmdNYXN0ZXJGb3JtLmluZHVzdHJ5RXhwZXJpZW5jZUltYWdlcy50b1N0cmluZygpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChfdGhpczguYWRkU2lnbmluZ01hc3RlckZvcm0uc2tpbGxDZXJ0aWZpY2F0ZUltYWdlcykgewogICAgICAgICAgICAgICAgICBfdGhpczguYWRkU2lnbmluZ01hc3RlckZvcm0uc2tpbGxDZXJ0aWZpY2F0ZUltYWdlcyA9IF90aGlzOC5hZGRTaWduaW5nTWFzdGVyRm9ybS5za2lsbENlcnRpZmljYXRlSW1hZ2VzLnRvU3RyaW5nKCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIGVkaXRNYXN0ZXJJbmZvKF90aGlzOC5hZGRTaWduaW5nTWFzdGVyRm9ybSk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0OC5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXMubWVzc2FnZSA9PT0gIuaTjeS9nOaIkOWKnyIpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM4LmNsb3NlQWRkU2lnbmluZ01hc3RlckRpYWxvZygpOwoKICAgICAgICAgICAgICAgICAgX3RoaXM4Ll9nZXRNYXN0ZXJMaXN0KCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlOCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOWIoOmZpOaKgOiDveivgeS5pgogICAgZGVsU2tpbGxDZXJ0aWZpY2F0ZVBpYzogZnVuY3Rpb24gZGVsU2tpbGxDZXJ0aWZpY2F0ZVBpYyhmaWxlKSB7CiAgICAgIHZhciBpbmRleCA9IHRoaXMuc2tpbGxDZXJ0aWZpY2F0ZUltYWdlc1VpZC5pbmRleE9mKGZpbGUudWlkKTsKICAgICAgdGhpcy5za2lsbENlcnRpZmljYXRlSW1hZ2VzVWlkLnNwbGljZShpbmRleCwgMSk7CiAgICAgIHRoaXMuYWRkU2lnbmluZ01hc3RlckZvcm0uc2tpbGxDZXJ0aWZpY2F0ZUltYWdlcy5zcGxpY2UoaW5kZXgsIDEpOwogICAgfSwKICAgIC8vIOS4iuS8oOaKgOiDveivgeS5pgogICAgdXBsb2FkU2tpbGxDZXJ0aWZpY2F0ZVBpYzogZnVuY3Rpb24gdXBsb2FkU2tpbGxDZXJ0aWZpY2F0ZVBpYyhmaWxlRGF0YSkgewogICAgICB2YXIgX3RoaXM5ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU5KCkgewogICAgICAgIHZhciBmb3JtRGF0YSwgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOSQoX2NvbnRleHQ5KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OS5wcmV2ID0gX2NvbnRleHQ5Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCJmaWxlIiwgZmlsZURhdGEuZmlsZSk7CiAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gVXBsb2FkSW1nKGZvcm1EYXRhKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQ5LnNlbnQ7CgogICAgICAgICAgICAgICAgX3RoaXM5LnNraWxsQ2VydGlmaWNhdGVJbWFnZXNVaWQucHVzaChmaWxlRGF0YS5maWxlLnVpZCk7CgogICAgICAgICAgICAgICAgX3RoaXM5LmFkZFNpZ25pbmdNYXN0ZXJGb3JtLnNraWxsQ2VydGlmaWNhdGVJbWFnZXMucHVzaChyZXMuZGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlOSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOWIoOmZpOihjOS4mueFp+eJhwogICAgZGVsSW5kdXN0cnlQaWM6IGZ1bmN0aW9uIGRlbEluZHVzdHJ5UGljKGZpbGUpIHsKICAgICAgdmFyIGluZGV4ID0gdGhpcy5pbmR1c3RyeUV4cGVyaWVuY2VJbWFnZXNVaWQuaW5kZXhPZihmaWxlLnVpZCk7CiAgICAgIHRoaXMuaW5kdXN0cnlFeHBlcmllbmNlSW1hZ2VzVWlkLnNwbGljZShpbmRleCwgMSk7CiAgICAgIHRoaXMuYWRkU2lnbmluZ01hc3RlckZvcm0uaW5kdXN0cnlFeHBlcmllbmNlSW1hZ2VzLnNwbGljZShpbmRleCwgMSk7CiAgICB9LAogICAgLy8g5LiK5Lyg6KGM5Lia54Wn54mHCiAgICB1cGxvYWRJbmR1c3RyeVBpYzogZnVuY3Rpb24gdXBsb2FkSW5kdXN0cnlQaWMoZmlsZURhdGEpIHsKICAgICAgdmFyIF90aGlzMTAgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEwKCkgewogICAgICAgIHZhciBmb3JtRGF0YSwgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTAkKF9jb250ZXh0MTApIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMC5wcmV2ID0gX2NvbnRleHQxMC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgiZmlsZSIsIGZpbGVEYXRhLmZpbGUpOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBVcGxvYWRJbWcoZm9ybURhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDEwLnNlbnQ7CgogICAgICAgICAgICAgICAgX3RoaXMxMC5pbmR1c3RyeUV4cGVyaWVuY2VJbWFnZXNVaWQucHVzaChmaWxlRGF0YS5maWxlLnVpZCk7CgogICAgICAgICAgICAgICAgX3RoaXMxMC5hZGRTaWduaW5nTWFzdGVyRm9ybS5pbmR1c3RyeUV4cGVyaWVuY2VJbWFnZXMucHVzaChyZXMuZGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTAuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTEwKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g5biC5Y+Y5YyWCiAgICBjaGFuZ2VDaXR5VmFsdWU6IGZ1bmN0aW9uIGNoYW5nZUNpdHlWYWx1ZSgpIHsKICAgICAgdmFyIF90aGlzMTEgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTExKCkgewogICAgICAgIHZhciByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMSQoX2NvbnRleHQxMSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDExLnByZXYgPSBfY29udGV4dDExLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGFkZHJlc3NGbihfdGhpczExLmNpdHlWYWx1ZSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0MTEuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzMTEuZGlzdHJpY3RMaXN0ID0gcmVzLmRhdGE7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTEuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTExKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g55yB5Y+Y5YyWCiAgICBjaGFuZ2VQcm92aW5jZVZhbHVlOiBmdW5jdGlvbiBjaGFuZ2VQcm92aW5jZVZhbHVlKCkgewogICAgICB2YXIgX3RoaXMxMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTIoKSB7CiAgICAgICAgdmFyIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEyJChfY29udGV4dDEyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTIucHJldiA9IF9jb250ZXh0MTIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gYWRkcmVzc0ZuKF90aGlzMTIucHJvdmluY2VWYWx1ZSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0MTIuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzMTIuY2l0eUxpc3QgPSByZXMuZGF0YTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDojrflj5blnLDljLoKICAgIGdldEFkZHJlc3NGbjogZnVuY3Rpb24gZ2V0QWRkcmVzc0ZuKCkgewogICAgICB2YXIgX3RoaXMxMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTMoKSB7CiAgICAgICAgdmFyIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEzJChfY29udGV4dDEzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTMucHJldiA9IF9jb250ZXh0MTMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gYWRkcmVzc0ZuKCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0MTMuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzMTMucHJvdmluY2VMaXN0ID0gcmVzLmRhdGE7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTEzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g6I635Y+W5pyN5Yqh5Zyw5Yy6CiAgICBnZXRRdWVyeURldmljZVBvc2l0aW9uTGlzdDogZnVuY3Rpb24gZ2V0UXVlcnlEZXZpY2VQb3NpdGlvbkxpc3QoKSB7CiAgICAgIHZhciBfdGhpczE0ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNCgpIHsKICAgICAgICB2YXIgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTQkKF9jb250ZXh0MTQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNC5wcmV2ID0gX2NvbnRleHQxNC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQxNC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBxdWVyeURldmljZVBvc2l0aW9uTGlzdCgpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDE0LnNlbnQ7CiAgICAgICAgICAgICAgICBfdGhpczE0LmRldmljZVBvc2l0aW9uTGlzdCA9IHJlcy5kYXRhOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxNCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOaUueWPmOesrOS4gOWxguiuvuWkh+ezu+e7nwogICAgY2hhbmdlRXF1aXBtZW50U3lzdGVtT25lOiBmdW5jdGlvbiBjaGFuZ2VFcXVpcG1lbnRTeXN0ZW1PbmUoKSB7CiAgICAgIGlmICh0aGlzLmVxdWlwbWVudFN5c3RlbU9uZSA9PT0gMSkgewogICAgICAgIHRoaXMuZXF1aXBtZW50U3lzdGVtVHdvTGlzdCA9IHRoaXMuZXF1aXBtZW50U3lzdGVtTGlzdDE7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5lcXVpcG1lbnRTeXN0ZW1Ud29MaXN0ID0gdGhpcy5lcXVpcG1lbnRTeXN0ZW1MaXN0MjsKICAgICAgfQogICAgfSwKICAgIC8vIOiOt+WPluiuvuWkh+ezu+e7nwogICAgZ2V0UXVlcnlEZXZpY2VTeXN0ZW1MaXN0OiBmdW5jdGlvbiBnZXRRdWVyeURldmljZVN5c3RlbUxpc3QoKSB7CiAgICAgIHZhciBfdGhpczE1ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNSgpIHsKICAgICAgICB2YXIgX3lpZWxkJHF1ZXJ5RGV2aWNlU3lzLCBkYXRhOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE1JChfY29udGV4dDE1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTUucHJldiA9IF9jb250ZXh0MTUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTUubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gcXVlcnlEZXZpY2VTeXN0ZW1MaXN0KCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF95aWVsZCRxdWVyeURldmljZVN5cyA9IF9jb250ZXh0MTUuc2VudDsKICAgICAgICAgICAgICAgIGRhdGEgPSBfeWllbGQkcXVlcnlEZXZpY2VTeXMuZGF0YTsKICAgICAgICAgICAgICAgIF90aGlzMTUuZXF1aXBtZW50U3lzdGVtTGlzdCA9IGRhdGE7CiAgICAgICAgICAgICAgICBfdGhpczE1LmVxdWlwbWVudFN5c3RlbUxpc3QxID0gZGF0YVswXS5saXN0OwogICAgICAgICAgICAgICAgX3RoaXMxNS5lcXVpcG1lbnRTeXN0ZW1MaXN0MiA9IGRhdGFbMV0ubGlzdDsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDmlLnlj5jnrKzkuIDlsYLorr7lpIfnsbvlnosKICAgIGNoYW5nZUVxdWlwbWVudFR5cGVPbmU6IGZ1bmN0aW9uIGNoYW5nZUVxdWlwbWVudFR5cGVPbmUoKSB7CiAgICAgIGlmICh0aGlzLmVxdWlwbWVudFR5cGVPbmUgPT09IDEpIHsKICAgICAgICB0aGlzLmVxdWlwbWVudFR5cGVUd29MaXN0ID0gdGhpcy5lcXVpcG1lbnRUeXBlTGlzdDE7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5lcXVpcG1lbnRUeXBlT25lID09PSAyKSB7CiAgICAgICAgdGhpcy5lcXVpcG1lbnRUeXBlVHdvTGlzdCA9IHRoaXMuZXF1aXBtZW50VHlwZUxpc3QyOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZXF1aXBtZW50VHlwZVR3b0xpc3QgPSB0aGlzLmVxdWlwbWVudFR5cGVMaXN0MzsKICAgICAgfQogICAgfSwKICAgIC8vIOiOt+WPluiuvuWkh+exu+WeiwogICAgZ2V0UXVlcnlEZXZpY2VUeXBlTGlzdDogZnVuY3Rpb24gZ2V0UXVlcnlEZXZpY2VUeXBlTGlzdCgpIHsKICAgICAgdmFyIF90aGlzMTYgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE2KCkgewogICAgICAgIHZhciBfeWllbGQkcXVlcnlEZXZpY2VUeXAsIGRhdGE7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTYkKF9jb250ZXh0MTYpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNi5wcmV2ID0gX2NvbnRleHQxNi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQxNi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBxdWVyeURldmljZVR5cGVMaXN0KCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF95aWVsZCRxdWVyeURldmljZVR5cCA9IF9jb250ZXh0MTYuc2VudDsKICAgICAgICAgICAgICAgIGRhdGEgPSBfeWllbGQkcXVlcnlEZXZpY2VUeXAuZGF0YTsKICAgICAgICAgICAgICAgIF90aGlzMTYuZXF1aXBtZW50VHlwZUxpc3QgPSBkYXRhOwogICAgICAgICAgICAgICAgX3RoaXMxNi5lcXVpcG1lbnRUeXBlTGlzdDEgPSBkYXRhWzBdLmxpc3Q7CiAgICAgICAgICAgICAgICBfdGhpczE2LmVxdWlwbWVudFR5cGVMaXN0MiA9IGRhdGFbMV0ubGlzdDsgLy8gdGhpcy5lcXVpcG1lbnRUeXBlTGlzdDMgPSBkYXRhWzJdLmxpc3Q7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTYuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE2KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g5LiK5Lyg6Lqr5Lu96K+B5q2j6Z2i54WnCiAgICB1cGxvYWRJZGVudGl0eUZyb250SW1hZ2U6IGZ1bmN0aW9uIHVwbG9hZElkZW50aXR5RnJvbnRJbWFnZShmaWxlRGF0YSkgewogICAgICB2YXIgX3RoaXMxNyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTcoKSB7CiAgICAgICAgdmFyIGZvcm1EYXRhLCByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNyQoX2NvbnRleHQxNykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE3LnByZXYgPSBfY29udGV4dDE3Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCJmaWxlIiwgZmlsZURhdGEuZmlsZSk7CiAgICAgICAgICAgICAgICBfY29udGV4dDE3Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIFVwbG9hZEltZyhmb3JtRGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0MTcuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzLm1lc3NhZ2UpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMxNy51cGxvYWRJZGVudGl0eUZyb250SW1hZ2VJbWcgPSByZXMuZGF0YTsKICAgICAgICAgICAgICAgICAgX3RoaXMxNy5hZGRTaWduaW5nTWFzdGVyRm9ybS5pZGVudGl0eUZyb250SW1hZ2UgPSByZXMuZGF0YTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMTcuJHJlZnMuYWRkU2lnbmluZ01hc3RlckZvcm0udmFsaWRhdGVGaWVsZCgiaWRlbnRpdHlGcm9udEltYWdlIik7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTcuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE3KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g5LiK5Lyg6Lqr5Lu96K+B5Y+N6Z2i54WnCiAgICB1cGxvYWRJZGVudGl0eUJhY2tJbWFnZTogZnVuY3Rpb24gdXBsb2FkSWRlbnRpdHlCYWNrSW1hZ2UoZmlsZURhdGEpIHsKICAgICAgdmFyIF90aGlzMTggPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE4KCkgewogICAgICAgIHZhciBmb3JtRGF0YSwgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTgkKF9jb250ZXh0MTgpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxOC5wcmV2ID0gX2NvbnRleHQxOC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgiZmlsZSIsIGZpbGVEYXRhLmZpbGUpOwogICAgICAgICAgICAgICAgX2NvbnRleHQxOC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBVcGxvYWRJbWcoZm9ybURhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDE4LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlcy5tZXNzYWdlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMTgudXBsb2FkSWRlbnRpdHlCYWNrSW1hZ2VJbWcgPSByZXMuZGF0YTsKICAgICAgICAgICAgICAgICAgX3RoaXMxOC5hZGRTaWduaW5nTWFzdGVyRm9ybS5pZGVudGl0eUJhY2tJbWFnZSA9IHJlcy5kYXRhOwoKICAgICAgICAgICAgICAgICAgX3RoaXMxOC4kcmVmcy5hZGRTaWduaW5nTWFzdGVyRm9ybS52YWxpZGF0ZUZpZWxkKCJpZGVudGl0eUJhY2tJbWFnZSIpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE4LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxOCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOS4iuS8oOecn+WunuWktOWDjwogICAgdXBsb2FkUmVhbFBvcnRyYWl0OiBmdW5jdGlvbiB1cGxvYWRSZWFsUG9ydHJhaXQoZmlsZURhdGEpIHsKICAgICAgdmFyIF90aGlzMTkgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE5KCkgewogICAgICAgIHZhciBmb3JtRGF0YSwgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTkkKF9jb250ZXh0MTkpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxOS5wcmV2ID0gX2NvbnRleHQxOS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgiZmlsZSIsIGZpbGVEYXRhLmZpbGUpOwogICAgICAgICAgICAgICAgX2NvbnRleHQxOS5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBVcGxvYWRJbWcoZm9ybURhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDE5LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlcy5tZXNzYWdlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMTkudXBsb2FkUmVhbFBvcnRyYWl0SW1nID0gcmVzLmRhdGE7CiAgICAgICAgICAgICAgICAgIF90aGlzMTkuYWRkU2lnbmluZ01hc3RlckZvcm0ucmVhbFBvcnRyYWl0ID0gcmVzLmRhdGE7CgogICAgICAgICAgICAgICAgICBfdGhpczE5LiRyZWZzLmFkZFNpZ25pbmdNYXN0ZXJGb3JtLnZhbGlkYXRlRmllbGQoInJlYWxQb3J0cmFpdCIpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE5LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxOSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOWFs+mXreaWsOWinuetvue6puW4iOWCheW8ueeqlwogICAgY2xvc2VBZGRTaWduaW5nTWFzdGVyRGlhbG9nOiBmdW5jdGlvbiBjbG9zZUFkZFNpZ25pbmdNYXN0ZXJEaWFsb2coKSB7CiAgICAgIHZhciBfdGhpczIwID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyMCgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIwJChfY29udGV4dDIwKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjAucHJldiA9IF9jb250ZXh0MjAubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzMjAuYWRkU2lnbmluZ01hc3RlckZvcm0gPSB7CiAgICAgICAgICAgICAgICAgIHR5cGU6IDIsCiAgICAgICAgICAgICAgICAgIHJlYWxOYW1lOiBudWxsLAogICAgICAgICAgICAgICAgICBhZGRyZXNzOiBudWxsLAogICAgICAgICAgICAgICAgICBpZGVudGl0eU51bWJlcjogbnVsbCwKICAgICAgICAgICAgICAgICAgaW5kdXN0cnlFeHBlcmllbmNlOiBudWxsLAogICAgICAgICAgICAgICAgICByZWFsUG9ydHJhaXQ6IG51bGwsCiAgICAgICAgICAgICAgICAgIGlkZW50aXR5QmFja0ltYWdlOiBudWxsLAogICAgICAgICAgICAgICAgICBpZGVudGl0eUZyb250SW1hZ2U6IG51bGwsCiAgICAgICAgICAgICAgICAgIHNlcnZpY2VUeXBlczogbnVsbCwKICAgICAgICAgICAgICAgICAgc2VydmVTeXN0ZW06IG51bGwsCiAgICAgICAgICAgICAgICAgIHNlcnZlUG9zaXRpb246IG51bGwsCiAgICAgICAgICAgICAgICAgIHNlcnZpY2VBcmVhczogbnVsbCwKICAgICAgICAgICAgICAgICAgaW5kdXN0cnlFeHBlcmllbmNlSW1hZ2VzOiBbXSwKICAgICAgICAgICAgICAgICAgc2tpbGxDZXJ0aWZpY2F0ZUltYWdlczogW10KICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfdGhpczIwLnVwbG9hZFJlYWxQb3J0cmFpdEltZyA9IG51bGw7CiAgICAgICAgICAgICAgICBfdGhpczIwLnVwbG9hZElkZW50aXR5RnJvbnRJbWFnZUltZyA9IG51bGw7CiAgICAgICAgICAgICAgICBfdGhpczIwLnVwbG9hZElkZW50aXR5QmFja0ltYWdlSW1nID0gbnVsbDsKICAgICAgICAgICAgICAgIF90aGlzMjAuZXF1aXBtZW50U3lzdGVtT25lID0gbnVsbDsKICAgICAgICAgICAgICAgIF90aGlzMjAuZXF1aXBtZW50U3lzdGVtVHdvID0gbnVsbDsKICAgICAgICAgICAgICAgIF90aGlzMjAuZXF1aXBtZW50VHlwZU9uZSA9IG51bGw7CiAgICAgICAgICAgICAgICBfdGhpczIwLmVxdWlwbWVudFR5cGVUd28gPSBudWxsOwogICAgICAgICAgICAgICAgX3RoaXMyMC5zZXJ2aWNlQXJlYSA9IG51bGw7CiAgICAgICAgICAgICAgICBfdGhpczIwLnByb3ZpbmNlVmFsdWUgPSBudWxsOwogICAgICAgICAgICAgICAgX3RoaXMyMC5jaXR5VmFsdWUgPSBudWxsOwogICAgICAgICAgICAgICAgX3RoaXMyMC5kaXN0cmljdFZhbHVlID0gbnVsbDsKCiAgICAgICAgICAgICAgICBfdGhpczIwLiRyZWZzLnVwbG9hZEluZHVzdHJ5UGljUmVmLmNsZWFyRmlsZXMoKTsKCiAgICAgICAgICAgICAgICBfdGhpczIwLiRyZWZzLnVwbG9hZFNraWxsQ2VydGlmaWNhdGVQaWNSZWYuY2xlYXJGaWxlcygpOwoKICAgICAgICAgICAgICAgIF90aGlzMjAuc2tpbGxDZXJ0aWZpY2F0ZUltYWdlc1VpZCA9IFtdOwogICAgICAgICAgICAgICAgX3RoaXMyMC5pbmR1c3RyeUV4cGVyaWVuY2VJbWFnZXNVaWQgPSBbXTsKICAgICAgICAgICAgICAgIF90aGlzMjAuYWRkU2lnbmluZ01hc3RlckRpYWxvZ1Nob3cgPSBmYWxzZTsKCiAgICAgICAgICAgICAgICBfdGhpczIwLiRyZWZzLmFkZFNpZ25pbmdNYXN0ZXJGb3JtLnJlc2V0RmllbGRzKCk7CgogICAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIwLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyMCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOaJk+W8gOaWsOWinuetvue6puW4iOWCheW8ueeqlwogICAgYWRkU2lnbmluZ01hc3RlcjogZnVuY3Rpb24gYWRkU2lnbmluZ01hc3RlcigpIHsKICAgICAgdGhpcy5hZGRTaWduaW5nTWFzdGVyRGlhbG9nU2hvdyA9IHRydWU7CiAgICB9LAogICAgLy8g6YeN572u5oyJ6ZKuCiAgICByZXNldEZuOiBmdW5jdGlvbiByZXNldEZuKCkgewogICAgICB0aGlzLnJlZmVycmVyTmFtZSA9IG51bGw7CiAgICAgIHRoaXMuY29sb25lbE5hbWUgPSBudWxsOwogICAgICB0aGlzLk5hbWUgPSBudWxsOwoKICAgICAgdGhpcy5fZ2V0TWFzdGVyTGlzdCgpOwogICAgfSwKICAgIC8vIOaQnOe0ouaOqOiNkOS6ui/lm6Lplb8KICAgIHJlbW90ZU1ldGhvZDogZnVuY3Rpb24gcmVtb3RlTWV0aG9kKHF1ZXJ5KSB7CiAgICAgIHZhciBfdGhpczIxID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyMSgpIHsKICAgICAgICB2YXIgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjEkKF9jb250ZXh0MjEpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyMS5wcmV2ID0gX2NvbnRleHQyMS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQyMS5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBxdWVyeU1hc3Rlck5hbWUocXVlcnkpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDIxLnNlbnQ7CiAgICAgICAgICAgICAgICBfdGhpczIxLnJlZmVycmVyT3B0aW9ucyA9IHJlcy5kYXRhOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIxLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyMSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGhhbmRsZUVudGVycHJpc2VFeGFtaW5lOiBmdW5jdGlvbiBoYW5kbGVFbnRlcnByaXNlRXhhbWluZSgpIHt9LAogICAgLy8g5a+85Ye65biI5YKFCiAgICBfaGFuZGxlTWFzdGVySW5mb0V4cG9ydDogZnVuY3Rpb24gX2hhbmRsZU1hc3RlckluZm9FeHBvcnQoKSB7CiAgICAgIHZhciBfdGhpczIyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyMigpIHsKICAgICAgICB2YXIgbG9hZGluZywgZGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIyJChfY29udGV4dDIyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjIucHJldiA9IF9jb250ZXh0MjIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGxvYWRpbmcgPSBfdGhpczIyLiRsb2FkaW5nKHsKICAgICAgICAgICAgICAgICAgbG9jazogdHJ1ZSwKICAgICAgICAgICAgICAgICAgdGV4dDogIuaVsOaNruS8oOi+k+S4rSIsCiAgICAgICAgICAgICAgICAgIHNwaW5uZXI6ICJlbC1pY29uLWxvYWRpbmciCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGRhdGEgPSBfdGhpczIyLnBhcmFtczsKICAgICAgICAgICAgICAgIGRhdGEucGFnZVNpemUgPSAxMDAwOwogICAgICAgICAgICAgICAgaGFuZGxlTWFzdGVySW5mb0V4cG9ydChkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgaWYgKHJlcykgewogICAgICAgICAgICAgICAgICAgIHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpOwogICAgICAgICAgICAgICAgICAgIHZhciBibG9iID0gbmV3IEJsb2IoW3Jlcy5kYXRhXSwgewogICAgICAgICAgICAgICAgICAgICAgdHlwZTogImFwcGxpY2F0aW9uL3ZuZC5tcy1leGNlbCIKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICBsaW5rLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgICAgICAgICAgICAgICAgbGluay5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTsKICAgICAgICAgICAgICAgICAgICBsaW5rLmRvd25sb2FkID0gIuW4iOWCheWIl+ihqCI7IC8v5LiL6L2955qE5paH5Lu25ZCNCgogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobGluayk7CiAgICAgICAgICAgICAgICAgICAgbGluay5jbGljaygpOwogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobGluayk7CiAgICAgICAgICAgICAgICAgICAgbG9hZGluZy5jbG9zZSgpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMjIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDngrnlh7vmn6XnnIvmiJDlkZjop6blj5HnmoTkuovku7YKICAgIGNoZWNrVGVhbTogZnVuY3Rpb24gY2hlY2tUZWFtKHJvdykgewogICAgICB2YXIgX3RoaXMyMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjMoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyMyQoX2NvbnRleHQyMykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIzLnByZXYgPSBfY29udGV4dDIzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIzLm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMjMuX3F1ZXJ5TWFzdGVyTWVtYmVyTGlzdChyb3cpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfdGhpczIzLiRyZWZzLm1hc3RlclRlYW1MaXN0Lm9wZW4oKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMy5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMjMpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBfcXVlcnlNYXN0ZXJNZW1iZXJMaXN0OiBmdW5jdGlvbiBfcXVlcnlNYXN0ZXJNZW1iZXJMaXN0KHJvdykgewogICAgICB2YXIgX3RoaXMyNCA9IHRoaXM7CgogICAgICB2YXIgZGF0YSA9IHsKICAgICAgICB1aWQ6IHJvdy51aWQsCiAgICAgICAgcGFnZU5vOiAxLAogICAgICAgIHBhZ2VTaXplOiAxMAogICAgICB9OwogICAgICBxdWVyeU1hc3Rlck1lbWJlckxpc3QoZGF0YSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcykgewogICAgICAgICAgX3RoaXMyNC5tYXN0ZXJUZWFtTGlzdCA9IHJlcy5kYXRhLnJlY29yZHM7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvLyDliIfmjaLpobXnoIHop6blj5HnmoTkuovku7YKICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZUN1cnJlbnRDaGFuZ2UocGFnZSkgewogICAgICB0aGlzLmN1cnJlbnRQYWdlID0gcGFnZTsKCiAgICAgIHRoaXMuX2dldE1hc3Rlckxpc3QoKTsKICAgIH0sCiAgICAvLyDmn6Xor6LluIjlgoXliJfooagKICAgIF9nZXRNYXN0ZXJMaXN0OiBmdW5jdGlvbiBfZ2V0TWFzdGVyTGlzdChpZCkgewogICAgICB2YXIgX3RoaXMyNSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjQoKSB7CiAgICAgICAgdmFyIF9yZXMsIF9yZXMyLCByZXM7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjQkKF9jb250ZXh0MjQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyNC5wcmV2ID0gX2NvbnRleHQyNC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKGlkID09PSAxKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMjUuY3VycmVudFBhZ2UgPSAxOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzMjUucGFyYW1zID0gewogICAgICAgICAgICAgICAgICBwYWdlTm86IF90aGlzMjUuY3VycmVudFBhZ2UsCiAgICAgICAgICAgICAgICAgIHBhZ2VTaXplOiAxMCwKICAgICAgICAgICAgICAgICAgcmVhbE5hbWU6IF90aGlzMjUuTmFtZSwKICAgICAgICAgICAgICAgICAgcGhvbmU6IF90aGlzMjUuUGhvbmUKICAgICAgICAgICAgICAgIH07IC8vIOWwhuWboumVv+aOqOiNkOS6uuWQjeWtlyDovazljJbmiJAgdWlkCgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczI1LnJlZmVycmVyTmFtZSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDI0Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDI0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIHF1ZXJ5TWFzdGVyTmFtZShfdGhpczI1LnJlZmVycmVyTmFtZSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIF9yZXMgPSBfY29udGV4dDI0LnNlbnQ7CiAgICAgICAgICAgICAgICBfdGhpczI1LnBhcmFtcy5yZWNvbW1lbmRNYXN0ZXJVaWQgPSBfcmVzLmRhdGFbMF0gJiYgX3Jlcy5kYXRhWzBdLnVpZDsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczI1LmNvbG9uZWxOYW1lKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjQubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDI0Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIHJldHVybiBxdWVyeU1hc3Rlck5hbWUoX3RoaXMyNS5jb2xvbmVsTmFtZSk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBfcmVzMiA9IF9jb250ZXh0MjQuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzMjUucGFyYW1zLnN1cGVyaW9yTWFzdGVyVWlkID0gX3JlczIuZGF0YVswXSAmJiBfcmVzMi5kYXRhWzBdLnVpZDsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgIF9jb250ZXh0MjQubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgcmV0dXJuIGdldE1hc3Rlckxpc3QoX3RoaXMyNS5wYXJhbXMpOwoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQyNC5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXMubWVzc2FnZSA9PT0gIuaTjeS9nOaIkOWKnyIpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coMTM3NSwgcmVzLmRhdGEucmVjb3Jkcyk7CiAgICAgICAgICAgICAgICAgIF90aGlzMjUubWFzdGVyTGlzdCA9IHJlcy5kYXRhLnJlY29yZHM7CiAgICAgICAgICAgICAgICAgIF90aGlzMjUucGFnZUNvdW50ID0gcmVzLmRhdGEudG90YWw7CiAgICAgICAgICAgICAgICAgIF90aGlzMjUuY3VycmVudFBhZ2UgPSByZXMuZGF0YS5jdXJyZW50OwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMjQpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBxdWVyeVNlbGVjdERhdGE6IGZ1bmN0aW9uIHF1ZXJ5U2VsZWN0RGF0YSgpIHsKICAgICAgdmFyIF90aGlzMjYgPSB0aGlzOwoKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgdGhpcy4kYXhpb3MucG9zdCh0aGlzLnVybC5xdWVyeVR5cGUpLnRoZW4oZnVuY3Rpb24gKF9yZWYpIHsKICAgICAgICB2YXIgZGF0YSA9IF9yZWYuZGF0YTsKICAgICAgICBfdGhpczI2LnR5cGVEYXRhID0gZGF0YTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5pbmZvKGVycm9yKTsKICAgICAgfSk7CiAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgfSwKICAgIGlzTG9jazogZnVuY3Rpb24gaXNMb2NrKHJvdykgewogICAgICB2YXIgX3RoaXMyNyA9IHRoaXM7CgogICAgICB0aGlzLiRheGlvcy5wb3N0KHRoaXMudXJsLmxvY2ssIHsKICAgICAgICBpZDogcm93LmlkLAogICAgICAgIGxvY2s6IE51bWJlcighcm93LmlzTG9jaykKICAgICAgfSkudGhlbiggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3JlZjMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyNShfcmVmMikgewogICAgICAgICAgdmFyIGNvZGUsIG1lc3NhZ2U7CiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTI1JChfY29udGV4dDI1KSB7CiAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDI1LnByZXYgPSBfY29udGV4dDI1Lm5leHQpIHsKICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgY29kZSA9IF9yZWYyLmNvZGUsIG1lc3NhZ2UgPSBfcmVmMi5tZXNzYWdlOwogICAgICAgICAgICAgICAgICBfY29udGV4dDI1Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyNy51dGlsLm1lc3NhZ2UoX3RoaXMyNywgY29kZSwgbWVzc2FnZSk7CgogICAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgICBfdGhpczI3Ll9nZXRNYXN0ZXJMaXN0KCk7CgogICAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjUuc3RvcCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwgX2NhbGxlZTI1KTsKICAgICAgICB9KSk7CgogICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gpIHsKICAgICAgICAgIHJldHVybiBfcmVmMy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgIH07CiAgICAgIH0oKSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTsKICAgICAgfSk7CiAgICB9LAogICAgb3BlbjogZnVuY3Rpb24gb3Blbihyb3cpIHsKICAgICAgdGhpcy4kcmVmcy5lZGl0U3RhdHVzTW9kZWwub3BlbigpOwogICAgICB0aGlzLmVkaXRGb3JtID0gewogICAgICAgIGlkOiByb3cuaWQsCiAgICAgICAgc3RhdHVzOiBmYWxzZQogICAgICB9OwogICAgfSwKICAgIGhhbmRsZUVkaXRTdGF0dXM6IGZ1bmN0aW9uIGhhbmRsZUVkaXRTdGF0dXMoZm4pIHsKICAgICAgdmFyIF90aGlzMjggPSB0aGlzOwoKICAgICAgdGhpcy4kYXhpb3MucG9zdCh0aGlzLnVybC51cGRhdGVTdGF0dXMsIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdGhpcy5lZGl0Rm9ybSksIHt9LCB7CiAgICAgICAgc3RhdHVzOiB0aGlzLmVkaXRGb3JtLnN0YXR1cwogICAgICB9KSkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIF90aGlzMjgudXRpbC5tZXNzYWdlKF90aGlzMjgsIGRhdGEuc3RhdHVzLCBkYXRhLm1lc3NhZ2UpOyAvLyB0aGlzLnF1ZXJ5KCk7CgoKICAgICAgICBfdGhpczI4Ll9nZXRNYXN0ZXJMaXN0KCk7CgogICAgICAgIF90aGlzMjgucmVzZXRFZGl0Rm9ybShmYWxzZSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuaW5mbyhlcnJvcik7CiAgICAgIH0pOwogICAgICB0aGlzLiRyZWZzLmVkaXRTdGF0dXNNb2RlbC5jbG9zZSgpOwogICAgfSwKICAgIC8vIOWFs+mXree8lui+keW8ueeql+S6i+S7tgogICAgY2xvc2VGbjogZnVuY3Rpb24gY2xvc2VGbigpIHsKICAgICAgdGhpcy5fZ2V0TWFzdGVyTGlzdCgpOwoKICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gZmFsc2U7CiAgICB9LAogICAgLy8g54K55Ye757yW6L6R6Kem5Y+R55qE5LqL5Lu2CiAgICBlZGl0SW5pdDogZnVuY3Rpb24gZWRpdEluaXQocm93KSB7CiAgICAgIHZhciBfdGhpczI5ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyNigpIHsKICAgICAgICB2YXIgbG9hZGluZywgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjYkKF9jb250ZXh0MjYpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyNi5wcmV2ID0gX2NvbnRleHQyNi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbG9hZGluZyA9IF90aGlzMjkuJGxvYWRpbmcoKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MjYubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0TWFzdGVySW5mbyhyb3cuaWQpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDI2LnNlbnQ7CiAgICAgICAgICAgICAgICBfdGhpczI5LiRyZWZzLmVkaXRXb3JrZXIuZGlhbG9nRm9ybSA9IHJlcy5kYXRhOwogICAgICAgICAgICAgICAgX3RoaXMyOS4kcmVmcy5lZGl0V29ya2VyLnNlcnZlUG9zaXRpb24gPSBbcmVzLmRhdGEuc2VydmVQb3NpdGlvbl07IC8vIOWvueWbvueJh+WNleeLrOWkhOeQhgoKICAgICAgICAgICAgICAgIF9jb250ZXh0MjYubmV4dCA9IDg7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyOS4kcmVmcy5lZGl0V29ya2VyLmF2YXRhckZpbGVMaXN0LnB1c2goewogICAgICAgICAgICAgICAgICB1cmw6IHJlcy5kYXRhLnJlYWxQb3J0cmFpdAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0MjYubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMjkuJHJlZnMuZWRpdFdvcmtlci5pZEp1c3RGaWxlTGlzdC5wdXNoKHsKICAgICAgICAgICAgICAgICAgdXJsOiByZXMuZGF0YS5pZGVudGl0eUZyb250SW1hZ2UKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgX2NvbnRleHQyNi5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyOS4kcmVmcy5lZGl0V29ya2VyLmlkQmFja0ZpbGVMaXN0LnB1c2goewogICAgICAgICAgICAgICAgICB1cmw6IHJlcy5kYXRhLmlkZW50aXR5QmFja0ltYWdlCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgIGxvYWRpbmcuY2xvc2UoKTsgLy8g5by556qX5pi+56S6CgogICAgICAgICAgICAgICAgX3RoaXMyOS5kaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI2LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI2LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyNik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGhhbmRsZUVkaXQ6IGZ1bmN0aW9uIGhhbmRsZUVkaXQoZm4pIHsKICAgICAgdmFyIF90aGlzMzAgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTI3KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjckKF9jb250ZXh0MjcpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyNy5wcmV2ID0gX2NvbnRleHQyNy5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQyNy50MCA9IF90aGlzMzA7CiAgICAgICAgICAgICAgICBfY29udGV4dDI3LnQxID0gZm47CiAgICAgICAgICAgICAgICBfY29udGV4dDI3LnQyID0gX3RoaXMzMC5lZGl0Rm9ybS5zZXJ2aWNlQXJlYXMuam9pbigiLCIpOwogICAgICAgICAgICAgICAgX2NvbnRleHQyNy50MyA9IF90aGlzMzAuZWRpdEZvcm0uc2VydmljZVR5cGVzLmpvaW4oIiwiKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MjcubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzMC4kcmVmcy5yZWFsUG9ydHJhaXQudXBsb2FkRmlsZSgpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBfY29udGV4dDI3LnQ0ID0gX2NvbnRleHQyNy5zZW50LmpvaW4oIiwiKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MjcubmV4dCA9IDk7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzMC4kcmVmcy5pbmR1c3RyeUV4cGVyaWVuY2VJbWFnZXMudXBsb2FkRmlsZSgpOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICBfY29udGV4dDI3LnQ1ID0gX2NvbnRleHQyNy5zZW50LmpvaW4oIiwiKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MjcubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMzAuJHJlZnMuc2tpbGxDZXJ0aWZpY2F0ZUltYWdlcy51cGxvYWRGaWxlKCk7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICBfY29udGV4dDI3LnQ2ID0gX2NvbnRleHQyNy5zZW50LmpvaW4oIiwiKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MjcubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMzAuJHJlZnMuaWRlbnRpdHlGcm9udEltYWdlLnVwbG9hZEZpbGUoKTsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIF9jb250ZXh0MjcudDcgPSBfY29udGV4dDI3LnNlbnQuam9pbigiLCIpOwogICAgICAgICAgICAgICAgX2NvbnRleHQyNy5uZXh0ID0gMTg7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzMC4kcmVmcy5pZGVudGl0eUJhY2tJbWFnZS51cGxvYWRGaWxlKCk7CgogICAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgICBfY29udGV4dDI3LnQ4ID0gX2NvbnRleHQyNy5zZW50LmpvaW4oIiwiKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MjcudDkgPSB7CiAgICAgICAgICAgICAgICAgIHNlcnZpY2VBcmVhczogX2NvbnRleHQyNy50MiwKICAgICAgICAgICAgICAgICAgc2VydmljZVR5cGVzOiBfY29udGV4dDI3LnQzLAogICAgICAgICAgICAgICAgICByZWFsUG9ydHJhaXQ6IF9jb250ZXh0MjcudDQsCiAgICAgICAgICAgICAgICAgIGluZHVzdHJ5RXhwZXJpZW5jZUltYWdlczogX2NvbnRleHQyNy50NSwKICAgICAgICAgICAgICAgICAgc2tpbGxDZXJ0aWZpY2F0ZUltYWdlczogX2NvbnRleHQyNy50NiwKICAgICAgICAgICAgICAgICAgaWRlbnRpdHlGcm9udEltYWdlOiBfY29udGV4dDI3LnQ3LAogICAgICAgICAgICAgICAgICBpZGVudGl0eUJhY2tJbWFnZTogX2NvbnRleHQyNy50OAogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICBfY29udGV4dDI3LnQwLmVkaXQuY2FsbChfY29udGV4dDI3LnQwLCBfY29udGV4dDI3LnQxLCBfY29udGV4dDI3LnQ5KTsKCiAgICAgICAgICAgICAgY2FzZSAyMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mjcuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTI3KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgcmVzZXRFZGl0Rm9ybTogZnVuY3Rpb24gcmVzZXRFZGl0Rm9ybShmbikgewogICAgICB0aGlzLm1hc3RlclRlYW1MaXN0ID0gbnVsbDsKICAgICAgZm4oZmFsc2UpOwogICAgICB0aGlzLnF1ZXJ5KCk7CiAgICB9CiAgfQp9Ow=="},null]}