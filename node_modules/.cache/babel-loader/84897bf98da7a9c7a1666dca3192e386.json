{"remainingRequest":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\thread-loader\\dist\\cjs.js!D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\babel-loader\\lib\\index.js!D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\机将公司\\机将后台端\\background-management-system\\src\\views\\maintenance\\worker\\worker.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\机将公司\\机将后台端\\background-management-system\\src\\views\\maintenance\\worker\\worker.vue","mtime":1697421236680},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovXHU2NzNBXHU1QzA2XHU1MTZDXHU1M0Y4L1x1NjczQVx1NUMwNlx1NTQwRVx1NTNGMFx1N0FFRi9iYWNrZ3JvdW5kLW1hbmFnZW1lbnQtc3lzdGVtL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L1x1NjczQVx1NUMwNlx1NTE2Q1x1NTNGOC9cdTY3M0FcdTVDMDZcdTU0MEVcdTUzRjBcdTdBRUYvYmFja2dyb3VuZC1tYW5hZ2VtZW50LXN5c3RlbS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4uanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IFVwbG9hZEltZywgYWRkcmVzc0ZuIH0gZnJvbSAiQC9hcGkvc3lzdGVtIjsKaW1wb3J0IEVkaXRXb3JrZXIgZnJvbSAiLi9jb21wb25lbnRzL2VkaXRXb3JrZXIudnVlIjsKaW1wb3J0IHRhYmxlTWl4aW4gZnJvbSAiQC9taXhpbi90YWJsZSI7CmltcG9ydCB7IGdldE1hc3Rlckxpc3QgfSBmcm9tICJAL2FwaS91c2VyLmpzIjsKaW1wb3J0IHsgaGFuZGxlTWFzdGVySW5mb0V4cG9ydCwgcXVlcnlNYXN0ZXJNZW1iZXJMaXN0LCBnZXRNYXN0ZXJJbmZvLCBxdWVyeU1hc3Rlck5hbWUsIHF1ZXJ5RGV2aWNlVHlwZUxpc3QsIHF1ZXJ5RGV2aWNlU3lzdGVtTGlzdCwgcXVlcnlEZXZpY2VQb3NpdGlvbkxpc3QsIGVkaXRNYXN0ZXJJbmZvLCBoYW5kbGVNYXN0ZXJJZGVudGl0eSwgaGFuZGxlTWFzdGVySW50ZWdyYWwsIHF1ZXJ5TWFzdGVySW50ZWdyYWxMaXN0IH0gZnJvbSAiQC9hcGkvb3JkZXIuanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgdGl0bGU6ICJjb3Vyc2UiLAogIG1peGluczogW3RhYmxlTWl4aW5dLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzY29yZUxpc3RUb3RhbDogIiIsCiAgICAgIHNjb3JlTGlzdDogW10sCiAgICAgIG1hc3RlckludGVncmFsTGlzdDogW3sKICAgICAgICB0eXBlOiA0LAogICAgICAgIHRleHQ6ICLkuLvliqjmj5DkuqTnu7Tkv67ljZUiLAogICAgICAgIHZhbHVlOiAzMAogICAgICB9LCB7CiAgICAgICAgdHlwZTogNSwKICAgICAgICB0ZXh0OiAi5LuL57uN5a6i5oi3562+57qm5py65bqK566h5a62IiwKICAgICAgICB2YWx1ZTogMzAKICAgICAgfSwgewogICAgICAgIHR5cGU6IDYsCiAgICAgICAgdGV4dDogIuaLkuWNlSIsCiAgICAgICAgdmFsdWU6IC0xCiAgICAgIH0sIHsKICAgICAgICB0eXBlOiA3LAogICAgICAgIHRleHQ6ICLlkIzkuIDmlYXpmpzov5Tkv64iLAogICAgICAgIHZhbHVlOiAtMgogICAgICB9LCB7CiAgICAgICAgdHlwZTogOCwKICAgICAgICB0ZXh0OiAi6aqM5py6IiwKICAgICAgICB2YWx1ZTogMAogICAgICB9LCB7CiAgICAgICAgdHlwZTogOSwKICAgICAgICB0ZXh0OiAi5L+d5YW7IiwKICAgICAgICB2YWx1ZTogMAogICAgICB9XSwKICAgICAgaW50ZWdyYWxGcm9tOiB7CiAgICAgICAgdWlkOiAiIiwKICAgICAgICByZWxhdGlvbk9yZGVyU246ICIiLAogICAgICAgIHR5cGU6ICIiLAogICAgICAgIHJlbWFya3M6ICIiLAogICAgICAgIHZhbHVlOiAiIgogICAgICB9LAogICAgICBzY29yZV9kaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgc2NvcmVGb3JtOiB7CiAgICAgICAgdWlkOiAiIiwKICAgICAgICBwYWdlTm86IDEsCiAgICAgICAgcGFnZVNpemU6IDUKICAgICAgfSwKICAgICAgaW50ZWdyYWxfZGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIGNob29zZVJvc2VGb3JtOiB7CiAgICAgICAgbWFzdGVyUm9sZUlkOiAzLAogICAgICAgIHN1cGVyaW9yTWFzdGVyVWlkOiAiIiwKICAgICAgICB1aWQ6ICIiCiAgICAgIH0sCiAgICAgIGNob29zZVJvc2VEaWFsb2dTaG93OiBmYWxzZSwKICAgICAgcmVnaW9uTWFuYWdlckxpc3Q6IG51bGwsCiAgICAgIGFkZFNpZ25pbmdNYXN0ZXJSdWxlczogewogICAgICAgIHBob25lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6K+35aGr5YaZ5omL5py65Y+356CBIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIG1hc3RlclJvbGVJZDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+mAieaLqeexu+WeiyIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICByZWFsTmFtZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpeecn+WunuWnk+WQjSIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICBhZGRyZXNzOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6K+36L6T5YWl6K+m57uG5Zyw5Z2AIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIGlkZW50aXR5TnVtYmVyOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6K+36L6T5YWl6Lqr5Lu96K+B5Y+356CBIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIGluZHVzdHJ5RXhwZXJpZW5jZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpeihjOS4mue7j+mqjCIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICByZWFsUG9ydHJhaXQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fkuIrkvKDnnJ/lrp7lpLTlg48iLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0sCiAgICAgICAgaWRlbnRpdHlCYWNrSW1hZ2U6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fkuIrkvKDouqvku73or4Hlj43pnaLnhaciLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0sCiAgICAgICAgaWRlbnRpdHlGcm9udEltYWdlOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6K+35LiK5Lyg6Lqr5Lu96K+B5q2j6Z2i54WnIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIHNlcnZpY2VUeXBlczogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+mAieaLqeiuvuWkh+exu+WeiyIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICBzZXJ2ZVN5c3RlbTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpeiuvuWkh+ezu+e7nyIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICBzZXJ2ZVBvc2l0aW9uOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6K+36L6T5YWl5pyN5Yqh6YOo5L2NIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIHN1cGVyaW9yTWFzdGVyVWlkOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6K+36YCJ5oup5Yy65Z+f57uP55CGIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIHNraWxsQ2VydGlmaWNhdGVJbWFnZXNVaWQ6IFtdLAogICAgICBpbmR1c3RyeUV4cGVyaWVuY2VJbWFnZXNVaWQ6IFtdLAogICAgICBwcm92aW5jZUxpc3Q6IG51bGwsCiAgICAgIC8v55yB5YiX6KGoCiAgICAgIHByb3ZpbmNlVmFsdWU6IG51bGwsCiAgICAgIC8v6YCJ5Lit55yBCiAgICAgIGNpdHlMaXN0OiBudWxsLAogICAgICAvL+W4guWIl+ihqAogICAgICBjaXR5VmFsdWU6IG51bGwsCiAgICAgIC8v6YCJ5Lit5biCCiAgICAgIGRpc3RyaWN0TGlzdDogbnVsbCwKICAgICAgLy/ljLrliJfooagKICAgICAgZGlzdHJpY3RWYWx1ZTogbnVsbCwKICAgICAgLy/pgInkuK3ljLoKICAgICAgZGV2aWNlUG9zaXRpb25MaXN0OiBudWxsLAogICAgICAvL+acjeWKoemDqOS9jeWIl+ihqAogICAgICBzZXJ2aWNlQXJlYTogbnVsbCwKICAgICAgLy/mnI3liqHpg6jkvY3nmoTlgLwKICAgICAgZXF1aXBtZW50U3lzdGVtT25lOiBudWxsLAogICAgICAvL+iuvuWkh+ezu+e7n+eahOWAvAogICAgICBlcXVpcG1lbnRTeXN0ZW1Ud286IG51bGwsCiAgICAgIC8v6K6+5aSH57O757uf55qE5YC8CiAgICAgIGVxdWlwbWVudFN5c3RlbUxpc3Q6IFtdLAogICAgICAvL+iuvuWkh+ezu+e7n+esrOS4gOWxggogICAgICBlcXVpcG1lbnRTeXN0ZW1Ud29MaXN0OiBudWxsLAogICAgICAvL+iuvuWkh+ezu+e7n+esrOS6jOWxggogICAgICBlcXVpcG1lbnRTeXN0ZW1MaXN0MTogW10sCiAgICAgIC8v6L+b5Y+j57O757uf56ys5LqM5bGCCiAgICAgIGVxdWlwbWVudFN5c3RlbUxpc3QyOiBbXSwKICAgICAgLy/lm73kuqfns7vnu5/nrKzkuozlsYIKICAgICAgZXF1aXBtZW50VHlwZU9uZTogbnVsbCwKICAgICAgLy/orr7lpIfnsbvlnovnmoTlgLwKICAgICAgZXF1aXBtZW50VHlwZVR3bzogbnVsbCwKICAgICAgLy/orr7lpIfnsbvlnovnmoTlgLwKICAgICAgZXF1aXBtZW50VHlwZUxpc3Q6IFtdLAogICAgICAvL+iuvuWkh+exu+Wei+esrOS4gOWxggogICAgICBlcXVpcG1lbnRUeXBlVHdvTGlzdDogbnVsbCwKICAgICAgLy/orr7lpIfnsbvlnovnrKzkuozlsYIKICAgICAgZXF1aXBtZW50VHlwZUxpc3QxOiBbXSwKICAgICAgLy/mlbDmjqfovabluornrKzkuozlsYIKICAgICAgZXF1aXBtZW50VHlwZUxpc3QyOiBbXSwKICAgICAgLy/liqDlt6XkuK3lv4PnrKzkuozlsYIKICAgICAgZXF1aXBtZW50VHlwZUxpc3QzOiBbXSwKICAgICAgLy/otbDlv4PmnLrnrKzkuInlsYIKICAgICAgdXBsb2FkSWRlbnRpdHlGcm9udEltYWdlSW1nOiBudWxsLAogICAgICAvL+i6q+S7veivgeato+mdogogICAgICB1cGxvYWRJZGVudGl0eUJhY2tJbWFnZUltZzogbnVsbCwKICAgICAgLy/ouqvku73or4Hlj43pnaIKICAgICAgdXBsb2FkUmVhbFBvcnRyYWl0SW1nOiBudWxsLAogICAgICAvL+ecn+WunuWktOWDjwogICAgICBhZGRTaWduaW5nTWFzdGVyRm9ybTogewogICAgICAgIG1hc3RlclJvbGVJZDogMywKICAgICAgICByZWFsTmFtZTogbnVsbCwKICAgICAgICBhZGRyZXNzOiBudWxsLAogICAgICAgIGlkZW50aXR5TnVtYmVyOiBudWxsLAogICAgICAgIGluZHVzdHJ5RXhwZXJpZW5jZTogbnVsbCwKICAgICAgICByZWFsUG9ydHJhaXQ6IG51bGwsCiAgICAgICAgaWRlbnRpdHlCYWNrSW1hZ2U6IG51bGwsCiAgICAgICAgaWRlbnRpdHlGcm9udEltYWdlOiBudWxsLAogICAgICAgIHNlcnZpY2VUeXBlczogbnVsbCwKICAgICAgICBzZXJ2ZVN5c3RlbTogbnVsbCwKICAgICAgICBzZXJ2ZVBvc2l0aW9uOiBudWxsLAogICAgICAgIHNlcnZpY2VBcmVhczogbnVsbCwKICAgICAgICBpbmR1c3RyeUV4cGVyaWVuY2VJbWFnZXM6IFtdLAogICAgICAgIHNraWxsQ2VydGlmaWNhdGVJbWFnZXM6IFtdLAogICAgICAgIHBob25lOiBudWxsLAogICAgICAgIG51bWJlcjogbnVsbCwKICAgICAgICBzdXBlcmlvck1hc3RlclVpZDogbnVsbAogICAgICB9LAogICAgICBhZGRTaWduaW5nTWFzdGVyRGlhbG9nU2hvdzogZmFsc2UsCiAgICAgIC8v5paw5aKe562+57qm5biI5YKF5by55qGGCiAgICAgIHBhcmFtczogbnVsbCwKICAgICAgY29sb25lbE5hbWU6IG51bGwsCiAgICAgIGRpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICByZWZlcnJlck5hbWU6IG51bGwsCiAgICAgIC8v5o6o6I2Q5Lq65ZCN5a2XCiAgICAgIHJlZmVycmVyT3B0aW9uczogW10sCiAgICAgIG1hc3RlclRlYW1MaXN0OiBbXSwKICAgICAgcGFnZUNvdW50OiAwLAogICAgICBjdXJyZW50UGFnZTogMSwKICAgICAgbWFzdGVyTGlzdDogW10sCiAgICAgIE5hbWU6ICIiLAogICAgICBQaG9uZTogIiIsCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBxdWVyeU1ldGhvZDogImdldCIsCiAgICAgIHR5cGVEYXRhOiBbXSwKICAgICAgc3lzdGVtRGF0YTogW10sCiAgICAgIGNvdXJzZUxpc3Q6IFtdLAogICAgICBjb3Vyc2VEaXN0cmlMaXN0OiBbXSwKICAgICAgdXJsOiB7CiAgICAgICAgcXVlcnk6ICIvYWRtaW4vbWFpbnRlbmFuY2UvcXVlcnlNYXN0ZXJMaXN0IiwKICAgICAgICBxdWVyeVR5cGU6ICIvYWRtaW4vbWFpbnRlbmFuY2UvcXVlcnlEZXZpY2VUeXBlTGlzdCIsCiAgICAgICAgcXVlcnlBZGRyZXNzOiAiL2FkbWluL2Jhc2UvYWRkcmVzcyIsCiAgICAgICAgZWRpdDogIi9hZG1pbi9tYWludGVuYW5jZS9lZGl0TWFzdGVySW5mbyIsCiAgICAgICAgbG9jazogIi9hZG1pbi9tYWludGVuYW5jZS9oYW5kbGVNYXN0ZXJMb2NrIiwKICAgICAgICB1cGRhdGVTdGF0dXM6ICIvYWRtaW4vbWFpbnRlbmFuY2UvaGFuZGxlTWFzdGVyRXhhbWluZSIKICAgICAgfSwKICAgICAgcnVsZXM6IHsKICAgICAgICB3b3JrZXI6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fovpPlhaXmjqXljZXkuroiLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0sCiAgICAgICAgd29ya2VyUGhvbmU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fovpPlhaXmjqXljZXkurrmiYvmnLoiLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0KICAgICAgfSwKICAgICAgZmluaXNoRm9ybTogewogICAgICAgIHBheUFtb3VudDogMAogICAgICB9CiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgRWRpdFdvcmtlcjogRWRpdFdvcmtlcgogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBfdGhpcy5nZXRRdWVyeURldmljZVR5cGVMaXN0KCk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmdldFF1ZXJ5RGV2aWNlU3lzdGVtTGlzdCgpOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgIHJldHVybiBfdGhpcy5nZXRRdWVyeURldmljZVBvc2l0aW9uTGlzdCgpOwoKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA4OwogICAgICAgICAgICAgIHJldHVybiBfdGhpcy5nZXRBZGRyZXNzRm4oKTsKCiAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmdldE1hc3RlclJvbGVMaXN0KCk7CgogICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIF90aGlzLl9nZXRNYXN0ZXJMaXN0KCk7CgogICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgbWV0aG9kczogewogICAgLy8g5pS55Y+Y5YiG5YC85YiX6KGo6aG16Z2i6Kem5Y+RCiAgICBzY29yZUN1cnJlbnRDaGFuZ2U6IGZ1bmN0aW9uIHNjb3JlQ3VycmVudENoYW5nZShwYWdlKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMyLnNjb3JlRm9ybS5wYWdlTm8gPSBwYWdlOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIHF1ZXJ5TWFzdGVySW50ZWdyYWxMaXN0KF90aGlzMi5zY29yZUZvcm0pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzMi5zY29yZUxpc3QgPSByZXMuZGF0YS5yZWNvcmRzOwogICAgICAgICAgICAgICAgX3RoaXMyLnNjb3JlTGlzdFRvdGFsID0gcmVzLmRhdGEudG90YWw7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOehruWumuW4iOWCheenr+WIhumAieaLqQogICAgYWRkSW50ZWdyYWxDb25maXJtOiBmdW5jdGlvbiBhZGRJbnRlZ3JhbENvbmZpcm0oKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIHZhbHVlLCByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghKF90aGlzMy5pbnRlZ3JhbEZyb20udHlwZSA8IDgpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMzLmludGVncmFsRnJvbS5yZWxhdGlvbk9yZGVyU24gPT09ICIiIHx8IF90aGlzMy5pbnRlZ3JhbEZyb20udHlwZSA9PT0gIiIpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXMzLiRtZXNzYWdlKCLorqLljZXnvJblj7flkoznp6/liIbnsbvlnovpg73mmK/lv4XloavnmoQuLi4uLi4iKTsKCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIHZhbHVlID0gX3RoaXMzLm1hc3RlckludGVncmFsTGlzdFtfdGhpczMuaW50ZWdyYWxGcm9tLnR5cGUgLSA0XS52YWx1ZTsKICAgICAgICAgICAgICAgIF90aGlzMy5pbnRlZ3JhbEZyb20udmFsdWUgPSB2YWx1ZTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgY29uc29sZS5sb2coMTM3MSwgX3RoaXMzLmludGVncmFsRnJvbSk7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDk7CiAgICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlTWFzdGVySW50ZWdyYWwoX3RoaXMzLmludGVncmFsRnJvbSk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0My5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXMubWVzc2FnZSA9PT0gIuaTjeS9nOaIkOWKnyIpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAi5pON5L2c5oiQ5YqfIiwKICAgICAgICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIKICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICBfdGhpczMuaW50ZWdyYWxfaGFuZGxlQ2xvc2UoKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMy5fZ2V0TWFzdGVyTGlzdCgpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g5omT5byA5YiG5YC85qGGCiAgICBvcGVuX3Njb3JlX2RpYWxvZzogZnVuY3Rpb24gb3Blbl9zY29yZV9kaWFsb2codWlkKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgdmFyIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXM0LnNjb3JlRm9ybS51aWQgPSB1aWQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gcXVlcnlNYXN0ZXJJbnRlZ3JhbExpc3QoX3RoaXM0LnNjb3JlRm9ybSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0NC5zZW50OwogICAgICAgICAgICAgICAgX3RoaXM0LnNjb3JlTGlzdCA9IHJlcy5kYXRhLnJlY29yZHM7CiAgICAgICAgICAgICAgICBfdGhpczQuc2NvcmVMaXN0VG90YWwgPSByZXMuZGF0YS50b3RhbDsKICAgICAgICAgICAgICAgIF90aGlzNC5zY29yZV9kaWFsb2dWaXNpYmxlID0gdHJ1ZTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g5YWz6Zet5YiG5YC85qGGCiAgICBzY29yZV9oYW5kbGVDbG9zZTogZnVuY3Rpb24gc2NvcmVfaGFuZGxlQ2xvc2UoKSB7CiAgICAgIHRoaXMuc2NvcmVGb3JtID0gewogICAgICAgIHVpZDogIiIsCiAgICAgICAgcGFnZU5vOiAxLAogICAgICAgIHBhZ2VTaXplOiA1CiAgICAgIH0sIHRoaXMuc2NvcmVfZGlhbG9nVmlzaWJsZSA9IGZhbHNlOwogICAgfSwKICAgIC8vIOWFs+mXreenr+WIhuahhgogICAgaW50ZWdyYWxfaGFuZGxlQ2xvc2U6IGZ1bmN0aW9uIGludGVncmFsX2hhbmRsZUNsb3NlKCkgewogICAgICB0aGlzLmludGVncmFsRnJvbSA9IHsKICAgICAgICB1aWQ6ICIiLAogICAgICAgIHJlbGF0aW9uT3JkZXJTbjogIiIsCiAgICAgICAgdHlwZTogIiIKICAgICAgfTsKICAgICAgdGhpcy5pbnRlZ3JhbF9kaWFsb2dWaXNpYmxlID0gZmFsc2U7CiAgICB9LAogICAgLy8g5omT5byA56ev5YiG5qGGCiAgICBvcGVuX2ludGVncmFsX2RpYWxvZzogZnVuY3Rpb24gb3Blbl9pbnRlZ3JhbF9kaWFsb2codWlkKSB7CiAgICAgIHRoaXMuaW50ZWdyYWxGcm9tLnVpZCA9IHVpZDsKICAgICAgdGhpcy5pbnRlZ3JhbF9kaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgIH0sCiAgICAvLyDnoa7lrprorr7nva7luIjlgoXop5LoibIKICAgIGNvbmZpcm1DaG9vc2VSb3NlOiBmdW5jdGlvbiBjb25maXJtQ2hvb3NlUm9zZSgpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNSgpIHsKICAgICAgICB2YXIgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIShfdGhpczUuY2hvb3NlUm9zZUZvcm0ubWFzdGVyUm9sZUlkID09PSAzICYmICFfdGhpczUuY2hvb3NlUm9zZUZvcm0uc3VwZXJpb3JNYXN0ZXJVaWQpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLy8g5o+Q56S65Yy65Z+f57uP55CG5b+F5aGrCiAgICAgICAgICAgICAgICBfdGhpczUuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgICBtZXNzYWdlOiAi5Yy65Z+f57uP55CG5LiN6IO95Li656m6IiwKICAgICAgICAgICAgICAgICAgdHlwZTogIndhcm5pbmciCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIHJldHVybiBoYW5kbGVNYXN0ZXJJZGVudGl0eShfdGhpczUuY2hvb3NlUm9zZUZvcm0pOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDUuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzLmNvZGUgPT09ICIwMDAiKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNS4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogIuiuvue9ruaIkOWKnyIsCiAgICAgICAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiCiAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgX3RoaXM1LmNsb3NlQ2hvb3NlUm9zZURpYWxvZygpOwoKICAgICAgICAgICAgICAgICAgX3RoaXM1Ll9nZXRNYXN0ZXJMaXN0KCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOeCueWHu+WMuuWfn+e7j+eQhgogICAgY2hvb3NlTWFzdGVyUXVZdTogZnVuY3Rpb24gY2hvb3NlTWFzdGVyUXVZdSgpIHsKICAgICAgdGhpcy5jaG9vc2VSb3NlRm9ybS5zdXBlcmlvck1hc3RlclVpZCA9IG51bGw7CiAgICB9LAogICAgLy8g5YWz6Zet6K6+572u5biI5YKF6KeS6Imy5qGGCiAgICBjbG9zZUNob29zZVJvc2VEaWFsb2c6IGZ1bmN0aW9uIGNsb3NlQ2hvb3NlUm9zZURpYWxvZygpIHsKICAgICAgdGhpcy5jaG9vc2VSb3NlRm9ybSA9IHsKICAgICAgICBtYXN0ZXJSb2xlSWQ6IDMsCiAgICAgICAgc3VwZXJpb3JNYXN0ZXJVaWQ6ICIiLAogICAgICAgIHVpZDogIiIKICAgICAgfTsKICAgICAgdGhpcy5jaG9vc2VSb3NlRGlhbG9nU2hvdyA9IGZhbHNlOwogICAgfSwKICAgIC8vIOaJk+W8gOiuvue9ruW4iOWCheinkuiJsuahhgogICAgb3BlbkNob29zZVJvc2VEaWFsb2c6IGZ1bmN0aW9uIG9wZW5DaG9vc2VSb3NlRGlhbG9nKHVpZCkgewogICAgICB0aGlzLmNob29zZVJvc2VGb3JtLnVpZCA9IHVpZDsKICAgICAgdGhpcy5jaG9vc2VSb3NlRGlhbG9nU2hvdyA9IHRydWU7CiAgICB9LAogICAgLy8g5Yy65Z+f57uP55CG55qE5YC85Y+Y5YyWCiAgICBjaGFuZ2VTdXBlcmlvck1hc3RlclVpZDogZnVuY3Rpb24gY2hhbmdlU3VwZXJpb3JNYXN0ZXJVaWQoKSB7CiAgICAgIHRoaXMuJHJlZnMuYWRkU2lnbmluZ01hc3RlckZvcm0udmFsaWRhdGVGaWVsZCgic3VwZXJpb3JNYXN0ZXJVaWQiKTsKICAgIH0sCiAgICAvLyDmn6Xor6LljLrln5/nu4/nkIbliJfooagKICAgIGdldE1hc3RlclJvbGVMaXN0OiBmdW5jdGlvbiBnZXRNYXN0ZXJSb2xlTGlzdCgpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNigpIHsKICAgICAgICB2YXIgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNiQoX2NvbnRleHQ2KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ni5wcmV2ID0gX2NvbnRleHQ2Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0TWFzdGVyTGlzdCh7CiAgICAgICAgICAgICAgICAgIHR5cGU6IDIsCiAgICAgICAgICAgICAgICAgIG1hc3RlclJvbGVJZDogMSwKICAgICAgICAgICAgICAgICAgcGFnZVNpemU6IDEwMDAKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDYuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzNi5yZWdpb25NYW5hZ2VyTGlzdCA9IHJlcy5kYXRhLnJlY29yZHM7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOeCueWHu+WMuuWfn+e7j+eQhuinpuWPkQogICAgY2hhbmdlTWFzdGVyUm9sZUlkMTogZnVuY3Rpb24gY2hhbmdlTWFzdGVyUm9sZUlkMSgpIHsKICAgICAgdGhpcy5hZGRTaWduaW5nTWFzdGVyUnVsZXMuc2VydmljZUFyZWFzID0gW3sKICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICBtZXNzYWdlOiAi6K+36L6T5YWl5pyN5Yqh5Yy65Z+fIiwKICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgfV07CiAgICAgIGRlbGV0ZSB0aGlzLmFkZFNpZ25pbmdNYXN0ZXJSdWxlcy5zdXBlcmlvck1hc3RlclVpZDsKICAgIH0sCiAgICAvLyDngrnlh7vnrb7nuqbluIjlgoXop6blj5EKICAgIGNoYW5nZU1hc3RlclJvbGVJZDI6IGZ1bmN0aW9uIGNoYW5nZU1hc3RlclJvbGVJZDIoKSB7CiAgICAgIGRlbGV0ZSB0aGlzLmFkZFNpZ25pbmdNYXN0ZXJSdWxlcy5zZXJ2aWNlQXJlYXM7CiAgICAgIHRoaXMuYWRkU2lnbmluZ01hc3RlclJ1bGVzLnN1cGVyaW9yTWFzdGVyVWlkID0gW3sKICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICBtZXNzYWdlOiAi6K+36L6T5YWl5pyN5Yqh5Yy65Z+fIiwKICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgfV07CiAgICB9LAogICAgLy8g5pyN5Yqh5Yy65Z+f55qE5YC85Y+Y5YyW6Kem5Y+RCiAgICBjaGFuZ2VEaXN0cmljdFZhbHVlOiBmdW5jdGlvbiBjaGFuZ2VEaXN0cmljdFZhbHVlKCkgewogICAgICB0aGlzLmFkZFNpZ25pbmdNYXN0ZXJGb3JtLnNlcnZpY2VBcmVhcyA9IHRoaXMuZGlzdHJpY3RWYWx1ZS50b1N0cmluZygpOwogICAgICB0aGlzLiRyZWZzLmFkZFNpZ25pbmdNYXN0ZXJGb3JtLnZhbGlkYXRlRmllbGQoInNlcnZpY2VBcmVhcyIpOwogICAgfSwKICAgIC8vIOiuvuWkh+exu+Wei+eahOWAvOWPmOWMluinpuWPkQogICAgY2hhbmdlRXF1aXBtZW50VHlwZVR3bzogZnVuY3Rpb24gY2hhbmdlRXF1aXBtZW50VHlwZVR3bygpIHsKICAgICAgdGhpcy5hZGRTaWduaW5nTWFzdGVyRm9ybS5zZXJ2aWNlVHlwZXMgPSB0aGlzLmVxdWlwbWVudFR5cGVUd28udG9TdHJpbmcoKTsKICAgICAgdGhpcy4kcmVmcy5hZGRTaWduaW5nTWFzdGVyRm9ybS52YWxpZGF0ZUZpZWxkKCJzZXJ2aWNlVHlwZXMiKTsKICAgIH0sCiAgICAvLyDorr7lpIfns7vnu5/nmoTlgLzlj5jljJbop6blj5EKICAgIGNoYW5nZUVxdWlwbWVudFN5c3RlbVR3bzogZnVuY3Rpb24gY2hhbmdlRXF1aXBtZW50U3lzdGVtVHdvKCkgewogICAgICB0aGlzLmFkZFNpZ25pbmdNYXN0ZXJGb3JtLnNlcnZlU3lzdGVtID0gdGhpcy5lcXVpcG1lbnRTeXN0ZW1Ud28udG9TdHJpbmcoKTsKICAgICAgdGhpcy4kcmVmcy5hZGRTaWduaW5nTWFzdGVyRm9ybS52YWxpZGF0ZUZpZWxkKCJzZXJ2ZVN5c3RlbSIpOwogICAgfSwKICAgIC8vIOacjeWKoemDqOS9jeeahOWAvOWPmOWMluinpuWPkQogICAgY2hhbmdlU2VydmljZUFyZWE6IGZ1bmN0aW9uIGNoYW5nZVNlcnZpY2VBcmVhKCkgewogICAgICB0aGlzLmFkZFNpZ25pbmdNYXN0ZXJGb3JtLnNlcnZlUG9zaXRpb24gPSB0aGlzLnNlcnZpY2VBcmVhLnRvU3RyaW5nKCk7CiAgICAgIHRoaXMuJHJlZnMuYWRkU2lnbmluZ01hc3RlckZvcm0udmFsaWRhdGVGaWVsZCgic2VydmVQb3NpdGlvbiIpOwogICAgfSwKICAgIC8vIOehruWumuetvue6puW4iOWChQogICAgY29uZmlybUFkZFNpZ25pbmdNYXN0ZXI6IGZ1bmN0aW9uIGNvbmZpcm1BZGRTaWduaW5nTWFzdGVyKCkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3KCkgewogICAgICAgIHZhciByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3JChfY29udGV4dDcpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3LnByZXYgPSBfY29udGV4dDcubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczcuJHJlZnMuYWRkU2lnbmluZ01hc3RlckZvcm0udmFsaWRhdGUoKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX3RoaXM3LmFkZFNpZ25pbmdNYXN0ZXJGb3JtLnR5cGUgPSAyOwoKICAgICAgICAgICAgICAgIGlmIChfdGhpczcuYWRkU2lnbmluZ01hc3RlckZvcm0uaW5kdXN0cnlFeHBlcmllbmNlSW1hZ2VzKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNy5hZGRTaWduaW5nTWFzdGVyRm9ybS5pbmR1c3RyeUV4cGVyaWVuY2VJbWFnZXMgPSBfdGhpczcuYWRkU2lnbmluZ01hc3RlckZvcm0uaW5kdXN0cnlFeHBlcmllbmNlSW1hZ2VzLnRvU3RyaW5nKCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKF90aGlzNy5hZGRTaWduaW5nTWFzdGVyRm9ybS5za2lsbENlcnRpZmljYXRlSW1hZ2VzKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNy5hZGRTaWduaW5nTWFzdGVyRm9ybS5za2lsbENlcnRpZmljYXRlSW1hZ2VzID0gX3RoaXM3LmFkZFNpZ25pbmdNYXN0ZXJGb3JtLnNraWxsQ2VydGlmaWNhdGVJbWFnZXMudG9TdHJpbmcoKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDc7CiAgICAgICAgICAgICAgICByZXR1cm4gZWRpdE1hc3RlckluZm8oX3RoaXM3LmFkZFNpZ25pbmdNYXN0ZXJGb3JtKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQ3LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlcy5tZXNzYWdlID09PSAi5pON5L2c5oiQ5YqfIikgewogICAgICAgICAgICAgICAgICBfdGhpczcuY2xvc2VBZGRTaWduaW5nTWFzdGVyRGlhbG9nKCk7CgogICAgICAgICAgICAgICAgICBfdGhpczcuX2dldE1hc3Rlckxpc3QoKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU3KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g5Yig6Zmk5oqA6IO96K+B5LmmCiAgICBkZWxTa2lsbENlcnRpZmljYXRlUGljOiBmdW5jdGlvbiBkZWxTa2lsbENlcnRpZmljYXRlUGljKGZpbGUpIHsKICAgICAgdmFyIGluZGV4ID0gdGhpcy5za2lsbENlcnRpZmljYXRlSW1hZ2VzVWlkLmluZGV4T2YoZmlsZS51aWQpOwogICAgICB0aGlzLnNraWxsQ2VydGlmaWNhdGVJbWFnZXNVaWQuc3BsaWNlKGluZGV4LCAxKTsKICAgICAgdGhpcy5hZGRTaWduaW5nTWFzdGVyRm9ybS5za2lsbENlcnRpZmljYXRlSW1hZ2VzLnNwbGljZShpbmRleCwgMSk7CiAgICB9LAogICAgLy8g5LiK5Lyg5oqA6IO96K+B5LmmCiAgICB1cGxvYWRTa2lsbENlcnRpZmljYXRlUGljOiBmdW5jdGlvbiB1cGxvYWRTa2lsbENlcnRpZmljYXRlUGljKGZpbGVEYXRhKSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTgoKSB7CiAgICAgICAgdmFyIGZvcm1EYXRhLCByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4JChfY29udGV4dDgpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ4LnByZXYgPSBfY29udGV4dDgubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoImZpbGUiLCBmaWxlRGF0YS5maWxlKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBVcGxvYWRJbWcoZm9ybURhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDguc2VudDsKCiAgICAgICAgICAgICAgICBfdGhpczguc2tpbGxDZXJ0aWZpY2F0ZUltYWdlc1VpZC5wdXNoKGZpbGVEYXRhLmZpbGUudWlkKTsKCiAgICAgICAgICAgICAgICBfdGhpczguYWRkU2lnbmluZ01hc3RlckZvcm0uc2tpbGxDZXJ0aWZpY2F0ZUltYWdlcy5wdXNoKHJlcy5kYXRhKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU4KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g5Yig6Zmk6KGM5Lia54Wn54mHCiAgICBkZWxJbmR1c3RyeVBpYzogZnVuY3Rpb24gZGVsSW5kdXN0cnlQaWMoZmlsZSkgewogICAgICB2YXIgaW5kZXggPSB0aGlzLmluZHVzdHJ5RXhwZXJpZW5jZUltYWdlc1VpZC5pbmRleE9mKGZpbGUudWlkKTsKICAgICAgdGhpcy5pbmR1c3RyeUV4cGVyaWVuY2VJbWFnZXNVaWQuc3BsaWNlKGluZGV4LCAxKTsKICAgICAgdGhpcy5hZGRTaWduaW5nTWFzdGVyRm9ybS5pbmR1c3RyeUV4cGVyaWVuY2VJbWFnZXMuc3BsaWNlKGluZGV4LCAxKTsKICAgIH0sCiAgICAvLyDkuIrkvKDooYzkuJrnhafniYcKICAgIHVwbG9hZEluZHVzdHJ5UGljOiBmdW5jdGlvbiB1cGxvYWRJbmR1c3RyeVBpYyhmaWxlRGF0YSkgewogICAgICB2YXIgX3RoaXM5ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU5KCkgewogICAgICAgIHZhciBmb3JtRGF0YSwgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOSQoX2NvbnRleHQ5KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OS5wcmV2ID0gX2NvbnRleHQ5Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCJmaWxlIiwgZmlsZURhdGEuZmlsZSk7CiAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gVXBsb2FkSW1nKGZvcm1EYXRhKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQ5LnNlbnQ7CgogICAgICAgICAgICAgICAgX3RoaXM5LmluZHVzdHJ5RXhwZXJpZW5jZUltYWdlc1VpZC5wdXNoKGZpbGVEYXRhLmZpbGUudWlkKTsKCiAgICAgICAgICAgICAgICBfdGhpczkuYWRkU2lnbmluZ01hc3RlckZvcm0uaW5kdXN0cnlFeHBlcmllbmNlSW1hZ2VzLnB1c2gocmVzLmRhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTkpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDluILlj5jljJYKICAgIGNoYW5nZUNpdHlWYWx1ZTogZnVuY3Rpb24gY2hhbmdlQ2l0eVZhbHVlKCkgewogICAgICB2YXIgX3RoaXMxMCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTAoKSB7CiAgICAgICAgdmFyIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEwJChfY29udGV4dDEwKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTAucHJldiA9IF9jb250ZXh0MTAubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gYWRkcmVzc0ZuKF90aGlzMTAuY2l0eVZhbHVlKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQxMC5zZW50OwogICAgICAgICAgICAgICAgX3RoaXMxMC5kaXN0cmljdExpc3QgPSByZXMuZGF0YTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTApOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDnnIHlj5jljJYKICAgIGNoYW5nZVByb3ZpbmNlVmFsdWU6IGZ1bmN0aW9uIGNoYW5nZVByb3ZpbmNlVmFsdWUoKSB7CiAgICAgIHZhciBfdGhpczExID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMSgpIHsKICAgICAgICB2YXIgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTEkKF9jb250ZXh0MTEpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMS5wcmV2ID0gX2NvbnRleHQxMS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBhZGRyZXNzRm4oX3RoaXMxMS5wcm92aW5jZVZhbHVlKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQxMS5zZW50OwogICAgICAgICAgICAgICAgX3RoaXMxMS5jaXR5TGlzdCA9IHJlcy5kYXRhOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOiOt+WPluWcsOWMugogICAgZ2V0QWRkcmVzc0ZuOiBmdW5jdGlvbiBnZXRBZGRyZXNzRm4oKSB7CiAgICAgIHZhciBfdGhpczEyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMigpIHsKICAgICAgICB2YXIgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTIkKF9jb250ZXh0MTIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMi5wcmV2ID0gX2NvbnRleHQxMi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBhZGRyZXNzRm4oKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQxMi5zZW50OwogICAgICAgICAgICAgICAgX3RoaXMxMi5wcm92aW5jZUxpc3QgPSByZXMuZGF0YTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDojrflj5bmnI3liqHlnLDljLoKICAgIGdldFF1ZXJ5RGV2aWNlUG9zaXRpb25MaXN0OiBmdW5jdGlvbiBnZXRRdWVyeURldmljZVBvc2l0aW9uTGlzdCgpIHsKICAgICAgdmFyIF90aGlzMTMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEzKCkgewogICAgICAgIHZhciByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMyQoX2NvbnRleHQxMykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEzLnByZXYgPSBfY29udGV4dDEzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIHF1ZXJ5RGV2aWNlUG9zaXRpb25MaXN0KCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0MTMuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzMTMuZGV2aWNlUG9zaXRpb25MaXN0ID0gcmVzLmRhdGE7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTEzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g5pS55Y+Y56ys5LiA5bGC6K6+5aSH57O757ufCiAgICBjaGFuZ2VFcXVpcG1lbnRTeXN0ZW1PbmU6IGZ1bmN0aW9uIGNoYW5nZUVxdWlwbWVudFN5c3RlbU9uZSgpIHsKICAgICAgaWYgKHRoaXMuZXF1aXBtZW50U3lzdGVtT25lID09PSAxKSB7CiAgICAgICAgdGhpcy5lcXVpcG1lbnRTeXN0ZW1Ud29MaXN0ID0gdGhpcy5lcXVpcG1lbnRTeXN0ZW1MaXN0MTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmVxdWlwbWVudFN5c3RlbVR3b0xpc3QgPSB0aGlzLmVxdWlwbWVudFN5c3RlbUxpc3QyOwogICAgICB9CiAgICB9LAogICAgLy8g6I635Y+W6K6+5aSH57O757ufCiAgICBnZXRRdWVyeURldmljZVN5c3RlbUxpc3Q6IGZ1bmN0aW9uIGdldFF1ZXJ5RGV2aWNlU3lzdGVtTGlzdCgpIHsKICAgICAgdmFyIF90aGlzMTQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE0KCkgewogICAgICAgIHZhciBfeWllbGQkcXVlcnlEZXZpY2VTeXMsIGRhdGE7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTQkKF9jb250ZXh0MTQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNC5wcmV2ID0gX2NvbnRleHQxNC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQxNC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBxdWVyeURldmljZVN5c3RlbUxpc3QoKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX3lpZWxkJHF1ZXJ5RGV2aWNlU3lzID0gX2NvbnRleHQxNC5zZW50OwogICAgICAgICAgICAgICAgZGF0YSA9IF95aWVsZCRxdWVyeURldmljZVN5cy5kYXRhOwogICAgICAgICAgICAgICAgX3RoaXMxNC5lcXVpcG1lbnRTeXN0ZW1MaXN0ID0gZGF0YTsKICAgICAgICAgICAgICAgIF90aGlzMTQuZXF1aXBtZW50U3lzdGVtTGlzdDEgPSBkYXRhWzBdLmxpc3Q7CiAgICAgICAgICAgICAgICBfdGhpczE0LmVxdWlwbWVudFN5c3RlbUxpc3QyID0gZGF0YVsxXS5saXN0OwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxNCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOaUueWPmOesrOS4gOWxguiuvuWkh+exu+WeiwogICAgY2hhbmdlRXF1aXBtZW50VHlwZU9uZTogZnVuY3Rpb24gY2hhbmdlRXF1aXBtZW50VHlwZU9uZSgpIHsKICAgICAgaWYgKHRoaXMuZXF1aXBtZW50VHlwZU9uZSA9PT0gMSkgewogICAgICAgIHRoaXMuZXF1aXBtZW50VHlwZVR3b0xpc3QgPSB0aGlzLmVxdWlwbWVudFR5cGVMaXN0MTsKICAgICAgfSBlbHNlIGlmICh0aGlzLmVxdWlwbWVudFR5cGVPbmUgPT09IDIpIHsKICAgICAgICB0aGlzLmVxdWlwbWVudFR5cGVUd29MaXN0ID0gdGhpcy5lcXVpcG1lbnRUeXBlTGlzdDI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5lcXVpcG1lbnRUeXBlVHdvTGlzdCA9IHRoaXMuZXF1aXBtZW50VHlwZUxpc3QzOwogICAgICB9CiAgICB9LAogICAgLy8g6I635Y+W6K6+5aSH57G75Z6LCiAgICBnZXRRdWVyeURldmljZVR5cGVMaXN0OiBmdW5jdGlvbiBnZXRRdWVyeURldmljZVR5cGVMaXN0KCkgewogICAgICB2YXIgX3RoaXMxNSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTUoKSB7CiAgICAgICAgdmFyIF95aWVsZCRxdWVyeURldmljZVR5cCwgZGF0YTsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNSQoX2NvbnRleHQxNSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE1LnByZXYgPSBfY29udGV4dDE1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDE1Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIHF1ZXJ5RGV2aWNlVHlwZUxpc3QoKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX3lpZWxkJHF1ZXJ5RGV2aWNlVHlwID0gX2NvbnRleHQxNS5zZW50OwogICAgICAgICAgICAgICAgZGF0YSA9IF95aWVsZCRxdWVyeURldmljZVR5cC5kYXRhOwogICAgICAgICAgICAgICAgX3RoaXMxNS5lcXVpcG1lbnRUeXBlTGlzdCA9IGRhdGE7CiAgICAgICAgICAgICAgICBfdGhpczE1LmVxdWlwbWVudFR5cGVMaXN0MSA9IGRhdGFbMF0ubGlzdDsKICAgICAgICAgICAgICAgIF90aGlzMTUuZXF1aXBtZW50VHlwZUxpc3QyID0gZGF0YVsxXS5saXN0OwogICAgICAgICAgICAgICAgX3RoaXMxNS5lcXVpcG1lbnRUeXBlTGlzdDMgPSBkYXRhWzJdLmxpc3Q7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTUuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE1KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g5LiK5Lyg6Lqr5Lu96K+B5q2j6Z2i54WnCiAgICB1cGxvYWRJZGVudGl0eUZyb250SW1hZ2U6IGZ1bmN0aW9uIHVwbG9hZElkZW50aXR5RnJvbnRJbWFnZShmaWxlRGF0YSkgewogICAgICB2YXIgX3RoaXMxNiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTYoKSB7CiAgICAgICAgdmFyIGZvcm1EYXRhLCByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNiQoX2NvbnRleHQxNikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE2LnByZXYgPSBfY29udGV4dDE2Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCJmaWxlIiwgZmlsZURhdGEuZmlsZSk7CiAgICAgICAgICAgICAgICBfY29udGV4dDE2Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIFVwbG9hZEltZyhmb3JtRGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0MTYuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzLm1lc3NhZ2UpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMxNi51cGxvYWRJZGVudGl0eUZyb250SW1hZ2VJbWcgPSByZXMuZGF0YTsKICAgICAgICAgICAgICAgICAgX3RoaXMxNi5hZGRTaWduaW5nTWFzdGVyRm9ybS5pZGVudGl0eUZyb250SW1hZ2UgPSByZXMuZGF0YTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMTYuJHJlZnMuYWRkU2lnbmluZ01hc3RlckZvcm0udmFsaWRhdGVGaWVsZCgiaWRlbnRpdHlGcm9udEltYWdlIik7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTYuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE2KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g5LiK5Lyg6Lqr5Lu96K+B5Y+N6Z2i54WnCiAgICB1cGxvYWRJZGVudGl0eUJhY2tJbWFnZTogZnVuY3Rpb24gdXBsb2FkSWRlbnRpdHlCYWNrSW1hZ2UoZmlsZURhdGEpIHsKICAgICAgdmFyIF90aGlzMTcgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE3KCkgewogICAgICAgIHZhciBmb3JtRGF0YSwgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTckKF9jb250ZXh0MTcpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNy5wcmV2ID0gX2NvbnRleHQxNy5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgiZmlsZSIsIGZpbGVEYXRhLmZpbGUpOwogICAgICAgICAgICAgICAgX2NvbnRleHQxNy5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBVcGxvYWRJbWcoZm9ybURhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDE3LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlcy5tZXNzYWdlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMTcudXBsb2FkSWRlbnRpdHlCYWNrSW1hZ2VJbWcgPSByZXMuZGF0YTsKICAgICAgICAgICAgICAgICAgX3RoaXMxNy5hZGRTaWduaW5nTWFzdGVyRm9ybS5pZGVudGl0eUJhY2tJbWFnZSA9IHJlcy5kYXRhOwoKICAgICAgICAgICAgICAgICAgX3RoaXMxNy4kcmVmcy5hZGRTaWduaW5nTWFzdGVyRm9ybS52YWxpZGF0ZUZpZWxkKCJpZGVudGl0eUJhY2tJbWFnZSIpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE3LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxNyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOS4iuS8oOecn+WunuWktOWDjwogICAgdXBsb2FkUmVhbFBvcnRyYWl0OiBmdW5jdGlvbiB1cGxvYWRSZWFsUG9ydHJhaXQoZmlsZURhdGEpIHsKICAgICAgdmFyIF90aGlzMTggPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE4KCkgewogICAgICAgIHZhciBmb3JtRGF0YSwgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTgkKF9jb250ZXh0MTgpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxOC5wcmV2ID0gX2NvbnRleHQxOC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgiZmlsZSIsIGZpbGVEYXRhLmZpbGUpOwogICAgICAgICAgICAgICAgX2NvbnRleHQxOC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBVcGxvYWRJbWcoZm9ybURhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDE4LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlcy5tZXNzYWdlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMTgudXBsb2FkUmVhbFBvcnRyYWl0SW1nID0gcmVzLmRhdGE7CiAgICAgICAgICAgICAgICAgIF90aGlzMTguYWRkU2lnbmluZ01hc3RlckZvcm0ucmVhbFBvcnRyYWl0ID0gcmVzLmRhdGE7CgogICAgICAgICAgICAgICAgICBfdGhpczE4LiRyZWZzLmFkZFNpZ25pbmdNYXN0ZXJGb3JtLnZhbGlkYXRlRmllbGQoInJlYWxQb3J0cmFpdCIpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE4LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxOCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOWFs+mXreaWsOWinuetvue6puW4iOWCheW8ueeqlwogICAgY2xvc2VBZGRTaWduaW5nTWFzdGVyRGlhbG9nOiBmdW5jdGlvbiBjbG9zZUFkZFNpZ25pbmdNYXN0ZXJEaWFsb2coKSB7CiAgICAgIHZhciBfdGhpczE5ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxOSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE5JChfY29udGV4dDE5KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTkucHJldiA9IF9jb250ZXh0MTkubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzMTkuYWRkU2lnbmluZ01hc3RlckZvcm0gPSB7CiAgICAgICAgICAgICAgICAgIHR5cGU6IDIsCiAgICAgICAgICAgICAgICAgIHJlYWxOYW1lOiBudWxsLAogICAgICAgICAgICAgICAgICBhZGRyZXNzOiBudWxsLAogICAgICAgICAgICAgICAgICBpZGVudGl0eU51bWJlcjogbnVsbCwKICAgICAgICAgICAgICAgICAgaW5kdXN0cnlFeHBlcmllbmNlOiBudWxsLAogICAgICAgICAgICAgICAgICByZWFsUG9ydHJhaXQ6IG51bGwsCiAgICAgICAgICAgICAgICAgIGlkZW50aXR5QmFja0ltYWdlOiBudWxsLAogICAgICAgICAgICAgICAgICBpZGVudGl0eUZyb250SW1hZ2U6IG51bGwsCiAgICAgICAgICAgICAgICAgIHNlcnZpY2VUeXBlczogbnVsbCwKICAgICAgICAgICAgICAgICAgc2VydmVTeXN0ZW06IG51bGwsCiAgICAgICAgICAgICAgICAgIHNlcnZlUG9zaXRpb246IG51bGwsCiAgICAgICAgICAgICAgICAgIHNlcnZpY2VBcmVhczogbnVsbCwKICAgICAgICAgICAgICAgICAgaW5kdXN0cnlFeHBlcmllbmNlSW1hZ2VzOiBbXSwKICAgICAgICAgICAgICAgICAgc2tpbGxDZXJ0aWZpY2F0ZUltYWdlczogW10KICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfdGhpczE5LnVwbG9hZFJlYWxQb3J0cmFpdEltZyA9IG51bGw7CiAgICAgICAgICAgICAgICBfdGhpczE5LnVwbG9hZElkZW50aXR5RnJvbnRJbWFnZUltZyA9IG51bGw7CiAgICAgICAgICAgICAgICBfdGhpczE5LnVwbG9hZElkZW50aXR5QmFja0ltYWdlSW1nID0gbnVsbDsKICAgICAgICAgICAgICAgIF90aGlzMTkuZXF1aXBtZW50U3lzdGVtT25lID0gbnVsbDsKICAgICAgICAgICAgICAgIF90aGlzMTkuZXF1aXBtZW50U3lzdGVtVHdvID0gbnVsbDsKICAgICAgICAgICAgICAgIF90aGlzMTkuZXF1aXBtZW50VHlwZU9uZSA9IG51bGw7CiAgICAgICAgICAgICAgICBfdGhpczE5LmVxdWlwbWVudFR5cGVUd28gPSBudWxsOwogICAgICAgICAgICAgICAgX3RoaXMxOS5zZXJ2aWNlQXJlYSA9IG51bGw7CiAgICAgICAgICAgICAgICBfdGhpczE5LnByb3ZpbmNlVmFsdWUgPSBudWxsOwogICAgICAgICAgICAgICAgX3RoaXMxOS5jaXR5VmFsdWUgPSBudWxsOwogICAgICAgICAgICAgICAgX3RoaXMxOS5kaXN0cmljdFZhbHVlID0gbnVsbDsKCiAgICAgICAgICAgICAgICBfdGhpczE5LiRyZWZzLnVwbG9hZEluZHVzdHJ5UGljUmVmLmNsZWFyRmlsZXMoKTsKCiAgICAgICAgICAgICAgICBfdGhpczE5LiRyZWZzLnVwbG9hZFNraWxsQ2VydGlmaWNhdGVQaWNSZWYuY2xlYXJGaWxlcygpOwoKICAgICAgICAgICAgICAgIF90aGlzMTkuc2tpbGxDZXJ0aWZpY2F0ZUltYWdlc1VpZCA9IFtdOwogICAgICAgICAgICAgICAgX3RoaXMxOS5pbmR1c3RyeUV4cGVyaWVuY2VJbWFnZXNVaWQgPSBbXTsKICAgICAgICAgICAgICAgIF90aGlzMTkuYWRkU2lnbmluZ01hc3RlckRpYWxvZ1Nob3cgPSBmYWxzZTsKCiAgICAgICAgICAgICAgICBfdGhpczE5LiRyZWZzLmFkZFNpZ25pbmdNYXN0ZXJGb3JtLnJlc2V0RmllbGRzKCk7CgogICAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE5LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxOSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOaJk+W8gOaWsOWinuetvue6puW4iOWCheW8ueeqlwogICAgYWRkU2lnbmluZ01hc3RlcjogZnVuY3Rpb24gYWRkU2lnbmluZ01hc3RlcigpIHsKICAgICAgdGhpcy5hZGRTaWduaW5nTWFzdGVyRGlhbG9nU2hvdyA9IHRydWU7CiAgICB9LAogICAgLy8g6YeN572u5oyJ6ZKuCiAgICByZXNldEZuOiBmdW5jdGlvbiByZXNldEZuKCkgewogICAgICB0aGlzLnJlZmVycmVyTmFtZSA9IG51bGw7CiAgICAgIHRoaXMuY29sb25lbE5hbWUgPSBudWxsOwogICAgICB0aGlzLk5hbWUgPSBudWxsOwoKICAgICAgdGhpcy5fZ2V0TWFzdGVyTGlzdCgpOwogICAgfSwKICAgIC8vIOaQnOe0ouaOqOiNkOS6ui/lm6Lplb8KICAgIHJlbW90ZU1ldGhvZDogZnVuY3Rpb24gcmVtb3RlTWV0aG9kKHF1ZXJ5KSB7CiAgICAgIHZhciBfdGhpczIwID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyMCgpIHsKICAgICAgICB2YXIgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjAkKF9jb250ZXh0MjApIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyMC5wcmV2ID0gX2NvbnRleHQyMC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQyMC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBxdWVyeU1hc3Rlck5hbWUocXVlcnkpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDIwLnNlbnQ7CiAgICAgICAgICAgICAgICBfdGhpczIwLnJlZmVycmVyT3B0aW9ucyA9IHJlcy5kYXRhOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIwLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyMCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGhhbmRsZUVudGVycHJpc2VFeGFtaW5lOiBmdW5jdGlvbiBoYW5kbGVFbnRlcnByaXNlRXhhbWluZSgpIHt9LAogICAgLy8g5a+85Ye65biI5YKFCiAgICBfaGFuZGxlTWFzdGVySW5mb0V4cG9ydDogZnVuY3Rpb24gX2hhbmRsZU1hc3RlckluZm9FeHBvcnQoKSB7CiAgICAgIHZhciBfdGhpczIxID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyMSgpIHsKICAgICAgICB2YXIgbG9hZGluZywgZGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIxJChfY29udGV4dDIxKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjEucHJldiA9IF9jb250ZXh0MjEubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGxvYWRpbmcgPSBfdGhpczIxLiRsb2FkaW5nKHsKICAgICAgICAgICAgICAgICAgbG9jazogdHJ1ZSwKICAgICAgICAgICAgICAgICAgdGV4dDogIuaVsOaNruS8oOi+k+S4rSIsCiAgICAgICAgICAgICAgICAgIHNwaW5uZXI6ICJlbC1pY29uLWxvYWRpbmciCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGRhdGEgPSBfdGhpczIxLnBhcmFtczsKICAgICAgICAgICAgICAgIGRhdGEucGFnZVNpemUgPSAxMDAwOwogICAgICAgICAgICAgICAgaGFuZGxlTWFzdGVySW5mb0V4cG9ydChkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgaWYgKHJlcykgewogICAgICAgICAgICAgICAgICAgIHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpOwogICAgICAgICAgICAgICAgICAgIHZhciBibG9iID0gbmV3IEJsb2IoW3Jlcy5kYXRhXSwgewogICAgICAgICAgICAgICAgICAgICAgdHlwZTogImFwcGxpY2F0aW9uL3ZuZC5tcy1leGNlbCIKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICBsaW5rLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgICAgICAgICAgICAgICAgbGluay5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTsKICAgICAgICAgICAgICAgICAgICBsaW5rLmRvd25sb2FkID0gIuW4iOWCheWIl+ihqCI7IC8v5LiL6L2955qE5paH5Lu25ZCNCgogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobGluayk7CiAgICAgICAgICAgICAgICAgICAgbGluay5jbGljaygpOwogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobGluayk7CiAgICAgICAgICAgICAgICAgICAgbG9hZGluZy5jbG9zZSgpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMjEpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDngrnlh7vmn6XnnIvmiJDlkZjop6blj5HnmoTkuovku7YKICAgIGNoZWNrVGVhbTogZnVuY3Rpb24gY2hlY2tUZWFtKHJvdykgewogICAgICB2YXIgX3RoaXMyMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjIoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyMiQoX2NvbnRleHQyMikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIyLnByZXYgPSBfY29udGV4dDIyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIyLm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMjIuX3F1ZXJ5TWFzdGVyTWVtYmVyTGlzdChyb3cpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfdGhpczIyLiRyZWZzLm1hc3RlclRlYW1MaXN0Lm9wZW4oKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMjIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBfcXVlcnlNYXN0ZXJNZW1iZXJMaXN0OiBmdW5jdGlvbiBfcXVlcnlNYXN0ZXJNZW1iZXJMaXN0KHJvdykgewogICAgICB2YXIgX3RoaXMyMyA9IHRoaXM7CgogICAgICB2YXIgZGF0YSA9IHsKICAgICAgICB1aWQ6IHJvdy51aWQsCiAgICAgICAgcGFnZU5vOiAxLAogICAgICAgIHBhZ2VTaXplOiAxMAogICAgICB9OwogICAgICBxdWVyeU1hc3Rlck1lbWJlckxpc3QoZGF0YSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcykgewogICAgICAgICAgX3RoaXMyMy5tYXN0ZXJUZWFtTGlzdCA9IHJlcy5kYXRhLnJlY29yZHM7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvLyDliIfmjaLpobXnoIHop6blj5HnmoTkuovku7YKICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZUN1cnJlbnRDaGFuZ2UocGFnZSkgewogICAgICB0aGlzLmN1cnJlbnRQYWdlID0gcGFnZTsKCiAgICAgIHRoaXMuX2dldE1hc3Rlckxpc3QoKTsKICAgIH0sCiAgICAvLyDmn6Xor6LluIjlgoXliJfooagKICAgIF9nZXRNYXN0ZXJMaXN0OiBmdW5jdGlvbiBfZ2V0TWFzdGVyTGlzdChpZCkgewogICAgICB2YXIgX3RoaXMyNCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjMoKSB7CiAgICAgICAgdmFyIF9yZXMsIF9yZXMyLCByZXM7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjMkKF9jb250ZXh0MjMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyMy5wcmV2ID0gX2NvbnRleHQyMy5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKGlkID09PSAxKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMjQuY3VycmVudFBhZ2UgPSAxOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzMjQucGFyYW1zID0gewogICAgICAgICAgICAgICAgICBwYWdlTm86IF90aGlzMjQuY3VycmVudFBhZ2UsCiAgICAgICAgICAgICAgICAgIHBhZ2VTaXplOiAxMCwKICAgICAgICAgICAgICAgICAgcmVhbE5hbWU6IF90aGlzMjQuTmFtZSwKICAgICAgICAgICAgICAgICAgcGhvbmU6IF90aGlzMjQuUGhvbmUKICAgICAgICAgICAgICAgIH07IC8vIOWwhuWboumVv+aOqOiNkOS6uuWQjeWtlyDovazljJbmiJAgdWlkCgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczI0LnJlZmVycmVyTmFtZSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIzLm5leHQgPSA3OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDIzLm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIHF1ZXJ5TWFzdGVyTmFtZShfdGhpczI0LnJlZmVycmVyTmFtZSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIF9yZXMgPSBfY29udGV4dDIzLnNlbnQ7CiAgICAgICAgICAgICAgICBfdGhpczI0LnBhcmFtcy5yZWNvbW1lbmRNYXN0ZXJVaWQgPSBfcmVzLmRhdGFbMF0gJiYgX3Jlcy5kYXRhWzBdLnVpZDsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczI0LmNvbG9uZWxOYW1lKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjMubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDIzLm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIHJldHVybiBxdWVyeU1hc3Rlck5hbWUoX3RoaXMyNC5jb2xvbmVsTmFtZSk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBfcmVzMiA9IF9jb250ZXh0MjMuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzMjQucGFyYW1zLnN1cGVyaW9yTWFzdGVyVWlkID0gX3JlczIuZGF0YVswXSAmJiBfcmVzMi5kYXRhWzBdLnVpZDsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgIF9jb250ZXh0MjMubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgcmV0dXJuIGdldE1hc3Rlckxpc3QoX3RoaXMyNC5wYXJhbXMpOwoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQyMy5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXMubWVzc2FnZSA9PT0gIuaTjeS9nOaIkOWKnyIpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coMTM3NSwgcmVzLmRhdGEucmVjb3Jkcyk7CiAgICAgICAgICAgICAgICAgIF90aGlzMjQubWFzdGVyTGlzdCA9IHJlcy5kYXRhLnJlY29yZHM7CiAgICAgICAgICAgICAgICAgIF90aGlzMjQucGFnZUNvdW50ID0gcmVzLmRhdGEudG90YWw7CiAgICAgICAgICAgICAgICAgIF90aGlzMjQuY3VycmVudFBhZ2UgPSByZXMuZGF0YS5jdXJyZW50OwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMy5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMjMpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBxdWVyeVNlbGVjdERhdGE6IGZ1bmN0aW9uIHF1ZXJ5U2VsZWN0RGF0YSgpIHsKICAgICAgdmFyIF90aGlzMjUgPSB0aGlzOwoKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgdGhpcy4kYXhpb3MucG9zdCh0aGlzLnVybC5xdWVyeVR5cGUpLnRoZW4oZnVuY3Rpb24gKF9yZWYpIHsKICAgICAgICB2YXIgZGF0YSA9IF9yZWYuZGF0YTsKICAgICAgICBfdGhpczI1LnR5cGVEYXRhID0gZGF0YTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5pbmZvKGVycm9yKTsKICAgICAgfSk7CiAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgfSwKICAgIGlzTG9jazogZnVuY3Rpb24gaXNMb2NrKHJvdykgewogICAgICB2YXIgX3RoaXMyNiA9IHRoaXM7CgogICAgICB0aGlzLiRheGlvcy5wb3N0KHRoaXMudXJsLmxvY2ssIHsKICAgICAgICBpZDogcm93LmlkLAogICAgICAgIGxvY2s6IE51bWJlcighcm93LmlzTG9jaykKICAgICAgfSkudGhlbiggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3JlZjMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyNChfcmVmMikgewogICAgICAgICAgdmFyIGNvZGUsIG1lc3NhZ2U7CiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTI0JChfY29udGV4dDI0KSB7CiAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDI0LnByZXYgPSBfY29udGV4dDI0Lm5leHQpIHsKICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgY29kZSA9IF9yZWYyLmNvZGUsIG1lc3NhZ2UgPSBfcmVmMi5tZXNzYWdlOwogICAgICAgICAgICAgICAgICBfY29udGV4dDI0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyNi51dGlsLm1lc3NhZ2UoX3RoaXMyNiwgY29kZSwgbWVzc2FnZSk7CgogICAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgICBfdGhpczI2Ll9nZXRNYXN0ZXJMaXN0KCk7CgogICAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjQuc3RvcCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwgX2NhbGxlZTI0KTsKICAgICAgICB9KSk7CgogICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gpIHsKICAgICAgICAgIHJldHVybiBfcmVmMy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgIH07CiAgICAgIH0oKSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTsKICAgICAgfSk7CiAgICB9LAogICAgb3BlbjogZnVuY3Rpb24gb3Blbihyb3cpIHsKICAgICAgdGhpcy4kcmVmcy5lZGl0U3RhdHVzTW9kZWwub3BlbigpOwogICAgICB0aGlzLmVkaXRGb3JtID0gewogICAgICAgIGlkOiByb3cuaWQsCiAgICAgICAgc3RhdHVzOiBmYWxzZQogICAgICB9OwogICAgfSwKICAgIGhhbmRsZUVkaXRTdGF0dXM6IGZ1bmN0aW9uIGhhbmRsZUVkaXRTdGF0dXMoZm4pIHsKICAgICAgdmFyIF90aGlzMjcgPSB0aGlzOwoKICAgICAgdGhpcy4kYXhpb3MucG9zdCh0aGlzLnVybC51cGRhdGVTdGF0dXMsIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdGhpcy5lZGl0Rm9ybSksIHt9LCB7CiAgICAgICAgc3RhdHVzOiB0aGlzLmVkaXRGb3JtLnN0YXR1cyA/IDIgOiAzCiAgICAgIH0pKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgX3RoaXMyNy51dGlsLm1lc3NhZ2UoX3RoaXMyNywgZGF0YS5zdGF0dXMsIGRhdGEubWVzc2FnZSk7IC8vIHRoaXMucXVlcnkoKTsKCgogICAgICAgIF90aGlzMjcuX2dldE1hc3Rlckxpc3QoKTsKCiAgICAgICAgX3RoaXMyNy5yZXNldEVkaXRGb3JtKGZhbHNlKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5pbmZvKGVycm9yKTsKICAgICAgfSk7CiAgICAgIHRoaXMuJHJlZnMuZWRpdFN0YXR1c01vZGVsLmNsb3NlKCk7CiAgICB9LAogICAgLy8g5YWz6Zet57yW6L6R5by556qX5LqL5Lu2CiAgICBjbG9zZUZuOiBmdW5jdGlvbiBjbG9zZUZuKCkgewogICAgICB0aGlzLl9nZXRNYXN0ZXJMaXN0KCk7CgogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSBmYWxzZTsKICAgIH0sCiAgICAvLyDngrnlh7vnvJbovpHop6blj5HnmoTkuovku7YKICAgIGVkaXRJbml0OiBmdW5jdGlvbiBlZGl0SW5pdChyb3cpIHsKICAgICAgdmFyIF90aGlzMjggPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTI1KCkgewogICAgICAgIHZhciBsb2FkaW5nLCByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyNSQoX2NvbnRleHQyNSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDI1LnByZXYgPSBfY29udGV4dDI1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBsb2FkaW5nID0gX3RoaXMyOC4kbG9hZGluZygpOwogICAgICAgICAgICAgICAgX2NvbnRleHQyNS5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBnZXRNYXN0ZXJJbmZvKHJvdy5pZCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0MjUuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzMjguJHJlZnMuZWRpdFdvcmtlci5kaWFsb2dGb3JtID0gcmVzLmRhdGE7CiAgICAgICAgICAgICAgICBfdGhpczI4LiRyZWZzLmVkaXRXb3JrZXIuc2VydmVQb3NpdGlvbiA9IFtyZXMuZGF0YS5zZXJ2ZVBvc2l0aW9uXTsgLy8g5a+55Zu+54mH5Y2V54us5aSE55CGCgogICAgICAgICAgICAgICAgX2NvbnRleHQyNS5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczI4LiRyZWZzLmVkaXRXb3JrZXIuYXZhdGFyRmlsZUxpc3QucHVzaCh7CiAgICAgICAgICAgICAgICAgIHVybDogcmVzLmRhdGEucmVhbFBvcnRyYWl0CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgX2NvbnRleHQyNS5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyOC4kcmVmcy5lZGl0V29ya2VyLmlkSnVzdEZpbGVMaXN0LnB1c2goewogICAgICAgICAgICAgICAgICB1cmw6IHJlcy5kYXRhLmlkZW50aXR5RnJvbnRJbWFnZQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBfY29udGV4dDI1Lm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczI4LiRyZWZzLmVkaXRXb3JrZXIuaWRCYWNrRmlsZUxpc3QucHVzaCh7CiAgICAgICAgICAgICAgICAgIHVybDogcmVzLmRhdGEuaWRlbnRpdHlCYWNrSW1hZ2UKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgbG9hZGluZy5jbG9zZSgpOyAvLyDlvLnnqpfmmL7npLoKCiAgICAgICAgICAgICAgICBfdGhpczI4LmRpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjUuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjUuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTI1KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgaGFuZGxlRWRpdDogZnVuY3Rpb24gaGFuZGxlRWRpdChmbikgewogICAgICB2YXIgX3RoaXMyOSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjYoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyNiQoX2NvbnRleHQyNikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDI2LnByZXYgPSBfY29udGV4dDI2Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDI2LnQwID0gX3RoaXMyOTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MjYudDEgPSBmbjsKICAgICAgICAgICAgICAgIF9jb250ZXh0MjYudDIgPSBfdGhpczI5LmVkaXRGb3JtLnNlcnZpY2VBcmVhcy5qb2luKCIsIik7CiAgICAgICAgICAgICAgICBfY29udGV4dDI2LnQzID0gX3RoaXMyOS5lZGl0Rm9ybS5zZXJ2aWNlVHlwZXMuam9pbigiLCIpOwogICAgICAgICAgICAgICAgX2NvbnRleHQyNi5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczI5LiRyZWZzLnJlYWxQb3J0cmFpdC51cGxvYWRGaWxlKCk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0MjYudDQgPSBfY29udGV4dDI2LnNlbnQuam9pbigiLCIpOwogICAgICAgICAgICAgICAgX2NvbnRleHQyNi5uZXh0ID0gOTsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczI5LiRyZWZzLmluZHVzdHJ5RXhwZXJpZW5jZUltYWdlcy51cGxvYWRGaWxlKCk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIF9jb250ZXh0MjYudDUgPSBfY29udGV4dDI2LnNlbnQuam9pbigiLCIpOwogICAgICAgICAgICAgICAgX2NvbnRleHQyNi5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyOS4kcmVmcy5za2lsbENlcnRpZmljYXRlSW1hZ2VzLnVwbG9hZEZpbGUoKTsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgIF9jb250ZXh0MjYudDYgPSBfY29udGV4dDI2LnNlbnQuam9pbigiLCIpOwogICAgICAgICAgICAgICAgX2NvbnRleHQyNi5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyOS4kcmVmcy5pZGVudGl0eUZyb250SW1hZ2UudXBsb2FkRmlsZSgpOwoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgICAgX2NvbnRleHQyNi50NyA9IF9jb250ZXh0MjYuc2VudC5qb2luKCIsIik7CiAgICAgICAgICAgICAgICBfY29udGV4dDI2Lm5leHQgPSAxODsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczI5LiRyZWZzLmlkZW50aXR5QmFja0ltYWdlLnVwbG9hZEZpbGUoKTsKCiAgICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgICAgIF9jb250ZXh0MjYudDggPSBfY29udGV4dDI2LnNlbnQuam9pbigiLCIpOwogICAgICAgICAgICAgICAgX2NvbnRleHQyNi50OSA9IHsKICAgICAgICAgICAgICAgICAgc2VydmljZUFyZWFzOiBfY29udGV4dDI2LnQyLAogICAgICAgICAgICAgICAgICBzZXJ2aWNlVHlwZXM6IF9jb250ZXh0MjYudDMsCiAgICAgICAgICAgICAgICAgIHJlYWxQb3J0cmFpdDogX2NvbnRleHQyNi50NCwKICAgICAgICAgICAgICAgICAgaW5kdXN0cnlFeHBlcmllbmNlSW1hZ2VzOiBfY29udGV4dDI2LnQ1LAogICAgICAgICAgICAgICAgICBza2lsbENlcnRpZmljYXRlSW1hZ2VzOiBfY29udGV4dDI2LnQ2LAogICAgICAgICAgICAgICAgICBpZGVudGl0eUZyb250SW1hZ2U6IF9jb250ZXh0MjYudDcsCiAgICAgICAgICAgICAgICAgIGlkZW50aXR5QmFja0ltYWdlOiBfY29udGV4dDI2LnQ4CiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIF9jb250ZXh0MjYudDAuZWRpdC5jYWxsKF9jb250ZXh0MjYudDAsIF9jb250ZXh0MjYudDEsIF9jb250ZXh0MjYudDkpOwoKICAgICAgICAgICAgICBjYXNlIDIxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMjYpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICByZXNldEVkaXRGb3JtOiBmdW5jdGlvbiByZXNldEVkaXRGb3JtKGZuKSB7CiAgICAgIHRoaXMubWFzdGVyVGVhbUxpc3QgPSBudWxsOwogICAgICBmbihmYWxzZSk7CiAgICAgIHRoaXMucXVlcnkoKTsKICAgIH0KICB9Cn07"},null]}