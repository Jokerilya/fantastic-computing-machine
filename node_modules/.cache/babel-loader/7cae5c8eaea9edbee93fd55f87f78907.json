{"remainingRequest":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\thread-loader\\dist\\cjs.js!D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\babel-loader\\lib\\index.js!D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\机将公司\\机将后台端\\background-management-system\\src\\views\\maintenance\\maintenance_order_desc.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\机将公司\\机将后台端\\background-management-system\\src\\views\\maintenance\\maintenance_order_desc.vue","mtime":1712128512835},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJEOi9cdTY3M0FcdTVDMDZcdTUxNkNcdTUzRjgvXHU2NzNBXHU1QzA2XHU1NDBFXHU1M0YwXHU3QUVGL2JhY2tncm91bmQtbWFuYWdlbWVudC1zeXN0ZW0vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovXHU2NzNBXHU1QzA2XHU1MTZDXHU1M0Y4L1x1NjczQVx1NUMwNlx1NTQwRVx1NTNGMFx1N0FFRi9iYWNrZ3JvdW5kLW1hbmFnZW1lbnQtc3lzdGVtL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L1x1NjczQVx1NUMwNlx1NTE2Q1x1NTNGOC9cdTY3M0FcdTVDMDZcdTU0MEVcdTUzRjBcdTdBRUYvYmFja2dyb3VuZC1tYW5hZ2VtZW50LXN5c3RlbS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBnZXRSZXBhaXJPcmRlckRldGFpbCB9IGZyb20gIkAvYXBpL3VzZXIuanMiOwppbXBvcnQgeyBtYXJrT3JkZXJDb21wbGV0aW9uIGFzIF9tYXJrT3JkZXJDb21wbGV0aW9uLCBkZWxldGVPcmRlckZhdWx0SXRlbSwgaGFuZGxlU3VibWl0QWNjZXB0YW5jZSwgZWRpdE9yZGVyU2VydmljZVByb2dyZXNzLCBleGFtaW5lTWFzdGVyUXVvdGF0aW9uLCBoYW5kbGVNYXN0ZXJQYXltZW50LCBjYW5jZWxSZXBhaXJPcmRlciwgaGFuZGxlUmVwYWlyTWVzc2FnZSwgZXhhbWluZVBhcnRQcm9kdWN0LCBlZGl0UmVwYWlyT3JkZXIsIGV4YW1pbmVGYXVsdEl0ZW0sIHNlbmRSZXBhaXIsIHF1ZXJ5SmRQcm9kdWN0TGlzdCBhcyBfcXVlcnlKZFByb2R1Y3RMaXN0LCBlZGl0UGFydFByb2R1Y3QsIGRlbGV0ZVBhcnRQcm9kdWN0LCBxdWVyeU1haW50ZW5hbmNlU3VwcGxpZXJJbmZvLCBmaWxsTG9naXN0aWNzSW5mb3JtYXRpb24sIGhhbmRsZU1hc3RlckFtb3VudCwgcXVlcnlGYXVsdEl0ZW1zIGFzIF9xdWVyeUZhdWx0SXRlbXMsIGFkZE9yZGVyRmF1bHRJdGVtLCBjb25zdWx0Q29zdCwgaGFuZGxlU3lzdGVtQ3JlYXRlT3JkZXIgYXMgX2hhbmRsZVN5c3RlbUNyZWF0ZU9yZGVyLCBoYW5kbGVFbnRlcnByaXNlQ2hlY2sgYXMgX2hhbmRsZUVudGVycHJpc2VDaGVjaywgaGFuZGxlRmF1bHRDb3N0IH0gZnJvbSAiQC9hcGkvb3JkZXIuanMiOwppbXBvcnQgeyBVcGxvYWRJbWcgfSBmcm9tICJAL2FwaS9zeXN0ZW0uanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgdGl0bGU6ICJtYWludGVuYW5jZV9vcmRlcl9kZXNjIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZmF1bHREZXJhdGVQcmljZVZpc2libGU6IGZhbHNlLAogICAgICBmYXVsdERlcmF0ZVByaWNlUGFyYW1zOiB7CiAgICAgICAgYW1vdW50OiBudWxsLAogICAgICAgIG9yZGVyU246IG51bGwKICAgICAgfSwKICAgICAgY29uc3VsdENvc3RSdWxlczogewogICAgICAgIHR5cGU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fpgInmi6nmtLvliqjotYTmupAiLAogICAgICAgICAgdHJpZ2dlcjogImNoYW5nZSIKICAgICAgICB9XSwKICAgICAgICBhbW91bnQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fpgInmi6nmtLvliqjljLrln58iLAogICAgICAgICAgdHJpZ2dlcjogImNoYW5nZSIKICAgICAgICB9XQogICAgICB9LAogICAgICBjb25zdWx0Q29zdFBhcmFtczogewogICAgICAgIG9yZGVyU246IG51bGwsCiAgICAgICAgYW1vdW50OiBudWxsLAogICAgICAgIHJlbWFya3M6IG51bGwsCiAgICAgICAgdHlwZTogbnVsbAogICAgICB9LAogICAgICBjb25zdWx0UHJpY2VWaXNpYmxlOiBmYWxzZSwKICAgICAgZXhhbWluZUZhdWx0c0Zvcm1WaWRlb0xpc3Q6IFtdLAogICAgICBleGFtaW5lRmF1bHRzRm9ybVBpY0xpc3Q6IFtdLAogICAgICBjaG9vc2VGYXVsdEl0ZW1WYWw6IHt9LAogICAgICBxdWVyeUZhdWx0SXRlbXNQYXJhbXM6IHsKICAgICAgICBwYWdlTm86IDEsCiAgICAgICAgcGFnZVNpemU6IDEwLAogICAgICAgIHF1ZXJ5OiBudWxsCiAgICAgIH0sCiAgICAgIGZhdWx0SXRlbVBhZ2VzOiBudWxsLAogICAgICBmYXVsdEl0ZW1Ub3RhbDogbnVsbCwKICAgICAgZmF1bHRJdGVtTGlzdDogW10sCiAgICAgIGFkZEZhdWx0VmlzaWJsZTogZmFsc2UsCiAgICAgIGVkaXRCYWRQaXJjZURhdGE6IHsKICAgICAgICBvcGVyYXRlVHlwZTogIiIsCiAgICAgICAgYW1vdW50OiAiIiwKICAgICAgICBvcmRlclNuOiAiIgogICAgICB9LAogICAgICBlZGl0QmFkUGlyY2VTaG93OiBmYWxzZSwKICAgICAgLy/kv67mlLnlt67or4TlvLnmoYYKICAgICAgcGFydEl0ZW1TZW5kOiBmYWxzZSwKICAgICAgYWRkRWRpdFBhcnRUaXRsZTogIuaWsOWinumFjeS7tiIsCiAgICAgIHNldExvZ2lzdGljc0RhdGE6IHsKICAgICAgICBzdXBwbGllcklkOiBudWxsLAogICAgICAgIHN1cHBsaWVyTmFtZTogbnVsbAogICAgICB9LAogICAgICBzdXBwbGllckxpc3Q6IFtdLAogICAgICBzZXRMb2dpc3RpY3NEaWFsb2dTaG93OiBmYWxzZSwKICAgICAgbWFpbnRlbmFuY2VTdXBwbGllckluZm9RdWVyeTogbnVsbCwKICAgICAgdXBsb2FkUGFydEltZ0xpc3Q6IFtdLAogICAgICBzZWFyY2hQYXJ0UXVlcnk6IG51bGwsCiAgICAgIGNob29zZVBhcnRJbmRleDogbnVsbCwKICAgICAgLy/pgInkuK3phY3ku7bnmoTkuIvmoIcKICAgICAgamRQcm9kdWN0TGlzdDogW10sCiAgICAgIHdhcmVob3VzZVNlYXJjaERpYWxvZ1Nob3c6IGZhbHNlLAogICAgICBwYXJ0SW5mbzogewogICAgICAgIHJlbWFya3M6IG51bGwsCiAgICAgICAgc3Rhc2hQYXJ0c1dheTogMSwKICAgICAgICAvL+m7mOiupOaWsOWinumFjeS7tgogICAgICAgIGJyYW5kOiAiIiwKICAgICAgICBicmFuZElkOiAiIiwKICAgICAgICBpbWFnZTogIiIsCiAgICAgICAgbW9kZWw6ICIiLAogICAgICAgIG5hbWU6ICIiLAogICAgICAgIG51bTogIiIsCiAgICAgICAgbnVtYmVyOiAiIiwKICAgICAgICBwYXJhbWV0ZXI6ICIiLAogICAgICAgIHByaWNlOiAiIiwKICAgICAgICB0eXBlOiAiIiwKICAgICAgICBpZDogIiIsCiAgICAgICAgcGFydElkOiAiIgogICAgICB9LAogICAgICBhZGRFZGl0UGFydERpYWxvZ1Nob3c6IGZhbHNlLAogICAgICBvbmVDbGlja1NlbmRyZXBhaXI6IGZhbHNlLAogICAgICBtYXJrVHJ1blRleHQ6IFsi6Z2e5bi45LiN5ruh5oSPIiwgIuS4jea7oeaEjyIsICLkuIDoiKwiLCAi5ruh5oSPIiwgIumdnuW4uOa7oeaEjyJdLAogICAgICBleGFtaW5lRmF1bHRzRm9ybToge30sCiAgICAgIGV4YW1pbmVGYXVsdHM6IGZhbHNlLAogICAgICBleGFtaW5lUGFydHNGb3JtOiB7fSwKICAgICAgZXhhbWluZVBhcnRzOiBmYWxzZSwKICAgICAgcGxhdGZvcm1WaXNpdE1lc3NhZ2U6ICIiLAogICAgICByZXBhaXJDb21tZW50SW1hZ2U6IG51bGwsCiAgICAgIGNvbnRlbnQ6ICIiLAogICAgICAvLyDlj5bmtojorqLljZUKICAgICAgZGVsT3JkZXJpbnBWYWx1ZTogIiIsCiAgICAgIGNhbmNlbE9yZGVyRGlhbG9nOiBmYWxzZSwKICAgICAgb3JkZXJTbjogIiIsCiAgICAgIGRhdGE6IHt9LAogICAgICBhY3RpdmVOYW1lOiAiZGVzYyIsCiAgICAgIHN0YXR1czogIiIsCiAgICAgIHVybDogewogICAgICAgIGhhbmRsZU1hc3RlclF1b3RhdGlvbjogIi9hZG1pbi9tYWludGVuYW5jZS9oYW5kbGVNYXN0ZXJRdW90YXRpb24iLAogICAgICAgIC8vIOS8geS4muehruiupOaKpeS7twogICAgICAgIGhhbmRsZUNvbmZpcm1EZXBvc2l0OiAiL2FkbWluL21haW50ZW5hbmNlL2hhbmRsZUNvbmZpcm1EZXBvc2l0IiwKICAgICAgICAvLyDkvIHkuJrnoa7orqTmlK/ku5jlrprph5Ev5bC+5qy+CiAgICAgICAgaGFuZGxlRW50ZXJwcmlzZUNoZWNrOiAiL2FkbWluL21haW50ZW5hbmNlL2hhbmRsZUVudGVycHJpc2VDaGVjayIsCiAgICAgICAgLy8g5LyB5Lia6aqM5pS2CiAgICAgICAgaGFuZGxlQ29uZmlybURlcG9zaXRUb01hc3RlcjogIi9hZG1pbi9tYWludGVuYW5jZS9oYW5kbGVDb25maXJtRGVwb3NpdFRvTWFzdGVyIiwKICAgICAgICAvLyDlubPlj7Dnoa7orqTkvIHkuJrlrprph5HlubbmiZPmrL7nu5nluIjlgoUv5bmz5Y+w56Gu6K6k5LyB5Lia5pSv5LuY5bC+5qy+CiAgICAgICAgaGFuZGxlQ29uZmlybUJhbGFuY2VUb01hc3RlcjogIi9hZG1pbi9tYWludGVuYW5jZS9oYW5kbGVDb25maXJtQmFsYW5jZVRvTWFzdGVyIiAvLyDlubPlj7DmiZPmrL7oh7PluIjlgoUo6LSo5L+d5pyf5bey5YiwKQoKICAgICAgfSwKICAgICAgcXVvdGF0aW9uRm9ybTogewogICAgICAgIHJlamVjdFJlYXNvbjogIiIKICAgICAgfSwKICAgICAgY2hlY2tGb3JtOiB7CiAgICAgICAgcmVqZWN0UmVhc29uOiAiIgogICAgICB9LAogICAgICBwYXJ0czogewogICAgICAgIG9yZGVyU246ICIiLAogICAgICAgIGRvb3JBbW91bnQ6ICIiLAogICAgICAgIG90aGVyQW1vdW50OiAiIiwKICAgICAgICBwYXJ0c0Ftb3VudDogIiIsCiAgICAgICAgdGVjaG5vbG9neUFtb3VudDogIiIKICAgICAgfSwKICAgICAgcXVlcnlKZFByb2R1Y3RMaXN0UGFyYW1zOiB7CiAgICAgICAgcGFnZU5vOiAxLAogICAgICAgIHBhZ2VTaXplOiAxMDAsCiAgICAgICAgcXVlcnk6ICIiCiAgICAgIH0KICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5fZ2V0UmVwYWlyT3JkZXJEZXRhaWwoKTsKCiAgICBjb25zb2xlLmluZm8odGhpcy4kc3RvcmUpOwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMub3JkZXJTbiA9IHRoaXMuJHJvdXRlLnF1ZXJ5Lm9yZGVyU247CgogICAgdGhpcy5fZ2V0UmVwYWlyT3JkZXJEZXRhaWwoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOehruWumuaVhemanOWHj+WFjei0ueeUqAogICAgY29uZmlybVNldEZhdWx0RGVyYXRlUHJpY2U6IGZ1bmN0aW9uIGNvbmZpcm1TZXRGYXVsdERlcmF0ZVByaWNlKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmIChfdGhpcy5mYXVsdERlcmF0ZVByaWNlUGFyYW1zLmFtb3VudCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgICBtZXNzYWdlOiAi6K+35aGr5YaZ5pWF6Zqc5YeP5YWN6LS555SoIiwKICAgICAgICAgICAgICAgICAgdHlwZTogIndhcm5pbmciCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlRmF1bHRDb3N0KF90aGlzLmZhdWx0RGVyYXRlUHJpY2VQYXJhbXMpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXMubWVzc2FnZSA9PSAi5pON5L2c5oiQ5YqfIikgewogICAgICAgICAgICAgICAgICBfdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogcmVzLm1lc3NhZ2UsCiAgICAgICAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiCiAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuX2dldFJlcGFpck9yZGVyRGV0YWlsKCk7CgogICAgICAgICAgICAgICAgICBfdGhpcy5jbG9zZUZhdWx0RGVyYXRlUHJpY2VEaWFsb2coKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOWFs+mXreiuvue9ruaVhemanOWHj+WFjei0ueeUqAogICAgY2xvc2VGYXVsdERlcmF0ZVByaWNlRGlhbG9nOiBmdW5jdGlvbiBjbG9zZUZhdWx0RGVyYXRlUHJpY2VEaWFsb2coKSB7CiAgICAgIHRoaXMuZmF1bHREZXJhdGVQcmljZVBhcmFtcyA9IHsKICAgICAgICBhbW91bnQ6IG51bGwsCiAgICAgICAgb3JkZXJTbjogbnVsbAogICAgICB9OwogICAgICB0aGlzLmZhdWx0RGVyYXRlUHJpY2VWaXNpYmxlID0gZmFsc2U7CiAgICB9LAogICAgLy8g5omT5byA6K6+572u5pWF6Zqc5YeP5YWN6LS555SoCiAgICBvcGVuRmF1bHREZXJhdGVQcmljZURpYWxvZzogZnVuY3Rpb24gb3BlbkZhdWx0RGVyYXRlUHJpY2VEaWFsb2cob3JkZXJTbikgewogICAgICB0aGlzLmZhdWx0RGVyYXRlUHJpY2VQYXJhbXMub3JkZXJTbiA9IG9yZGVyU247CiAgICAgIHRoaXMuZmF1bHREZXJhdGVQcmljZVZpc2libGUgPSB0cnVlOwogICAgfSwKICAgIC8vIOafpeaJvuS+m+W6lOWVhgogICAgc2VhcmNoTWFpbnRlbmFuY2VTdXBwbGllckluZm86IGZ1bmN0aW9uIHNlYXJjaE1haW50ZW5hbmNlU3VwcGxpZXJJbmZvKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBxdWVyeU1haW50ZW5hbmNlU3VwcGxpZXJJbmZvKF90aGlzMi5tYWludGVuYW5jZVN1cHBsaWVySW5mb1F1ZXJ5KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICBfdGhpczIuc3VwcGxpZXJMaXN0ID0gcmVzLmRhdGE7CiAgICAgICAgICAgICAgICBfdGhpczIuc2V0TG9naXN0aWNzRGlhbG9nU2hvdyA9IHRydWU7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOS8geS4muW+hemqjOaUtgogICAgaGFuZGxlRW50ZXJwcmlzZUNoZWNrOiBmdW5jdGlvbiBoYW5kbGVFbnRlcnByaXNlQ2hlY2sob3JkZXJTbikgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMuJGNvbmZpcm0oIuaCqOehruWumuimgeaTjeS9nOS7o+S8geS4muehruiupOmqjOaUtj8iLCAi5o+Q56S6IiwgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAi56Gu6K6kIiwKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAi5Y+W5raIIiwKICAgICAgICB0eXBlOiAid2FybmluZyIKICAgICAgfSkudGhlbiggLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF9oYW5kbGVFbnRlcnByaXNlQ2hlY2sob3JkZXJTbik7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0My5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXMubWVzc2FnZSA9PT0gIuaTjeS9nOaIkOWKnyIpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiByZXMubWVzc2FnZSwKICAgICAgICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIKICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICBfdGhpczMuX2dldFJlcGFpck9yZGVyRGV0YWlsKCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSk7CiAgICB9LAogICAgLy8g5qCH6K6w5pWj5Y2V5a6M5oiQCiAgICBtYXJrT3JkZXJDb21wbGV0aW9uOiBmdW5jdGlvbiBtYXJrT3JkZXJDb21wbGV0aW9uKG9yZGVyU24pIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB0aGlzLiRjb25maXJtKCLnoa7orqTmk43kvZzlkJfvvJ8o5pWj5Y2V6ZyA5LyB5Lia5a6e6ZmF5pSv5LuY5omN5Y+v5Lul54K55Ye75q2k5pON5L2cKSIsICLmj5DnpLoiLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICLnoa7lrpoiLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICLlj5bmtogiLAogICAgICAgIHR5cGU6ICJ3YXJuaW5nIgogICAgICB9KS50aGVuKCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICB2YXIgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX21hcmtPcmRlckNvbXBsZXRpb24ob3JkZXJTbik7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0NC5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXMubWVzc2FnZSA9PT0gIuaTjeS9nOaIkOWKnyIpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM0LiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAi5pON5L2c5oiQ5YqfIiwKICAgICAgICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIKICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICBfdGhpczQuX2dldFJlcGFpck9yZGVyRGV0YWlsKCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgIH0pKSk7CiAgICB9LAogICAgLy8g5py65bCG5aSn5biI5YKF5o6l5Y2VCiAgICBoYW5kbGVTeXN0ZW1DcmVhdGVPcmRlcjogZnVuY3Rpb24gaGFuZGxlU3lzdGVtQ3JlYXRlT3JkZXIob3JkZXJTbikgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHRoaXMuJGNvbmZpcm0oIuaCqOehruWunuimgeaTjeS9nOacuuWwhuWkp+W4iOWCheaOpeWNleWQlz8iLCAi5o+Q56S6IiwgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAi56Gu5a6aIiwKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAi5Y+W5raIIiwKICAgICAgICB0eXBlOiAid2FybmluZyIKICAgICAgfSkudGhlbiggLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoKSB7CiAgICAgICAgdmFyIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF9oYW5kbGVTeXN0ZW1DcmVhdGVPcmRlcihvcmRlclNuKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQ1LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlcy5tZXNzYWdlID09ICLmk43kvZzmiJDlip8iKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNS4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHJlcy5tZXNzYWdlCiAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgX3RoaXM1Ll9nZXRSZXBhaXJPcmRlckRldGFpbCgpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTUpOwogICAgICB9KSkpOwogICAgfSwKICAgIC8vIOWIoOmZpOaVhemanOmhueebruWbvueJhwogICAgZGVsRXhhbWluZUZhdWx0c0Zvcm1QaWNMaXN0OiBmdW5jdGlvbiBkZWxFeGFtaW5lRmF1bHRzRm9ybVBpY0xpc3QoKSB7CiAgICAgIHRoaXMuZXhhbWluZUZhdWx0c0Zvcm0uaW1hZ2VbMF0gPSBudWxsOwogICAgICB0aGlzLmV4YW1pbmVGYXVsdHNGb3JtUGljTGlzdCA9IFtdOwogICAgfSwKICAgIC8vIOehruWumuWNj+WVhui0ueeUqAogICAgY29uZmlybUNvbnN1bHRQcmljZTogZnVuY3Rpb24gY29uZmlybUNvbnN1bHRQcmljZSgpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNigpIHsKICAgICAgICB2YXIgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNiQoX2NvbnRleHQ2KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ni5wcmV2ID0gX2NvbnRleHQ2Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM2LiRyZWZzWyJjb25zdWx0Q29zdEZvcm0iXS52YWxpZGF0ZSgpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gY29uc3VsdENvc3QoX3RoaXM2LmNvbnN1bHRDb3N0UGFyYW1zKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQ2LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlcy5tZXNzYWdlID09PSAi5pON5L2c5oiQ5YqfIikgewogICAgICAgICAgICAgICAgICBfdGhpczYuY2xvc2VDb25zdWx0UHJpY2VEaWFsb2coKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzNi5fZ2V0UmVwYWlyT3JkZXJEZXRhaWwoKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU2KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g5omT5byA5Y2P5ZWG5Lu35qC85qGGCiAgICBvcGVuQ29uc3VsdFByaWNlRGlhbG9nOiBmdW5jdGlvbiBvcGVuQ29uc3VsdFByaWNlRGlhbG9nKG9yZGVyU24pIHsKICAgICAgdGhpcy5jb25zdWx0Q29zdFBhcmFtcy5vcmRlclNuID0gb3JkZXJTbjsKICAgICAgdGhpcy5jb25zdWx0UHJpY2VWaXNpYmxlID0gdHJ1ZTsKICAgIH0sCiAgICAvLyDlhbPpl63ljY/llYbku7fmoLzmoYYKICAgIGNsb3NlQ29uc3VsdFByaWNlRGlhbG9nOiBmdW5jdGlvbiBjbG9zZUNvbnN1bHRQcmljZURpYWxvZygpIHsKICAgICAgdGhpcy5jb25zdWx0Q29zdFBhcmFtcyA9IHsKICAgICAgICBvcmRlclNuOiBudWxsLAogICAgICAgIGFtb3VudDogbnVsbCwKICAgICAgICByZW1hcmtzOiBudWxsLAogICAgICAgIHR5cGU6IG51bGwKICAgICAgfTsKICAgICAgdGhpcy4kcmVmc1siY29uc3VsdENvc3RGb3JtIl0ucmVzZXRGaWVsZHMoKTsKICAgICAgdGhpcy5jb25zdWx0UHJpY2VWaXNpYmxlID0gZmFsc2U7CiAgICB9LAogICAgLy8g5Yig6Zmk6KeG6aKRCiAgICBkZWxFeGFtaW5lRmF1bHRzRm9ybVZpZGVvOiBmdW5jdGlvbiBkZWxFeGFtaW5lRmF1bHRzRm9ybVZpZGVvKCkgewogICAgICB0aGlzLmV4YW1pbmVGYXVsdHNGb3JtVmlkZW9MaXN0ID0gW107CiAgICAgIHRoaXMuZXhhbWluZUZhdWx0c0Zvcm0uaW1hZ2VbMV0gPSBudWxsOwogICAgfSwKICAgIC8vIOafpeeci+inhumikQogICAgdmlld1ZpZGVvOiBmdW5jdGlvbiB2aWV3VmlkZW8odXJsKSB7CiAgICAgIHdpbmRvdy5vcGVuKHVybCk7CiAgICB9LAogICAgLy8g5LiK5Lyg5pWF6Zqc6KeG6aKRCiAgICB1cGxvYWRFeGFtaW5lRmF1bHRzRm9ybVZpZGVvTGlzdDogZnVuY3Rpb24gdXBsb2FkRXhhbWluZUZhdWx0c0Zvcm1WaWRlb0xpc3QoZmlsZURhdGEpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNygpIHsKICAgICAgICB2YXIgbG9hZGluZywgZm9ybURhdGEsIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTckKF9jb250ZXh0NykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDcucHJldiA9IF9jb250ZXh0Ny5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbG9hZGluZyA9IF90aGlzNy4kbG9hZGluZyh7CiAgICAgICAgICAgICAgICAgIGxvY2s6IHRydWUsCiAgICAgICAgICAgICAgICAgIHRleHQ6ICLkuIrkvKDmlYXpmpzop4bpopEuLi4iLAogICAgICAgICAgICAgICAgICBzcGlubmVyOiAiZWwtaWNvbi1sb2FkaW5nIiwKICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogInJnYmEoMCwgMCwgMCwgMC43KSIKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgiZmlsZSIsIGZpbGVEYXRhLmZpbGUpOwogICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIFVwbG9hZEltZyhmb3JtRGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0Ny5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXMpIHsKICAgICAgICAgICAgICAgICAgbG9hZGluZy5jbG9zZSgpOwoKICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCFfdGhpczcuZXhhbWluZUZhdWx0c0Zvcm0uaW1hZ2UpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzNy5leGFtaW5lRmF1bHRzRm9ybS5pbWFnZSA9IFtdOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgX3RoaXM3LmV4YW1pbmVGYXVsdHNGb3JtLmltYWdlWzFdID0gcmVzLmRhdGE7CiAgICAgICAgICAgICAgICAgICAgX3RoaXM3LmV4YW1pbmVGYXVsdHNGb3JtVmlkZW9MaXN0ID0gW3sKICAgICAgICAgICAgICAgICAgICAgIHVybDogcmVzLmRhdGEKICAgICAgICAgICAgICAgICAgICB9XTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTcpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDkuIrkvKDmlYXpmpzlm77niYcKICAgIHVwbG9hZEV4YW1pbmVGYXVsdHNGb3JtUGljTGlzdDogZnVuY3Rpb24gdXBsb2FkRXhhbWluZUZhdWx0c0Zvcm1QaWNMaXN0KGZpbGVEYXRhKSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTgoKSB7CiAgICAgICAgdmFyIGxvYWRpbmcsIGZvcm1EYXRhLCByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4JChfY29udGV4dDgpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ4LnByZXYgPSBfY29udGV4dDgubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGxvYWRpbmcgPSBfdGhpczguJGxvYWRpbmcoewogICAgICAgICAgICAgICAgICBsb2NrOiB0cnVlLAogICAgICAgICAgICAgICAgICB0ZXh0OiAi5LiK5Lyg5pWF6Zqc5Zu+54mHLi4uIiwKICAgICAgICAgICAgICAgICAgc3Bpbm5lcjogImVsLWljb24tbG9hZGluZyIsCiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICJyZ2JhKDAsIDAsIDAsIDAuNykiCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoImZpbGUiLCBmaWxlRGF0YS5maWxlKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBVcGxvYWRJbWcoZm9ybURhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDguc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzKSB7CiAgICAgICAgICAgICAgICAgIGxvYWRpbmcuY2xvc2UoKTsKCiAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YSkgewogICAgICAgICAgICAgICAgICAgIGlmICghX3RoaXM4LmV4YW1pbmVGYXVsdHNGb3JtLmltYWdlKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczguZXhhbWluZUZhdWx0c0Zvcm0uaW1hZ2UgPSBbXTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIF90aGlzOC5leGFtaW5lRmF1bHRzRm9ybS5pbWFnZVswXSA9IHJlcy5kYXRhOwogICAgICAgICAgICAgICAgICAgIF90aGlzOC5leGFtaW5lRmF1bHRzRm9ybVBpY0xpc3QgPSBbewogICAgICAgICAgICAgICAgICAgICAgdXJsOiByZXMuZGF0YQogICAgICAgICAgICAgICAgICAgIH1dOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlOCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOehruWumuaWsOWingogICAgY29uZmlybUFkZEZhdWx0OiBmdW5jdGlvbiBjb25maXJtQWRkRmF1bHQoKSB7CiAgICAgIHZhciBfdGhpczkgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTkoKSB7CiAgICAgICAgdmFyIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTkkKF9jb250ZXh0OSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDkucHJldiA9IF9jb250ZXh0OS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKF90aGlzOS5jaG9vc2VGYXVsdEl0ZW1WYWwuaWQpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczkuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICLor7fpgInmi6nopoHmlrDlop7nmoTmlYXpmpzpobnnm64iLAogICAgICAgICAgICAgICAgICB0eXBlOiAid2FybmluZyIKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIGFkZE9yZGVyRmF1bHRJdGVtKF90aGlzOS5jaG9vc2VGYXVsdEl0ZW1WYWwpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDkuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoIShyZXMubWVzc2FnZSA9PSAi5pON5L2c5oiQ5YqfIikpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSA5OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzOS5fZ2V0UmVwYWlyT3JkZXJEZXRhaWwoKTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgX3RoaXM5LmNsb3NlQWRkRmF1bHREaWFsb2coKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlOSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOWFs+mXreaVhemanOmhueebruahhgogICAgY2xvc2VBZGRGYXVsdERpYWxvZzogZnVuY3Rpb24gY2xvc2VBZGRGYXVsdERpYWxvZygpIHsKICAgICAgdGhpcy5jaG9vc2VGYXVsdEl0ZW1WYWwgPSB7fTsKICAgICAgdGhpcy5xdWVyeUZhdWx0SXRlbXNQYXJhbXMgPSB7CiAgICAgICAgcGFnZU5vOiAxLAogICAgICAgIHBhZ2VTaXplOiAxMCwKICAgICAgICBxdWVyeTogbnVsbAogICAgICB9OwogICAgICB0aGlzLmFkZEZhdWx0VmlzaWJsZSA9IGZhbHNlOwogICAgfSwKICAgIC8vIOmAmui/h+aVhemanOaPj+i/sOafpeivouaVhemanOmhueebruWIl+ihqAogICAgc2VhcmNoRmF1bHRMaXN0OiBmdW5jdGlvbiBzZWFyY2hGYXVsdExpc3QoKSB7CiAgICAgIHZhciBfdGhpczEwID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMCgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEwJChfY29udGV4dDEwKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTAucHJldiA9IF9jb250ZXh0MTAubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzMTAucXVlcnlGYXVsdEl0ZW1zUGFyYW1zLnBhZ2VObyA9IDE7CiAgICAgICAgICAgICAgICBfY29udGV4dDEwLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTAucXVlcnlGYXVsdEl0ZW1zKCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTAuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTEwKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g5L+u5pS55pWF6Zqc6aG555uu6aG15pWwCiAgICBjaGFuZ2VGYXVsdERpYWxvZ1BhZ2U6IGZ1bmN0aW9uIGNoYW5nZUZhdWx0RGlhbG9nUGFnZShwYWdlKSB7CiAgICAgIHZhciBfdGhpczExID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTExJChfY29udGV4dDExKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTEucHJldiA9IF9jb250ZXh0MTEubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzMTEucXVlcnlGYXVsdEl0ZW1zUGFyYW1zLnBhZ2VObyA9IHBhZ2U7CiAgICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTEucXVlcnlGYXVsdEl0ZW1zKCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTEuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTExKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g6YCJ5oup5pWF6Zqc6aG555uuCiAgICBjaG9vc2VGYXVsdEl0ZW06IGZ1bmN0aW9uIGNob29zZUZhdWx0SXRlbSh2YWwpIHsKICAgICAgdGhpcy5jaG9vc2VGYXVsdEl0ZW1WYWwgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHRoaXMuY2hvb3NlRmF1bHRJdGVtVmFsKSwgdmFsKTsKICAgIH0sCiAgICAvLyDmn6Xor6LmlYXpmpzmj4/ov7AKICAgIHF1ZXJ5RmF1bHRJdGVtczogZnVuY3Rpb24gcXVlcnlGYXVsdEl0ZW1zKCkgewogICAgICB2YXIgX3RoaXMxMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTIoKSB7CiAgICAgICAgdmFyIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEyJChfY29udGV4dDEyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTIucHJldiA9IF9jb250ZXh0MTIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3F1ZXJ5RmF1bHRJdGVtcyhfdGhpczEyLnF1ZXJ5RmF1bHRJdGVtc1BhcmFtcyk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0MTIuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzMTIuZmF1bHRJdGVtTGlzdCA9IHJlcy5kYXRhLnJlY29yZHM7CiAgICAgICAgICAgICAgICBfdGhpczEyLmZhdWx0SXRlbVBhZ2VzID0gcmVzLmRhdGEucGFnZXM7CiAgICAgICAgICAgICAgICBfdGhpczEyLmZhdWx0SXRlbVRvdGFsID0gcmVzLmRhdGEudG90YWw7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTEyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g5omT5byA5paw5aKe6aG555uu5qGGCiAgICBvcGVuQWRkRmF1bHREaWFsb2c6IGZ1bmN0aW9uIG9wZW5BZGRGYXVsdERpYWxvZyhvcmRlclNuKSB7CiAgICAgIHZhciBfdGhpczEzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMygpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEzJChfY29udGV4dDEzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTMucHJldiA9IF9jb250ZXh0MTMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxMy5xdWVyeUZhdWx0SXRlbXMoKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX3RoaXMxMy5jaG9vc2VGYXVsdEl0ZW1WYWwub3JkZXJTbiA9IG9yZGVyU247CiAgICAgICAgICAgICAgICBfdGhpczEzLmFkZEZhdWx0VmlzaWJsZSA9IHRydWU7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTEzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g5YWz6Zet5L+u5pS55beu6K+E6YeR6aKd5qGGCiAgICBjbG9zZUVkaXRCYWRQaXJjZTogZnVuY3Rpb24gY2xvc2VFZGl0QmFkUGlyY2UoKSB7CiAgICAgIHRoaXMuZWRpdEJhZFBpcmNlU2hvdyA9IGZhbHNlOwogICAgICB0aGlzLmVkaXRCYWRQaXJjZURhdGEgPSB7CiAgICAgICAgb3BlcmF0ZVR5cGU6ICIiLAogICAgICAgIGFtb3VudDogIiIsCiAgICAgICAgb3JkZXJTbjogIiIKICAgICAgfTsKICAgIH0sCiAgICAvLyDnoa7orqTkv67mlLnlt67or4Tph5Hpop0KICAgIGNvbmZpcm1FZGl0QmFkUGlyY2U6IGZ1bmN0aW9uIGNvbmZpcm1FZGl0QmFkUGlyY2UoKSB7CiAgICAgIHZhciBfdGhpczE0ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNCgpIHsKICAgICAgICB2YXIgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTQkKF9jb250ZXh0MTQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNC5wcmV2ID0gX2NvbnRleHQxNC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQxNC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBoYW5kbGVNYXN0ZXJBbW91bnQoX3RoaXMxNC5lZGl0QmFkUGlyY2VEYXRhKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQxNC5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXMubWVzc2FnZSA9PSAi5pON5L2c5oiQ5YqfIikgewogICAgICAgICAgICAgICAgICBfdGhpczE0Ll9nZXRSZXBhaXJPcmRlckRldGFpbCgpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMxNC5jbG9zZUVkaXRCYWRQaXJjZSgpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxNCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOaJk+W8gOS/ruaUueW3ruivhOmHkemineahhgogICAgb3BlbkVkaXRCYWRQaXJjZTogZnVuY3Rpb24gb3BlbkVkaXRCYWRQaXJjZSgpIHsKICAgICAgdGhpcy5lZGl0QmFkUGlyY2VTaG93ID0gdHJ1ZTsKICAgICAgdGhpcy5lZGl0QmFkUGlyY2VEYXRhLm9yZGVyU24gPSB0aGlzLm9yZGVyU247CiAgICB9LAogICAgLy8g5LiA6ZSu5a+E5L+uCiAgICBvbmVDbGlja1NlbmRyZXBhaXJGbjogZnVuY3Rpb24gb25lQ2xpY2tTZW5kcmVwYWlyRm4oKSB7CiAgICAgIHZhciBfdGhpczE1ID0gdGhpczsKCiAgICAgIHRoaXMuJGNvbmZpcm0oIuehruiupOmFjeS7tuS/oeaBr+aXoOivr++8jOS4gOmUruWvhOS/riIsICLkuIDplK7lr4Tkv64iLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICLnoa7lrpoiLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICLlj5bmtogiLAogICAgICAgIHR5cGU6ICJ3YXJuaW5nIgogICAgICB9KS50aGVuKCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTUoKSB7CiAgICAgICAgdmFyIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE1JChfY29udGV4dDE1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTUucHJldiA9IF9jb250ZXh0MTUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTUubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gc2VuZFJlcGFpcihfdGhpczE1Lm9yZGVyU24pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDE1LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlcy5tZXNzYWdlID09ICLmk43kvZzmiJDlip8iKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMTUuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiByZXMubWVzc2FnZQogICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMTUuX2dldFJlcGFpck9yZGVyRGV0YWlsKCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTUuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE1KTsKICAgICAgfSkpKTsKICAgIH0sCiAgICAvLyDliKDpmaTphY3ku7blm77niYcKICAgIGRlbFVwbG9hZFBhcnRJbWc6IGZ1bmN0aW9uIGRlbFVwbG9hZFBhcnRJbWcoKSB7CiAgICAgIHRoaXMucGFydEluZm8uaW1hZ2UgPSAiIjsKICAgICAgdGhpcy51cGxvYWRQYXJ0SW1nTGlzdCA9IFtdOwogICAgfSwKICAgIC8vIOehruWumuS+m+W6lOWVhgogICAgY29uZmlybVNldExvZ2lzdGljczogZnVuY3Rpb24gY29uZmlybVNldExvZ2lzdGljcygpIHsKICAgICAgdmFyIF90aGlzMTYgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE2KCkgewogICAgICAgIHZhciByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNiQoX2NvbnRleHQxNikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE2LnByZXYgPSBfY29udGV4dDE2Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDE2Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGZpbGxMb2dpc3RpY3NJbmZvcm1hdGlvbihfdGhpczE2LnNldExvZ2lzdGljc0RhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDE2LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlcy5tZXNzYWdlID09ICLmk43kvZzmiJDlip8iKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMTYuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAi5pON5L2c5oiQ5YqfISIKICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICBfdGhpczE2Ll9nZXRSZXBhaXJPcmRlckRldGFpbCgpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMxNi5jbG9zZVNldExvZ2lzdGljcygpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE2LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxNik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOWFs+mXreiuvue9rueJqea1geahhgogICAgY2xvc2VTZXRMb2dpc3RpY3M6IGZ1bmN0aW9uIGNsb3NlU2V0TG9naXN0aWNzKCkgewogICAgICB0aGlzLnNldExvZ2lzdGljc0RhdGEgPSB7CiAgICAgICAgc3VwcGxpZXJJZDogbnVsbCwKICAgICAgICBzdXBwbGllck5hbWU6IG51bGwKICAgICAgfTsKICAgICAgdGhpcy5tYWludGVuYW5jZVN1cHBsaWVySW5mb1F1ZXJ5ID0gbnVsbDsKICAgICAgdGhpcy5zZXRMb2dpc3RpY3NEaWFsb2dTaG93ID0gZmFsc2U7CiAgICB9LAogICAgLy8g5L6b5bqU5ZWG5pS55Y+Y5pe2CiAgICBjaGFuZ2VTdXBwbGllcjogZnVuY3Rpb24gY2hhbmdlU3VwcGxpZXIoZSkgewogICAgICB2YXIgaW5kZXggPSB0aGlzLnN1cHBsaWVyTGlzdC5maW5kSW5kZXgoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5zdXBwbGllck5hbWUgPT0gZTsKICAgICAgfSk7CiAgICAgIHRoaXMuc2V0TG9naXN0aWNzRGF0YS5zdXBwbGllcklkID0gdGhpcy5zdXBwbGllckxpc3RbaW5kZXhdLmlkOwogICAgfSwKICAgIC8vIOaJk+W8gOiuvue9rueJqea1geahhgogICAgb3BlblNldExvZ2lzdGljczogZnVuY3Rpb24gb3BlblNldExvZ2lzdGljcyhyb3csIG9yZGVyU24pIHsKICAgICAgdmFyIF90aGlzMTcgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE3KCkgewogICAgICAgIHZhciBzdXBwbGllcklkLCBzdXBwbGllck5hbWUsIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE3JChfY29udGV4dDE3KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTcucHJldiA9IF9jb250ZXh0MTcubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzMTcuc2V0TG9naXN0aWNzRGF0YS5vcmRlclNuID0gb3JkZXJTbjsKICAgICAgICAgICAgICAgIF90aGlzMTcuc2V0TG9naXN0aWNzRGF0YS5pZCA9IHJvdy5pZDsKICAgICAgICAgICAgICAgIF90aGlzMTcuc2V0TG9naXN0aWNzRGF0YS5tb2RlbCA9IHJvdy5tb2RlbDsKCiAgICAgICAgICAgICAgICBpZiAocm93LnN1cHBsaWVySWQpIHsKICAgICAgICAgICAgICAgICAgc3VwcGxpZXJJZCA9IHJvdy5zdXBwbGllcklkLCBzdXBwbGllck5hbWUgPSByb3cuc3VwcGxpZXJOYW1lOwogICAgICAgICAgICAgICAgICBfdGhpczE3LnNldExvZ2lzdGljc0RhdGEuc3VwcGxpZXJJZCA9IHN1cHBsaWVySWQ7CiAgICAgICAgICAgICAgICAgIF90aGlzMTcuc2V0TG9naXN0aWNzRGF0YS5zdXBwbGllck5hbWUgPSBzdXBwbGllck5hbWU7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQxNy5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBxdWVyeU1haW50ZW5hbmNlU3VwcGxpZXJJbmZvKCIiKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQxNy5zZW50OwogICAgICAgICAgICAgICAgX3RoaXMxNy5zdXBwbGllckxpc3QgPSByZXMuZGF0YTsKICAgICAgICAgICAgICAgIF90aGlzMTcuc2V0TG9naXN0aWNzRGlhbG9nU2hvdyA9IHRydWU7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTcuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE3KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g56Gu5a6a5paw5aKe5L+u5pS56YWN5Lu2CiAgICBjb25maXJtQWRkRWRpdFBhcnQ6IGZ1bmN0aW9uIGNvbmZpcm1BZGRFZGl0UGFydCgpIHsKICAgICAgdmFyIF90aGlzMTggPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE4KCkgewogICAgICAgIHZhciBkYXRhLCByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxOCQoX2NvbnRleHQxOCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE4LnByZXYgPSBfY29udGV4dDE4Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBkYXRhID0gX29iamVjdFNwcmVhZCh7fSwgX3RoaXMxOC5wYXJ0SW5mbyk7IC8vIGlmIChkYXRhLnN0YXNoUGFydHNXYXkgPT0gMSkgewogICAgICAgICAgICAgICAgLy8gICBkYXRhLmlkID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOwogICAgICAgICAgICAgICAgLy8gfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTgubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gZWRpdFBhcnRQcm9kdWN0KGRhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDE4LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlcy5tZXNzYWdlID09ICLmk43kvZzmiJDlip8iKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMTguJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAi5pON5L2c5oiQ5YqfISIKICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICBfdGhpczE4Ll9nZXRSZXBhaXJPcmRlckRldGFpbCgpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMxOC5jbG9zZUFkZEVkaXRQYXJ0KCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTguc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE4KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g6YCJ5oup6YWN5Lu25p2l5rqQ6Kem5Y+RCiAgICBjaGFuZ2VTdGFzaFBhcnRzV2F5OiBmdW5jdGlvbiBjaGFuZ2VTdGFzaFBhcnRzV2F5KCkgewogICAgICB0aGlzLnBhcnRJbmZvLmJyYW5kID0gIiI7CiAgICAgIHRoaXMucGFydEluZm8uYnJhbmRJZCA9ICIiOwogICAgICB0aGlzLnBhcnRJbmZvLnBhcmFtZXRlciA9ICIiOwogICAgICB0aGlzLnBhcnRJbmZvLm5hbWUgPSAiIjsKICAgICAgdGhpcy5wYXJ0SW5mby5udW1iZXIgPSAiIjsKICAgICAgdGhpcy5wYXJ0SW5mby51bml0SWQgPSAiIjsKICAgICAgdGhpcy5wYXJ0SW5mby5wcmljZSA9ICIiOwogICAgICB0aGlzLnBhcnRJbmZvLnBhcnRJZCA9ICIiOwogICAgfSwKICAgIC8vIOS4iuS8oOmFjeS7tuWbvueJhwogICAgdXBsb2FkUGFydEltZzogZnVuY3Rpb24gdXBsb2FkUGFydEltZyhmaWxlRGF0YSkgewogICAgICB2YXIgX3RoaXMxOSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTkoKSB7CiAgICAgICAgdmFyIGxvYWRpbmcsIGZvcm1EYXRhLCByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxOSQoX2NvbnRleHQxOSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE5LnByZXYgPSBfY29udGV4dDE5Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBsb2FkaW5nID0gX3RoaXMxOS4kbG9hZGluZyh7CiAgICAgICAgICAgICAgICAgIGxvY2s6IHRydWUsCiAgICAgICAgICAgICAgICAgIHRleHQ6ICLlm77niYfkuIrkvKDkuK0uLi4iLAogICAgICAgICAgICAgICAgICBzcGlubmVyOiAiZWwtaWNvbi1sb2FkaW5nIiwKICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogInJnYmEoMCwgMCwgMCwgMC43KSIKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIGxvYWRpbmcuY2xvc2UoKTsKICAgICAgICAgICAgICAgIH0sIDcwMDApOwogICAgICAgICAgICAgICAgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgiZmlsZSIsIGZpbGVEYXRhLmZpbGUpOwogICAgICAgICAgICAgICAgX2NvbnRleHQxOS5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBVcGxvYWRJbWcoZm9ybURhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDE5LnNlbnQ7CiAgICAgICAgICAgICAgICBfdGhpczE5LnBhcnRJbmZvLmltYWdlID0gcmVzLmRhdGE7CiAgICAgICAgICAgICAgICBfdGhpczE5LnVwbG9hZFBhcnRJbWdMaXN0ID0gW3sKICAgICAgICAgICAgICAgICAgdXJsOiByZXMuZGF0YQogICAgICAgICAgICAgICAgfV07CiAgICAgICAgICAgICAgICBsb2FkaW5nLmNsb3NlKCk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE5LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxOSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOWFs+mXremFjeS7tuaWsOWinuS/ruaUueahhgogICAgY2xvc2VBZGRFZGl0UGFydDogZnVuY3Rpb24gY2xvc2VBZGRFZGl0UGFydCgpIHsKICAgICAgdGhpcy5wYXJ0SW5mbyA9IHsKICAgICAgICBzdGFzaFBhcnRzV2F5OiAxLAogICAgICAgIGJyYW5kOiAiIiwKICAgICAgICBicmFuZElkOiAiIiwKICAgICAgICBpbWFnZTogIiIsCiAgICAgICAgbW9kZWw6ICIiLAogICAgICAgIG5hbWU6ICIiLAogICAgICAgIG51bTogIiIsCiAgICAgICAgbnVtYmVyOiAiIiwKICAgICAgICBwYXJhbWV0ZXI6ICIiLAogICAgICAgIHByaWNlOiAiIiwKICAgICAgICB0eXBlOiAiIiwKICAgICAgICBpZDogIiIsCiAgICAgICAgLy/phY3ku7bpoblpZAogICAgICAgIHBhcnRJZDogIiIgLy/phY3ku7ZpZAoKICAgICAgfTsKICAgICAgdGhpcy51cGxvYWRQYXJ0SW1nTGlzdCA9IFtdOwogICAgICB0aGlzLmFkZEVkaXRQYXJ0RGlhbG9nU2hvdyA9IGZhbHNlOwogICAgfSwKICAgIC8vIOehruWumumAieS4reeahOS7k+W6k+mFjeS7tgogICAgY29tZmlybVdhcmVob3VzZVBhcnQ6IGZ1bmN0aW9uIGNvbWZpcm1XYXJlaG91c2VQYXJ0KCkgewogICAgICB2YXIgX3RoaXMkamRQcm9kdWN0TGlzdCR0ID0gdGhpcy5qZFByb2R1Y3RMaXN0W3RoaXMuY2hvb3NlUGFydEluZGV4XSwKICAgICAgICAgIGJyYW5kSWQgPSBfdGhpcyRqZFByb2R1Y3RMaXN0JHQuYnJhbmRJZCwKICAgICAgICAgIGJyYW5kTmFtZSA9IF90aGlzJGpkUHJvZHVjdExpc3QkdC5icmFuZE5hbWUsCiAgICAgICAgICBpZCA9IF90aGlzJGpkUHJvZHVjdExpc3QkdC5pZCwKICAgICAgICAgIG1vZGVsID0gX3RoaXMkamRQcm9kdWN0TGlzdCR0Lm1vZGVsLAogICAgICAgICAgbmFtZSA9IF90aGlzJGpkUHJvZHVjdExpc3QkdC5uYW1lLAogICAgICAgICAgbnVtYmVyID0gX3RoaXMkamRQcm9kdWN0TGlzdCR0Lm51bWJlciwKICAgICAgICAgIHVuaXRJZCA9IF90aGlzJGpkUHJvZHVjdExpc3QkdC51bml0SWQsCiAgICAgICAgICBwcmljZSA9IF90aGlzJGpkUHJvZHVjdExpc3QkdC5wcmljZTsKICAgICAgdGhpcy5wYXJ0SW5mby5icmFuZCA9IGJyYW5kTmFtZTsKICAgICAgdGhpcy5wYXJ0SW5mby5icmFuZElkID0gYnJhbmRJZDsKICAgICAgdGhpcy5wYXJ0SW5mby5wYXJ0SWQgPSBpZDsKICAgICAgdGhpcy5wYXJ0SW5mby5wYXJhbWV0ZXIgPSBtb2RlbDsKICAgICAgdGhpcy5wYXJ0SW5mby5uYW1lID0gbmFtZTsKICAgICAgdGhpcy5wYXJ0SW5mby5udW1iZXIgPSBudW1iZXI7CiAgICAgIHRoaXMucGFydEluZm8udW5pdElkID0gdW5pdElkOwogICAgICB0aGlzLnBhcnRJbmZvLnByaWNlID0gcHJpY2U7CiAgICAgIHRoaXMuY2xvc2VXYXJlaG91c2VTZWFyY2goKTsKICAgIH0sCiAgICAvLyDlhbPpl63ku5PlupPmkJzntKLmoYYKICAgIGNsb3NlV2FyZWhvdXNlU2VhcmNoOiBmdW5jdGlvbiBjbG9zZVdhcmVob3VzZVNlYXJjaCgpIHsKICAgICAgdmFyIF90aGlzMjAgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIwKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjAkKF9jb250ZXh0MjApIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyMC5wcmV2ID0gX2NvbnRleHQyMC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMyMC5xdWVyeUpkUHJvZHVjdExpc3RQYXJhbXMucXVlcnkgPSAiIjsKICAgICAgICAgICAgICAgIF90aGlzMjAuamRQcm9kdWN0TGlzdCA9IFtdOwoKICAgICAgICAgICAgICAgIF90aGlzMjAucXVlcnlKZFByb2R1Y3RMaXN0KCk7CgogICAgICAgICAgICAgICAgX3RoaXMyMC53YXJlaG91c2VTZWFyY2hEaWFsb2dTaG93ID0gZmFsc2U7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjAuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIwKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g5p+l6K+i6YeR6J225LuT5bqT6YWN5Lu2CiAgICBxdWVyeUpkUHJvZHVjdExpc3Q6IGZ1bmN0aW9uIHF1ZXJ5SmRQcm9kdWN0TGlzdCgpIHsKICAgICAgdmFyIF90aGlzMjEgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIxKCkgewogICAgICAgIHZhciByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyMSQoX2NvbnRleHQyMSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIxLnByZXYgPSBfY29udGV4dDIxLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczIxLmNob29zZVBhcnRJbmRleCA9IG51bGw7CiAgICAgICAgICAgICAgICBfY29udGV4dDIxLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIF9xdWVyeUpkUHJvZHVjdExpc3QoX3RoaXMyMS5xdWVyeUpkUHJvZHVjdExpc3RQYXJhbXMpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDIxLnNlbnQ7CiAgICAgICAgICAgICAgICBfdGhpczIxLmpkUHJvZHVjdExpc3QgPSByZXMuZGF0YS5yZWNvcmRzOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIxLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyMSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOaJk+W8gOS7k+W6k+aQnOe0ouahhgogICAgb3BlbldhcmVob3VzZVNlYXJjaDogZnVuY3Rpb24gb3BlbldhcmVob3VzZVNlYXJjaCgpIHsKICAgICAgdGhpcy53YXJlaG91c2VTZWFyY2hEaWFsb2dTaG93ID0gdHJ1ZTsKICAgICAgdGhpcy5xdWVyeUpkUHJvZHVjdExpc3QoKTsKICAgIH0sCiAgICAvLyDmiZPlvIDmlrDlop7kv67mlLnphY3ku7YKICAgIG9wZW5BZGRFZGl0UGFydDogZnVuY3Rpb24gb3BlbkFkZEVkaXRQYXJ0KHJvdywgaW5kZXgsIG9yZGVyU24pIHsKICAgICAgaWYgKGluZGV4IHx8IGluZGV4ID09IDApIHsKICAgICAgICB0aGlzLnBhcnRJbmZvID0gX29iamVjdFNwcmVhZCh7fSwgcm93KTsKICAgICAgICB0aGlzLnVwbG9hZFBhcnRJbWdMaXN0ID0gW3sKICAgICAgICAgIHVybDogcm93LmltYWdlCiAgICAgICAgfV07CiAgICAgICAgdGhpcy5hZGRFZGl0UGFydFRpdGxlID0gIuS/ruaUuemFjeS7tiI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5hZGRFZGl0UGFydFRpdGxlID0gIuaWsOWinumFjeS7tiI7CiAgICAgIH0KCiAgICAgIHRoaXMucGFydEluZm8ub3JkZXJTbiA9IG9yZGVyU247CiAgICAgIHRoaXMuYWRkRWRpdFBhcnREaWFsb2dTaG93ID0gdHJ1ZTsKICAgIH0sCiAgICAvLyDnoa7lrprlr4Tkv64KICAgIGNvbmZpcm1TZW5kcmVwYWlyOiBmdW5jdGlvbiBjb25maXJtU2VuZHJlcGFpcigpIHsKICAgICAgdmFyIF90aGlzMjIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIyKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjIkKF9jb250ZXh0MjIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyMi5wcmV2ID0gX2NvbnRleHQyMi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQyMi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBzZW5kUmVwYWlyKF90aGlzMjIub3JkZXJTbik7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF90aGlzMjIuY2xvc2VPbmVDbGlja1NlbmRyZXBhaXIoKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMjIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDlhbPpl63kuIDplK7lr4Tkv64KICAgIGNsb3NlT25lQ2xpY2tTZW5kcmVwYWlyOiBmdW5jdGlvbiBjbG9zZU9uZUNsaWNrU2VuZHJlcGFpcigpIHsKICAgICAgdGhpcy5vbmVDbGlja1NlbmRyZXBhaXIgPSBmYWxzZTsKICAgIH0sCiAgICAvLyDmiZPlvIDkuIDplK7lr4Tkv64KICAgIG9wZW5PbmVDbGlja1NlbmRyZXBhaXI6IGZ1bmN0aW9uIG9wZW5PbmVDbGlja1NlbmRyZXBhaXIoKSB7CiAgICAgIHRoaXMub25lQ2xpY2tTZW5kcmVwYWlyID0gdHJ1ZTsKICAgIH0sCiAgICAvLyDnoa7lrprlrqHmoLjmlYXpmpzpobnnm64KICAgIGNvbWZpcm1FeGFtaW5lRmF1bHRzOiBmdW5jdGlvbiBjb21maXJtRXhhbWluZUZhdWx0cygpIHsKICAgICAgdmFyIF90aGlzMjMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIzKCkgewogICAgICAgIHZhciByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyMyQoX2NvbnRleHQyMykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIzLnByZXYgPSBfY29udGV4dDIzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShfdGhpczIzLmV4YW1pbmVGYXVsdHNGb3JtLmltYWdlKSkgewogICAgICAgICAgICAgICAgICBfdGhpczIzLmV4YW1pbmVGYXVsdHNGb3JtLmltYWdlID0gSlNPTi5zdHJpbmdpZnkoX3RoaXMyMy5leGFtaW5lRmF1bHRzRm9ybS5pbWFnZSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQyMy5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBleGFtaW5lRmF1bHRJdGVtKF90aGlzMjMuZXhhbWluZUZhdWx0c0Zvcm0pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDIzLnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKCEocmVzLm1lc3NhZ2UgPT0gIuaTjeS9nOaIkOWKnyIpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjMubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczIzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgICBtZXNzYWdlOiAi5pON5L2c5oiQ5YqfISIKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIF9jb250ZXh0MjMubmV4dCA9IDg7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyMy5jbG9zZUV4YW1pbmVGYXVsdHNEaWFsb2coKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgX2NvbnRleHQyMy5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyMy5fZ2V0UmVwYWlyT3JkZXJEZXRhaWwoKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g5YWz6Zet5pWF6Zqc6aG555uu5a6h5qC45qGGCiAgICBjbG9zZUV4YW1pbmVGYXVsdHNEaWFsb2c6IGZ1bmN0aW9uIGNsb3NlRXhhbWluZUZhdWx0c0RpYWxvZygpIHsKICAgICAgdmFyIF90aGlzMjQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTI0KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjQkKF9jb250ZXh0MjQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyNC5wcmV2ID0gX2NvbnRleHQyNC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMyNC5leGFtaW5lRmF1bHRzRm9ybVZpZGVvTGlzdCA9IFtdOwogICAgICAgICAgICAgICAgX3RoaXMyNC5leGFtaW5lRmF1bHRzRm9ybVBpY0xpc3QgPSBbXTsKICAgICAgICAgICAgICAgIF90aGlzMjQuZXhhbWluZUZhdWx0c0Zvcm0gPSB7fTsKICAgICAgICAgICAgICAgIF90aGlzMjQuZXhhbWluZUZhdWx0cyA9IGZhbHNlOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyNCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOaJk+W8gOaVhemanOmhueebruWuoeaguOahhgogICAgb3BlbkV4YW1pbmVGYXVsdHNEaWFsb2c6IGZ1bmN0aW9uIG9wZW5FeGFtaW5lRmF1bHRzRGlhbG9nKHJvdywgb3JkZXJTbikgewogICAgICByb3cuZW50ZXJwcmlzZUNvbnN1bHRBbW91bnQgPSByb3cuYW5udWFsQW1vdW50OwoKICAgICAgaWYgKHJvdy5pbWFnZSkgewogICAgICAgIGlmIChyb3cuaW1hZ2VbMF0pIHsKICAgICAgICAgIHRoaXMuZXhhbWluZUZhdWx0c0Zvcm1QaWNMaXN0ID0gW3sKICAgICAgICAgICAgdXJsOiByb3cuaW1hZ2VbMF0KICAgICAgICAgIH1dOwogICAgICAgIH0KCiAgICAgICAgaWYgKHJvdy5pbWFnZVsxXSkgewogICAgICAgICAgdGhpcy5leGFtaW5lRmF1bHRzRm9ybVZpZGVvTGlzdCA9IFt7CiAgICAgICAgICAgIHVybDogcm93LmltYWdlWzFdCiAgICAgICAgICB9XTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHRoaXMuZXhhbWluZUZhdWx0c0Zvcm0gPSBfb2JqZWN0U3ByZWFkKHt9LCByb3cpOwoKICAgICAgaWYgKEFycmF5LmlzQXJyYXkocm93LmltYWdlKSAmJiByb3cuaW1hZ2UubGVuZ3RoID4gMCkgewogICAgICAgIHRoaXMuZXhhbWluZUZhdWx0c0Zvcm0uaW1hZ2UgPSBfdG9Db25zdW1hYmxlQXJyYXkocm93LmltYWdlKTsKICAgICAgfQoKICAgICAgdGhpcy5leGFtaW5lRmF1bHRzRm9ybS5vcmRlclNuID0gb3JkZXJTbjsKICAgICAgdGhpcy5leGFtaW5lRmF1bHRzID0gdHJ1ZTsKICAgIH0sCiAgICAvLyDliKDpmaTmlYXpmpzpobnnm64KICAgIGRlbFNvbHZlUGxhbjogZnVuY3Rpb24gZGVsU29sdmVQbGFuKHJvdywgb3JkZXJTbikgewogICAgICB2YXIgX3RoaXMyNSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjYoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyNiQoX2NvbnRleHQyNikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDI2LnByZXYgPSBfY29udGV4dDI2Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczI1LiRjb25maXJtKCLmgqjnoa7lrprliKDpmaTor6XmlYXpmpzpobnnm67lkJc/IiwgIuaPkOekuiIsIHsKICAgICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICLnoa7lrpoiLAogICAgICAgICAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAi5Y+W5raIIiwKICAgICAgICAgICAgICAgICAgdHlwZTogIndhcm5pbmciCiAgICAgICAgICAgICAgICB9KS50aGVuKCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjUoKSB7CiAgICAgICAgICAgICAgICAgIHZhciByZXM7CiAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjUkKF9jb250ZXh0MjUpIHsKICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDI1LnByZXYgPSBfY29udGV4dDI1Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJvdy5pZCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyNS5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVsZXRlT3JkZXJGYXVsdEl0ZW0oewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHJvdy5pZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVyU246IG9yZGVyU24KICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDI1LnNlbnQ7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMubWVzc2FnZSA9PSAi5pON5L2c5oiQ5YqfIikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyNS4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogIuWIoOmZpOaIkOWKnyIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjUuX2dldFJlcGFpck9yZGVyRGV0YWlsKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI1LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUyNSk7CiAgICAgICAgICAgICAgICB9KSkpOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI2LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyNik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOS/ruaUueaKpeS7twogICAgZWRpdE9mZmVyUHJpY2U6IGZ1bmN0aW9uIGVkaXRPZmZlclByaWNlKCkgewogICAgICB2YXIgX3RoaXMyNiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjcoKSB7CiAgICAgICAgdmFyIHBhcnRzUHJpY2UsIGZhdWx0c1ByaWNlLCBmYXVsdHNTdHIsIHBhcnRzTGlzdFN0ciwgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjckKF9jb250ZXh0MjcpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyNy5wcmV2ID0gX2NvbnRleHQyNy5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgLy8g6K6h566X5Lu35qC8CiAgICAgICAgICAgICAgICBwYXJ0c1ByaWNlID0gMDsKCiAgICAgICAgICAgICAgICBfdGhpczI2LmRhdGEucGFydHNMaXN0LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgcGFydHNQcmljZSArPSBpdGVtLm51bSAqIGl0ZW0ucHJpY2U7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBfdGhpczI2LmRhdGEucGFydHNBbW91bnQgPSBwYXJ0c1ByaWNlOwogICAgICAgICAgICAgICAgZmF1bHRzUHJpY2UgPSAwOwoKICAgICAgICAgICAgICAgIF90aGlzMjYuZGF0YS5mYXVsdHMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICBmYXVsdHNQcmljZSArPSBOdW1iZXIoaXRlbS5tYXN0ZXJBbW91bnQpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgX3RoaXMyNi5kYXRhLmRvb3JBbW91bnQgPSBmYXVsdHNQcmljZTsKICAgICAgICAgICAgICAgIGZhdWx0c1N0ciA9IEpTT04uc3RyaW5naWZ5KF90aGlzMjYuZGF0YS5mYXVsdHMpOwogICAgICAgICAgICAgICAgcGFydHNMaXN0U3RyID0gSlNPTi5zdHJpbmdpZnkoX3RoaXMyNi5kYXRhLnBhcnRzTGlzdCk7CiAgICAgICAgICAgICAgICBfdGhpczI2LmRhdGEuZmF1bHRzID0gZmF1bHRzU3RyOwogICAgICAgICAgICAgICAgX3RoaXMyNi5kYXRhLnBhcnRzID0gcGFydHNMaXN0U3RyOwogICAgICAgICAgICAgICAgX2NvbnRleHQyNy5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICByZXR1cm4gZWRpdFJlcGFpck9yZGVyKF90aGlzMjYuZGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDI3LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlcy5tZXNzYWdlID09PSAi5pON5L2c5oiQ5YqfIikgewogICAgICAgICAgICAgICAgICBfdGhpczI2Ll9nZXRSZXBhaXJPcmRlckRldGFpbCgpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNy5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMjcpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDliKDpmaTphY3ku7bmqKHlvI8KICAgIGRlbFBhcnRzTGlzdDogZnVuY3Rpb24gZGVsUGFydHNMaXN0KHJvdywgb3JkZXJTbikgewogICAgICB2YXIgX3RoaXMyNyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjkoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyOSQoX2NvbnRleHQyOSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDI5LnByZXYgPSBfY29udGV4dDI5Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczI3LiRjb25maXJtKCLmgqjnoa7lrprliKDpmaTor6XphY3ku7blkJc/IiwgIuaPkOekuiIsIHsKICAgICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICLnoa7lrpoiLAogICAgICAgICAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAi5Y+W5raIIiwKICAgICAgICAgICAgICAgICAgdHlwZTogIndhcm5pbmciCiAgICAgICAgICAgICAgICB9KS50aGVuKCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjgoKSB7CiAgICAgICAgICAgICAgICAgIHZhciByZXM7CiAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjgkKF9jb250ZXh0MjgpIHsKICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDI4LnByZXYgPSBfY29udGV4dDI4Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjgubmV4dCA9IDI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlbGV0ZVBhcnRQcm9kdWN0KHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiByb3cuaWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmRlclNuOiBvcmRlclNuCiAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQyOC5zZW50OwoKICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLm1lc3NhZ2UgPT0gIuaTjeS9nOaIkOWKnyIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjcuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICLliKDpmaTmiJDlip8iCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczI3Ll9nZXRSZXBhaXJPcmRlckRldGFpbCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyOC5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlMjgpOwogICAgICAgICAgICAgICAgfSkpKTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyOS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMjkpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDnoa7lrprlrqHmoLgKICAgIGNvbWZpcm1FeGFtaW5lUGFydHM6IGZ1bmN0aW9uIGNvbWZpcm1FeGFtaW5lUGFydHMoKSB7CiAgICAgIHZhciBfdGhpczI4ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzMCgpIHsKICAgICAgICB2YXIgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMzAkKF9jb250ZXh0MzApIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzMC5wcmV2ID0gX2NvbnRleHQzMC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQzMC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBleGFtaW5lUGFydFByb2R1Y3QoX3RoaXMyOC5leGFtaW5lUGFydHNGb3JtKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQzMC5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXMubWVzc2FnZSA9PT0gIuaTjeS9nOaIkOWKnyIpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyOC4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogcmVzLm1lc3NhZ2UsCiAgICAgICAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiCiAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgX3RoaXMyOC5jbG9zZUV4YW1pbmVQYXJ0c0RpYWxvZygpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMyOC5fZ2V0UmVwYWlyT3JkZXJEZXRhaWwoKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzMC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMzApOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDlhbPpl63phY3ku7blrqHmoLjmoYYKICAgIGNsb3NlRXhhbWluZVBhcnRzRGlhbG9nOiBmdW5jdGlvbiBjbG9zZUV4YW1pbmVQYXJ0c0RpYWxvZygpIHsKICAgICAgdGhpcy5leGFtaW5lUGFydHNGb3JtID0gW107CiAgICAgIHRoaXMuZXhhbWluZVBhcnRzID0gZmFsc2U7CiAgICB9LAogICAgLy8g5omT5byA6YWN5Lu25a6h5qC45qGGCiAgICBvcGVuRXhhbWluZVBhcnRzRGlhbG9nOiBmdW5jdGlvbiBvcGVuRXhhbWluZVBhcnRzRGlhbG9nKHJvdywgb3JkZXJTbikgewogICAgICB2YXIgX3RoaXMyOSA9IHRoaXM7CgogICAgICAvLyBjb25zdCBvYmogPSByb3c7CiAgICAgIC8vIHRoaXMuZXhhbWluZVBhcnRzRm9ybSA9IHsgLi4ub2JqIH07CiAgICAgIC8vIC8vIHRoaXMuZXhhbWluZVBhcnRzRm9ybS5udW1iZXIgPSBudWxsOwogICAgICAvLyB0aGlzLmV4YW1pbmVQYXJ0c0Zvcm0ub3JkZXJTbiA9IHRoaXMub3JkZXJTbjsKICAgICAgLy8gdGhpcy5leGFtaW5lUGFydHMgPSB0cnVlOwogICAgICB0aGlzLiRjb25maXJtKCLnoa7orqTphY3ku7bkv6Hmga/ml6Dor6/vvIzpgJrov4flrqHmoLgiLCAi5a6h5qC46YWN5Lu2IiwgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAi56Gu5a6aIiwKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAi5Y+W5raIIiwKICAgICAgICB0eXBlOiAid2FybmluZyIKICAgICAgfSkudGhlbiggLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMxKCkgewogICAgICAgIHZhciByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzMSQoX2NvbnRleHQzMSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMxLnByZXYgPSBfY29udGV4dDMxLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDMxLm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGV4YW1pbmVQYXJ0UHJvZHVjdCh7CiAgICAgICAgICAgICAgICAgIGlkOiByb3cuaWQsCiAgICAgICAgICAgICAgICAgIG9yZGVyU246IG9yZGVyU24KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDMxLnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlcy5tZXNzYWdlID09ICLmk43kvZzmiJDlip8iKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMjkuX2dldFJlcGFpck9yZGVyRGV0YWlsKCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzEuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMxKTsKICAgICAgfSkpKTsKICAgIH0sCiAgICAvLyDot7PovaznianmtYHor6bmg4UKICAgIGdvVG9Mb2dpc3RpY3NEZXRhaWxzOiBmdW5jdGlvbiBnb1RvTG9naXN0aWNzRGV0YWlscyhwYXJ0SWQsIG1vZGVsLCBvcmRlclNuKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAibG9naXN0aWNzRGV0YWlscyIsCiAgICAgICAgcXVlcnk6IHsKICAgICAgICAgIHBhcnRJZDogcGFydElkLAogICAgICAgICAgbW9kZWw6IG1vZGVsLAogICAgICAgICAgb3JkZXJTbjogb3JkZXJTbgogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8g5Luj5o+Q5Lqk6aqM5pS2CiAgICBzdWJtaXRGb3JBY2NlcHRhbmNlOiBmdW5jdGlvbiBzdWJtaXRGb3JBY2NlcHRhbmNlKG9yZGVyU24pIHsKICAgICAgdmFyIF90aGlzMzAgPSB0aGlzOwoKICAgICAgdGhpcy4kY29uZmlybSgi5oKo56Gu5a6a6KaB5pON5L2c5Luj5o+Q5Lqk6aqM5pS2PyIsICLmj5DnpLoiLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICLnoa7lrpoiLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICLlj5bmtogiLAogICAgICAgIHR5cGU6ICJ3YXJuaW5nIgogICAgICB9KS50aGVuKCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMzIoKSB7CiAgICAgICAgdmFyIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMyJChfY29udGV4dDMyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MzIucHJldiA9IF9jb250ZXh0MzIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MzIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlU3VibWl0QWNjZXB0YW5jZShvcmRlclNuKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQzMi5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXMubWVzc2FnZSA9PT0gIuaTjeS9nOaIkOWKnyIpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMzMC4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogcmVzLm1lc3NhZ2UsCiAgICAgICAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiCiAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgX3RoaXMzMC5fZ2V0UmVwYWlyT3JkZXJEZXRhaWwoKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzMi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMzIpOwogICAgICB9KSkpOwogICAgfSwKICAgIC8vIOehruWumua3u+WKoOWbnuiuv+S/oeaBrwogICAgYWRkUmV0dXJuVmlzdEluZm86IGZ1bmN0aW9uIGFkZFJldHVyblZpc3RJbmZvKCkgewogICAgICB2YXIgX3RoaXMzMSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMzMoKSB7CiAgICAgICAgdmFyIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMzJChfY29udGV4dDMzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MzMucHJldiA9IF9jb250ZXh0MzMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmIChfdGhpczMxLnBsYXRmb3JtVmlzaXRNZXNzYWdlKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MzMubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzMzEuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgICBtZXNzYWdlOiAi5Zue6K6/5L+h5oGv5LiN6IO95Li656m6IiwKICAgICAgICAgICAgICAgICAgdHlwZTogIndhcm5pbmciCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBfY29udGV4dDMzLm5leHQgPSA4OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MzMubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlUmVwYWlyTWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgIG9yZGVyU246IF90aGlzMzEub3JkZXJTbiwKICAgICAgICAgICAgICAgICAgcGxhdGZvcm1WaXNpdE1lc3NhZ2U6IF90aGlzMzEucGxhdGZvcm1WaXNpdE1lc3NhZ2UKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDMzLnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlcy5tZXNzYWdlID09ICLmk43kvZzmiJDlip8iKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMzEuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHJlcy5tZXNzYWdlLAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIgogICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMzEuX2dldFJlcGFpck9yZGVyRGV0YWlsKCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpczMxLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAi572R57uc5LiN5L2z77yM56iN5ZCO6YeN6K+VIiwKICAgICAgICAgICAgICAgICAgICB0eXBlOiAid2FybmluZyIKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g6Lez6L2s5oyH5rS+5biI5YKF6aG16Z2iCiAgICBnb0Fzc2lnbmVkTWFzdGVyUGFnZTogZnVuY3Rpb24gZ29Bc3NpZ25lZE1hc3RlclBhZ2UoKSB7CiAgICAgIHZhciBfdGhpcyRkYXRhID0gdGhpcy5kYXRhLAogICAgICAgICAgb3JkZXJTbiA9IF90aGlzJGRhdGEub3JkZXJTbiwKICAgICAgICAgIG1hc3RlclVpZExpc3QgPSBfdGhpcyRkYXRhLm1hc3RlclVpZExpc3QsCiAgICAgICAgICBtYXN0ZXJOYW1lTGlzdCA9IF90aGlzJGRhdGEubWFzdGVyTmFtZUxpc3Q7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAiL21haW50ZW5hbmNlL2Fzc2lnbmVkV29ya2VyIiwKICAgICAgICBxdWVyeTogewogICAgICAgICAgb3JkZXJTbjogb3JkZXJTbiwKICAgICAgICAgIG1hc3RlclVpZExpc3Q6IG1hc3RlclVpZExpc3QsCiAgICAgICAgICBtYXN0ZXJOYW1lTGlzdDogbWFzdGVyTmFtZUxpc3QKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOWIpOaWreaMh+a0vuaMiemSruaYr+WQpuaYvuekugogICAganVkZ2VBc3NpZ25lZEJ0blNob3c6IGZ1bmN0aW9uIGp1ZGdlQXNzaWduZWRCdG5TaG93KCkgewogICAgICBpZiAodGhpcy5kYXRhLmVudGVycHJpc2VNYWluU3RhdHVzID09PSAxKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmRhdGEuZW50ZXJwcmlzZU1haW5TdGF0dXMgPT09IDApIHsKICAgICAgICBpZiAodGhpcy5kYXRhLnBsYXRmb3JtU3RhdHVzICE9PSAwKSB7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKHRoaXMuZGF0YS5lbnRlcnByaXNlTWFpblN0YXR1cyA9PT0gLTEpIHsKICAgICAgICBpZiAodGhpcy5kYXRhLnBsYXRmb3JtU3RhdHVzID09PSAtMSkgewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgLy8g54K55Ye756Gu5a6a5re75Yqg5o+P6L+wCiAgICBkZXNjQ29uZmlybTogZnVuY3Rpb24gZGVzY0NvbmZpcm0oKSB7CiAgICAgIHZhciBfdGhpczMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzNCgpIHsKICAgICAgICB2YXIgZGF0YSwgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMzQkKF9jb250ZXh0MzQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzNC5wcmV2ID0gX2NvbnRleHQzNC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgY29udGVudDogX3RoaXMzMi5jb250ZW50LAogICAgICAgICAgICAgICAgICBvcmRlclNuOiBfdGhpczMyLmRhdGEub3JkZXJTbgogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MzQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gZWRpdE9yZGVyU2VydmljZVByb2dyZXNzKGRhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDM0LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlcy5tZXNzYWdlID09PSAi5pON5L2c5oiQ5YqfIikgewogICAgICAgICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzNC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMzQpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDngrnlh7vlj5bmtojorqLljZXop6blj5HnmoTml7bpl7QKICAgIGNsaWNrQ2FuY2VsT3JkZXJEaWFsb2c6IGZ1bmN0aW9uIGNsaWNrQ2FuY2VsT3JkZXJEaWFsb2coKSB7CiAgICAgIHRoaXMuY2FuY2VsT3JkZXJEaWFsb2cgPSB0cnVlOwogICAgfSwKICAgIC8vIOWFs+mXreWPlua2iOiuouWNleW8ueeql+eahOaXtumXtAogICAgY2xvc2VjYW5jZWxPcmRlckRpYWxvZzogZnVuY3Rpb24gY2xvc2VjYW5jZWxPcmRlckRpYWxvZygpIHsKICAgICAgdGhpcy5jYW5jZWxPcmRlckRpYWxvZyA9IGZhbHNlOwogICAgICB0aGlzLmRlbE9yZGVyaW5wVmFsdWUgPSAiIjsKICAgIH0sCiAgICAvLyDliKTmlq3phY3ku7bmmI7nu4YKICAgIGp1ZGdlUGFydHM6IGZ1bmN0aW9uIGp1ZGdlUGFydHMoKSB7CiAgICAgIGlmICghdGhpcy5kYXRhLnBhcnRzTGlzdCkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfSBlbHNlIGlmICh0aGlzLmRhdGEucGFydHNMaXN0ICYmIHRoaXMuZGF0YS5wYXJ0c0xpc3QubGVuZ3RoID09PSAwKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CiAgICB9LAogICAgLy8g5Yik5pat5pWF6Zqc6Kej5Yaz5pa55qGICiAgICBqdWRnZUZhdWx0OiBmdW5jdGlvbiBqdWRnZUZhdWx0KCkgewogICAgICBpZiAoIXRoaXMuZGF0YS5wcm9ncmFtbWVMaXN0KSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9IGVsc2UgaWYgKHRoaXMuZGF0YS5wcm9ncmFtbWVMaXN0LmFuYWx5c2lzID09PSB1bmRlZmluZWQgJiYgdGhpcy5kYXRhLnByb2dyYW1tZUxpc3QuZGVzYyA9PT0gdW5kZWZpbmVkICYmIHRoaXMuZGF0YS5wcm9ncmFtbWVMaXN0LnByb2dyYW1tZSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CiAgICB9LAogICAgLy8g5Yik5pat6K6i5Y2V6LS555SoCiAgICBqdWRnZU9yZGVyQ29zdDogZnVuY3Rpb24ganVkZ2VPcmRlckNvc3QoKSB7CiAgICAgIHZhciBfdGhpcyRkYXRhMiA9IHRoaXMuZGF0YSwKICAgICAgICAgIGRvb3JBbW91bnQgPSBfdGhpcyRkYXRhMi5kb29yQW1vdW50LAogICAgICAgICAgdGVjaG5vbG9neUFtb3VudCA9IF90aGlzJGRhdGEyLnRlY2hub2xvZ3lBbW91bnQsCiAgICAgICAgICBwYXJ0c0Ftb3VudCA9IF90aGlzJGRhdGEyLnBhcnRzQW1vdW50LAogICAgICAgICAgb3RoZXJBbW91bnQgPSBfdGhpcyRkYXRhMi5vdGhlckFtb3VudDsKCiAgICAgIGlmIChkb29yQW1vdW50ID09PSAwICYmIHRlY2hub2xvZ3lBbW91bnQgPT09IDAgJiYgb3RoZXJBbW91bnQgPT09IDAgJiBwYXJ0c0Ftb3VudCA9PT0gMCkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgfSwKICAgIC8vIOeCueWHu+WPlua2iOiuouWNleW8ueeql+ehruWumueahOS6i+S7tgogICAgX2NhbmNlbFJlcGFpck9yZGVyOiBmdW5jdGlvbiBfY2FuY2VsUmVwYWlyT3JkZXIoKSB7CiAgICAgIHZhciBfdGhpczMzID0gdGhpczsKCiAgICAgIHZhciBwYXJhbXMgPSB7CiAgICAgICAgb3JkZXJTbjogdGhpcy5vcmRlclNuLAogICAgICAgIGNhbmNlbFJlYXNvbjogdGhpcy5kZWxPcmRlcmlucFZhbHVlCiAgICAgIH07CiAgICAgIGNhbmNlbFJlcGFpck9yZGVyKHBhcmFtcykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcykgewogICAgICAgICAgX3RoaXMzMy4kbWVzc2FnZSh7CiAgICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgICAgICAgICAgbWVzc2FnZTogcmVzLm1lc3NhZ2UsCiAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIgogICAgICAgICAgfSk7CgogICAgICAgICAgX3RoaXMzMy4kcm91dGVyLnB1c2goIi9tYWludGVuYW5jZS9tYWludGVuYW5jZV9vcmRlciIpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8g5pqC5pe25LiN55+l6YGT5bmy5ZibISEhISEKICAgIGNoYW5nZVN0dXRhOiBmdW5jdGlvbiBjaGFuZ2VTdHV0YShlKSB7CiAgICAgIGlmIChlLnZhbHVlID09IDEpIHsKICAgICAgICB0aGlzLnN0YXR1cyA9IDI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zdGF0dXMgPSAzOwogICAgICB9CiAgICB9LAogICAgLy8g5rKh55So5YiwCiAgICBzcnVlQWNjb21vbnQ6IGZ1bmN0aW9uIHNydWVBY2NvbW9udCgpIHsKICAgICAgdGhpcy4kcmVmcy5xdW90YXRpb25Gb3JtLm9wZW4oKTsKICAgIH0sCiAgICAvLyDngrnlh7vmiZPmrL7oh7PluIjlgoXop6blj5HnmoTkuovku7YKICAgIF9oYW5kbGVNYXN0ZXJQYXltZW50OiBmdW5jdGlvbiBfaGFuZGxlTWFzdGVyUGF5bWVudCgpIHsKICAgICAgdmFyIF90aGlzMzQgPSB0aGlzOwoKICAgICAgdmFyIHBhcmFtcyA9IHsKICAgICAgICBvcmRlclNuOiB0aGlzLm9yZGVyU24KICAgICAgfTsKICAgICAgaGFuZGxlTWFzdGVyUGF5bWVudChwYXJhbXMpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMpIHsKICAgICAgICAgIF90aGlzMzQuJG1lc3NhZ2UoewogICAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICAgIG1lc3NhZ2U6IHJlcy5tZXNzYWdlLAogICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8g54K55Ye756Gu5a6a5oql5Lu36Kem5Y+R55qE5LqL5Lu2CiAgICBzdW1iaXRRdW90YXRpb246IGZ1bmN0aW9uIHN1bWJpdFF1b3RhdGlvbihvcmRlclNuKSB7CiAgICAgIHZhciBfdGhpczM1ID0gdGhpczsKCiAgICAgIHRoaXMuJGNvbmZpcm0oIuehruiupOWumuS7t+aXoOivrz8iLCAi5o+Q56S6IiwgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAi56Gu5a6aIiwKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAi5Y+W5raIIiwKICAgICAgICB0eXBlOiAid2FybmluZyIKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGxvYWRpbmcgPSBfdGhpczM1LiRsb2FkaW5nKHsKICAgICAgICAgIGxvY2s6IHRydWUsCiAgICAgICAgICB0ZXh0OiAiTG9hZGluZyIsCiAgICAgICAgICBzcGlubmVyOiAiZWwtaWNvbi1sb2FkaW5nIiwKICAgICAgICAgIGJhY2tncm91bmQ6ICJyZ2JhKDAsIDAsIDAsIDAuNykiCiAgICAgICAgfSk7CgogICAgICAgIHZhciBkYXRhID0gewogICAgICAgICAgb3JkZXJTbjogb3JkZXJTbiwKICAgICAgICAgIHN0YXR1czogMiwKICAgICAgICAgIHJlamVjdFJlYXNvbjogIiIKICAgICAgICB9OwogICAgICAgIGV4YW1pbmVNYXN0ZXJRdW90YXRpb24oZGF0YSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBsb2FkaW5nLmNsb3NlKCk7CgogICAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICAgIF90aGlzMzUuJG1lc3NhZ2UoewogICAgICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgICAgICAgICAgICBtZXNzYWdlOiByZXMubWVzc2FnZSwKICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBfdGhpczM1LiRyb3V0ZXIucHVzaCgiL21haW50ZW5hbmNlL21haW50ZW5hbmNlX29yZGVyIik7CiAgICAgICAgICB9CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgICAgbG9hZGluZy5jbG9zZSgpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICAvLyBpbml0KCkgewogICAgLy8gICB0aGlzLiRheGlvcwogICAgLy8gICAgIC5nZXQoCiAgICAvLyAgICAgICAiL2FkbWluL21haW50ZW5hbmNlL2dldFJlcGFpck9yZGVyRGV0YWlsP2VudGVycHJpc2VPcmRlclNuPSIgKwogICAgLy8gICAgICAgICBsb2NhdGlvbi5oYXNoLnNwbGl0KCI/ZW50ZXJwcmlzZU9yZGVyU249IilbMV0KICAgIC8vICAgICApCiAgICAvLyAgICAgLnRoZW4oKHsgZGF0YSB9KSA9PiB7CiAgICAvLyAgICAgICB0aGlzLmRhdGEgPSBkYXRhOwogICAgLy8gICAgIH0pCiAgICAvLyAgICAgLmNhdGNoKGVyciA9PiB7CiAgICAvLyAgICAgICBjb25zb2xlLmVycm9yKGVycik7CiAgICAvLyAgICAgfSk7CiAgICAvLyB9LAogICAgLy8g5pi+56S65LyB5Lia5oql5Lu35by55qGGCiAgICAvLyDmsqHnlKjliLAKICAgIHF1b3RhdGlvbkluaXQ6IGZ1bmN0aW9uIHF1b3RhdGlvbkluaXQoKSB7CiAgICAgIHRoaXMucXVvdGF0aW9uRm9ybSA9IHsKICAgICAgICBlbnRlcnByaXNlT3JkZXJTbjogdGhpcy5kYXRhLm9yZGVyU24sCiAgICAgICAgc3RhdHVzOiAiMCIKICAgICAgfTsKICAgICAgdGhpcy4kcmVmcy5xdW90YXRpb25Gb3JtLm9wZW4oKTsKICAgIH0sCiAgICAvLyBzdW1iaXRRdW90YXRpb24oZm4pIHsKICAgIC8vICAgaWYgKAogICAgLy8gICAgIHRoaXMucXVvdGF0aW9uRm9ybS5zdGF0dXMgPT0gIjAiICYmCiAgICAvLyAgICAgIXRoaXMucXVvdGF0aW9uRm9ybS5yZWplY3RSZWFzb24KICAgIC8vICAgKSB7CiAgICAvLyAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi6K+36L6T5YWl6amz5Zue5Y6f5ZugIik7CiAgICAvLyAgICAgcmV0dXJuOwogICAgLy8gICB9CiAgICAvLyAgIHRoaXMuJGF4aW9zCiAgICAvLyAgICAgLnBvc3QodGhpcy51cmwuaGFuZGxlTWFzdGVyUXVvdGF0aW9uLCB0aGlzLnF1b3RhdGlvbkZvcm0pCiAgICAvLyAgICAgLnRoZW4oZGF0YSA9PiB7CiAgICAvLyAgICAgICBpZiAoZGF0YS5jb2RlID09ICIwMDAiKSB7CiAgICAvLyAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgLy8gICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgIC8vICAgICAgICAgICBtZXNzYWdlOiBkYXRhLm1lc3NhZ2UsCiAgICAvLyAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiCiAgICAvLyAgICAgICAgIH0pOwogICAgLy8gICAgICAgICB0aGlzLnJlc2V0UXVvdGF0aW9uRm9ybShmbik7CiAgICAvLyAgICAgICB9CiAgICAvLyAgICAgfSkKICAgIC8vICAgICAuY2F0Y2goZXJyID0+IHsKICAgIC8vICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTsKICAgIC8vICAgICB9KTsKICAgIC8vIH0sCiAgICAvLyDlhbPpl63noa7orqTmiqXku7fnmoTmqKHmgIHmoYbnmoTkuovku7YKICAgIHJlc2V0UXVvdGF0aW9uRm9ybTogZnVuY3Rpb24gcmVzZXRRdW90YXRpb25Gb3JtKGZuKSB7CiAgICAgIHRoaXMuX2dldFJlcGFpck9yZGVyRGV0YWlsKCk7CgogICAgICBmbihmYWxzZSk7CiAgICB9LAogICAgLy8g54K55Ye75qOA5rWL5a6a5Lu36Kem5Y+R55qE5LqL5Lu2CiAgICBqdW1wMmNoZWNrOiBmdW5jdGlvbiBqdW1wMmNoZWNrKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogImNoZWNrUHJpY2luZyIsCiAgICAgICAgcXVlcnk6IHsKICAgICAgICAgIG9yZGVyU246IHRoaXMuZGF0YS5vcmRlclNuLAogICAgICAgICAgZWRpdDogdHJ1ZQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8g5rKh55So6L+HCiAgICBwYXk6IGZ1bmN0aW9uIHBheSgpIHsKICAgICAgdmFyIF90aGlzMzYgPSB0aGlzOwoKICAgICAgdGhpcy4kYXhpb3MucG9zdCh0aGlzLnVybC5oYW5kbGVDb25maXJtRGVwb3NpdCwgewogICAgICAgIGVudGVycHJpc2VPcmRlclNuOiBsb2NhdGlvbi5oYXNoLnNwbGl0KCI/ZW50ZXJwcmlzZU9yZGVyU249IilbMV0sCiAgICAgICAgLy8gdHlwZSAoaW50ZWdlciwgb3B0aW9uYWwpOiDnsbvlnos6IDEg5a6a6YeRIDIg5bC+5qy+CiAgICAgICAgdHlwZTogdGhpcy5kYXRhLmVudGVycHJpc2VTdWJTdGF0dXMgPT0gMjMwNSA/IDEgOiAyCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICBpZiAoZGF0YS5jb2RlID09ICIwMDAiKSB7CiAgICAgICAgICBfdGhpczM2LiRtZXNzYWdlKHsKICAgICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgICAgICBtZXNzYWdlOiBkYXRhLm1lc3NhZ2UsCiAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIgogICAgICAgICAgfSk7CgogICAgICAgICAgX3RoaXMzNi5fZ2V0UmVwYWlyT3JkZXJEZXRhaWwoKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBjb25zb2xlLmVycm9yKGVycik7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOaYvuekuuS8geS4muaKpeS7t+W8ueahhgogICAgY2hlY2tJbml0OiBmdW5jdGlvbiBjaGVja0luaXQoKSB7CiAgICAgIHRoaXMuY2hlY2tGb3JtID0gewogICAgICAgIGVudGVycHJpc2VPcmRlclNuOiB0aGlzLmRhdGEub3JkZXJTbiwKICAgICAgICBzdGF0dXM6ICIwIgogICAgICB9OwogICAgICB0aGlzLiRyZWZzLmNoZWNrRm9ybS5vcGVuKCk7CiAgICB9LAogICAgLy8g56Gu6K6k6aqM5pS255qE5qih5oCB5qGG56Gu5a6a55qE5LqL5Lu2CiAgICBzdW1iaXRDaGVjazogZnVuY3Rpb24gc3VtYml0Q2hlY2soZm4pIHsKICAgICAgdmFyIF90aGlzMzcgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuY2hlY2tGb3JtLnN0YXR1cyA9PSAiMCIgJiYgIXRoaXMuY2hlY2tGb3JtLnJlamVjdFJlYXNvbikgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuivt+i+k+WFpemps+WbnuWOn+WboCIpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy4kYXhpb3MucG9zdCh0aGlzLnVybC5oYW5kbGVFbnRlcnByaXNlQ2hlY2ssIHRoaXMuY2hlY2tGb3JtKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgaWYgKGRhdGEuY29kZSA9PSAiMDAwIikgewogICAgICAgICAgX3RoaXMzNy4kbWVzc2FnZSh7CiAgICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgICAgICAgICAgbWVzc2FnZTogZGF0YS5tZXNzYWdlLAogICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIKICAgICAgICAgIH0pOwoKICAgICAgICAgIF90aGlzMzcucmVzZXRDaGVja0Zvcm0oZm4pOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g56Gu6K6k6aqM5pS255qE5qih5oCB5qGG5YWz6Zet55qE5LqL5Lu2CiAgICByZXNldENoZWNrRm9ybTogZnVuY3Rpb24gcmVzZXRDaGVja0Zvcm0oZm4pIHsKICAgICAgdGhpcy5fZ2V0UmVwYWlyT3JkZXJEZXRhaWwoKTsKCiAgICAgIGZuKGZhbHNlKTsKICAgIH0sCiAgICBoYW5kbGVDb25maXJtRGVwb3NpdFRvTWFzdGVyOiBmdW5jdGlvbiBoYW5kbGVDb25maXJtRGVwb3NpdFRvTWFzdGVyKGZuKSB7CiAgICAgIHZhciBfdGhpczM4ID0gdGhpczsKCiAgICAgIHRoaXMuJGF4aW9zLnBvc3QodGhpcy51cmwuaGFuZGxlQ29uZmlybURlcG9zaXRUb01hc3RlciwgewogICAgICAgIGVudGVycHJpc2VPcmRlclNuOiBsb2NhdGlvbi5oYXNoLnNwbGl0KCI/ZW50ZXJwcmlzZU9yZGVyU249IilbMV0sCiAgICAgICAgdHlwZTogdGhpcy5kYXRhLmVudGVycHJpc2VTdWJTdGF0dXMgPT0gIjIzMDYiID8gMSA6IDIKICAgICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIGlmIChkYXRhLmNvZGUgPT0gIjAwMCIpIHsKICAgICAgICAgIF90aGlzMzguJG1lc3NhZ2UoewogICAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICAgIG1lc3NhZ2U6IGRhdGEubWVzc2FnZSwKICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiCiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIF90aGlzMzgucmVzZXRQbGF0Zm9ybVBheShmbik7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBjb25zb2xlLmVycm9yKGVycik7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOayoeeUqOWIsAogICAgcGxhdGZvcm1QYXlJbml0OiBmdW5jdGlvbiBwbGF0Zm9ybVBheUluaXQoKSB7CiAgICAgIGlmICh0aGlzLmRhdGEuZW50ZXJwcmlzZVN1YlN0YXR1cyAhPSAiMjUwMiIpIHsKICAgICAgICB0aGlzLiRyZWZzLnBsYXRmb3JtLm9wZW4oKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmhhbmRsZUNvbmZpcm1EZXBvc2l0VG9NYXN0ZXIoKTsKICAgICAgfQogICAgfSwKICAgIC8vIOaJk+asvuS/oeaBr+eahOaooeaAgeahhuehruWumueahOS6i+S7tgogICAgc3VtYml0UGxhdGZvcm1QYXk6IGZ1bmN0aW9uIHN1bWJpdFBsYXRmb3JtUGF5KGZuKSB7CiAgICAgIGlmICh0aGlzLmRhdGEuZW50ZXJwcmlzZVN1YlN0YXR1cyA9PSAiMjYwMSIpIHsKICAgICAgICB0aGlzLnJlbWl0KGZuKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmhhbmRsZUNvbmZpcm1EZXBvc2l0VG9NYXN0ZXIoZm4pOwogICAgICB9CiAgICB9LAogICAgLy8g5omT5qy+5L+h5oGv55qE5qih5oCB5qGG56Gu5a6a55qE5LqL5Lu2CiAgICByZW1pdDogZnVuY3Rpb24gcmVtaXQoZm4pIHsKICAgICAgdmFyIF90aGlzMzkgPSB0aGlzOwoKICAgICAgdGhpcy4kYXhpb3MucG9zdCh0aGlzLnVybC5oYW5kbGVDb25maXJtQmFsYW5jZVRvTWFzdGVyLCB7CiAgICAgICAgZW50ZXJwcmlzZU9yZGVyU246IGxvY2F0aW9uLmhhc2guc3BsaXQoIj9lbnRlcnByaXNlT3JkZXJTbj0iKVsxXQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgaWYgKGRhdGEuY29kZSA9PSAiMDAwIikgewogICAgICAgICAgX3RoaXMzOS4kbWVzc2FnZSh7CiAgICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgICAgICAgICAgbWVzc2FnZTogZGF0YS5tZXNzYWdlLAogICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIKICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgX3RoaXMzOS5yZXNldFBsYXRmb3JtUGF5KGZuKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTsKICAgICAgfSk7CiAgICB9LAogICAgcmVzZXRQbGF0Zm9ybVBheTogZnVuY3Rpb24gcmVzZXRQbGF0Zm9ybVBheShmbikgewogICAgICB0aGlzLl9nZXRSZXBhaXJPcmRlckRldGFpbCgpOwoKICAgICAgZm4oZmFsc2UpOwogICAgfSwKICAgIF9nZXRSZXBhaXJPcmRlckRldGFpbDogZnVuY3Rpb24gX2dldFJlcGFpck9yZGVyRGV0YWlsKCkgewogICAgICB2YXIgX3RoaXM0MCA9IHRoaXM7CgogICAgICB2YXIgcGFyYW1zID0gewogICAgICAgIGVudGVycHJpc2VPcmRlclNuOiB0aGlzLm9yZGVyU24KICAgICAgfTsKICAgICAgZ2V0UmVwYWlyT3JkZXJEZXRhaWwocGFyYW1zKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsKICAgICAgICAgIHZhciBfcmVzJGRhdGEkZmF1bHRzLCBfcmVzJGRhdGEkcmVwYWlyQ29tbWU7CgogICAgICAgICAgLy8g5Li65LqG5a6e546w5aSa5Liq5biI5YKF5piO57uGCiAgICAgICAgICBpZiAocmVzLmRhdGEuZW5yb2xsUmVwYWlyT3JkZXJPdXRMaXN0KSB7CiAgICAgICAgICAgIHJlcy5kYXRhLmVucm9sbFJlcGFpck9yZGVyT3V0TGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgLy8g5Zue5pi+5pWF6Zqc6aG5CiAgICAgICAgICAgICAgaWYgKGl0ZW0uZmF1bHRzKSB7CiAgICAgICAgICAgICAgICB2YXIgX2l0ZW0kZmF1bHRzOwoKICAgICAgICAgICAgICAgIGl0ZW0uZmF1bHRzID0gSlNPTi5wYXJzZShpdGVtLmZhdWx0cyk7CgogICAgICAgICAgICAgICAgaWYgKCgoX2l0ZW0kZmF1bHRzID0gaXRlbS5mYXVsdHMpID09PSBudWxsIHx8IF9pdGVtJGZhdWx0cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2l0ZW0kZmF1bHRzLmxlbmd0aCkgPiAwKSB7CiAgICAgICAgICAgICAgICAgIGl0ZW0uZmF1bHRzLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0xKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBpdGVtMS5pbWFnZSA9PSAic3RyaW5nIikgewogICAgICAgICAgICAgICAgICAgICAgaXRlbTEuaW1hZ2UgPSBKU09OLnBhcnNlKGl0ZW0xLmltYWdlKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0gLy8g5Zue5pi+6YWN5Lu2CgoKICAgICAgICAgICAgICBpZiAoaXRlbS5wYXJ0cykgewogICAgICAgICAgICAgICAgaXRlbS5wYXJ0cyA9IEpTT04ucGFyc2UoaXRlbS5wYXJ0cyk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXMuZGF0YS5mYXVsdHMgPSBKU09OLnBhcnNlKHJlcy5kYXRhLmZhdWx0cyk7CgogICAgICAgICAgaWYgKCgoX3JlcyRkYXRhJGZhdWx0cyA9IHJlcy5kYXRhLmZhdWx0cykgPT09IG51bGwgfHwgX3JlcyRkYXRhJGZhdWx0cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3JlcyRkYXRhJGZhdWx0cy5sZW5ndGgpID4gMCkgewogICAgICAgICAgICByZXMuZGF0YS5mYXVsdHMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgIGlmICh0eXBlb2YgaXRlbS5pbWFnZSA9PSAic3RyaW5nIikgewogICAgICAgICAgICAgICAgaXRlbS5pbWFnZSA9IEpTT04ucGFyc2UoaXRlbS5pbWFnZSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gLy8g5Yik5pat5LiA6ZSu5a+E5L+uCgoKICAgICAgICAgIGlmIChyZXMuZGF0YS5wYXJ0c0xpc3QpIHsKICAgICAgICAgICAgcmVzLmRhdGEucGFydHNMaXN0LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAvLyDlkIzml7bmnInlpJblj5HlkozlubPlj7AKICAgICAgICAgICAgICBpZiAoaXRlbS5tb2RlbCA9PSAxICYmIGl0ZW0udHlwZSA9PSAyKSB7CiAgICAgICAgICAgICAgICBfdGhpczQwLnBhcnRJdGVtU2VuZCA9IHRydWU7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KCiAgICAgICAgICBfdGhpczQwLmRhdGEgPSByZXMuZGF0YTsKCiAgICAgICAgICBpZiAocmVzLmRhdGEgJiYgKF9yZXMkZGF0YSRyZXBhaXJDb21tZSA9IHJlcy5kYXRhLnJlcGFpckNvbW1lbnQpICE9PSBudWxsICYmIF9yZXMkZGF0YSRyZXBhaXJDb21tZSAhPT0gdm9pZCAwICYmIF9yZXMkZGF0YSRyZXBhaXJDb21tZS5pbWFnZXMpIHsKICAgICAgICAgICAgX3RoaXM0MC5yZXBhaXJDb21tZW50SW1hZ2UgPSBfdGhpczQwLmRhdGEucmVwYWlyQ29tbWVudC5pbWFnZXMuc3BsaXQoIiwiKTsKICAgICAgICAgIH0KCiAgICAgICAgICBfdGhpczQwLiRtZXNzYWdlKHsKICAgICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgICAgICBtZXNzYWdlOiByZXMubWVzc2FnZSwKICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTs="},null]}