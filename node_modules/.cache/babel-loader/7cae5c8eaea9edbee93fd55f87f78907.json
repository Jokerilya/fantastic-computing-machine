{"remainingRequest":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\thread-loader\\dist\\cjs.js!D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\babel-loader\\lib\\index.js!D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\机将公司\\机将后台端\\background-management-system\\src\\views\\maintenance\\maintenance_order_desc.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\机将公司\\机将后台端\\background-management-system\\src\\views\\maintenance\\maintenance_order_desc.vue","mtime":1713937077798},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJEOi9cdTY3M0FcdTVDMDZcdTUxNkNcdTUzRjgvXHU2NzNBXHU1QzA2XHU1NDBFXHU1M0YwXHU3QUVGL2JhY2tncm91bmQtbWFuYWdlbWVudC1zeXN0ZW0vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovXHU2NzNBXHU1QzA2XHU1MTZDXHU1M0Y4L1x1NjczQVx1NUMwNlx1NTQwRVx1NTNGMFx1N0FFRi9iYWNrZ3JvdW5kLW1hbmFnZW1lbnQtc3lzdGVtL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L1x1NjczQVx1NUMwNlx1NTE2Q1x1NTNGOC9cdTY3M0FcdTVDMDZcdTU0MEVcdTUzRjBcdTdBRUYvYmFja2dyb3VuZC1tYW5hZ2VtZW50LXN5c3RlbS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBnZXRSZXBhaXJPcmRlckRldGFpbCB9IGZyb20gIkAvYXBpL3VzZXIuanMiOwppbXBvcnQgeyBtYXJrT3JkZXJDb21wbGV0aW9uIGFzIF9tYXJrT3JkZXJDb21wbGV0aW9uLCBkZWxldGVPcmRlckZhdWx0SXRlbSwgaGFuZGxlU3VibWl0QWNjZXB0YW5jZSwgZWRpdE9yZGVyU2VydmljZVByb2dyZXNzLCBleGFtaW5lTWFzdGVyUXVvdGF0aW9uLCBoYW5kbGVNYXN0ZXJQYXltZW50LCBjYW5jZWxSZXBhaXJPcmRlciwgaGFuZGxlUmVwYWlyTWVzc2FnZSwgZXhhbWluZVBhcnRQcm9kdWN0LCBlZGl0UmVwYWlyT3JkZXIsIGV4YW1pbmVGYXVsdEl0ZW0sIHNlbmRSZXBhaXIsIHF1ZXJ5SmRQcm9kdWN0TGlzdCBhcyBfcXVlcnlKZFByb2R1Y3RMaXN0LCBlZGl0UGFydFByb2R1Y3QsIGRlbGV0ZVBhcnRQcm9kdWN0LCBxdWVyeU1haW50ZW5hbmNlU3VwcGxpZXJJbmZvLCBmaWxsTG9naXN0aWNzSW5mb3JtYXRpb24sIGhhbmRsZU1hc3RlckFtb3VudCwgcXVlcnlGYXVsdEl0ZW1zIGFzIF9xdWVyeUZhdWx0SXRlbXMsIGFkZE9yZGVyRmF1bHRJdGVtLCBjb25zdWx0Q29zdCwgaGFuZGxlU3lzdGVtQ3JlYXRlT3JkZXIgYXMgX2hhbmRsZVN5c3RlbUNyZWF0ZU9yZGVyLCBoYW5kbGVFbnRlcnByaXNlQ2hlY2sgYXMgX2hhbmRsZUVudGVycHJpc2VDaGVjaywgaGFuZGxlRmF1bHRDb3N0IH0gZnJvbSAiQC9hcGkvb3JkZXIuanMiOwppbXBvcnQgeyBVcGxvYWRJbWcgfSBmcm9tICJAL2FwaS9zeXN0ZW0uanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgdGl0bGU6ICJtYWludGVuYW5jZV9vcmRlcl9kZXNjIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZmF1bHREZXJhdGVQcmljZVZpc2libGU6IGZhbHNlLAogICAgICBmYXVsdERlcmF0ZVByaWNlUGFyYW1zOiB7CiAgICAgICAgYW1vdW50OiBudWxsLAogICAgICAgIG9yZGVyU246IG51bGwKICAgICAgfSwKICAgICAgY29uc3VsdENvc3RSdWxlczogewogICAgICAgIHR5cGU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fpgInmi6nmtLvliqjotYTmupAiLAogICAgICAgICAgdHJpZ2dlcjogImNoYW5nZSIKICAgICAgICB9XSwKICAgICAgICBhbW91bnQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fpgInmi6nmtLvliqjljLrln58iLAogICAgICAgICAgdHJpZ2dlcjogImNoYW5nZSIKICAgICAgICB9XQogICAgICB9LAogICAgICBjb25zdWx0Q29zdFBhcmFtczogewogICAgICAgIG9yZGVyU246IG51bGwsCiAgICAgICAgYW1vdW50OiBudWxsLAogICAgICAgIHJlbWFya3M6IG51bGwsCiAgICAgICAgdHlwZTogbnVsbAogICAgICB9LAogICAgICBjb25zdWx0UHJpY2VWaXNpYmxlOiBmYWxzZSwKICAgICAgZXhhbWluZUZhdWx0c0Zvcm1WaWRlb0xpc3Q6IFtdLAogICAgICBleGFtaW5lRmF1bHRzRm9ybVBpY0xpc3Q6IFtdLAogICAgICBjaG9vc2VGYXVsdEl0ZW1WYWw6IHt9LAogICAgICBxdWVyeUZhdWx0SXRlbXNQYXJhbXM6IHsKICAgICAgICBwYWdlTm86IDEsCiAgICAgICAgcGFnZVNpemU6IDEwLAogICAgICAgIHF1ZXJ5OiBudWxsCiAgICAgIH0sCiAgICAgIGZhdWx0SXRlbVBhZ2VzOiBudWxsLAogICAgICBmYXVsdEl0ZW1Ub3RhbDogbnVsbCwKICAgICAgZmF1bHRJdGVtTGlzdDogW10sCiAgICAgIGFkZEZhdWx0VmlzaWJsZTogZmFsc2UsCiAgICAgIGVkaXRCYWRQaXJjZURhdGE6IHsKICAgICAgICBvcGVyYXRlVHlwZTogIiIsCiAgICAgICAgYW1vdW50OiAiIiwKICAgICAgICBvcmRlclNuOiAiIgogICAgICB9LAogICAgICBlZGl0QmFkUGlyY2VTaG93OiBmYWxzZSwKICAgICAgLy/kv67mlLnlt67or4TlvLnmoYYKICAgICAgcGFydEl0ZW1TZW5kOiBmYWxzZSwKICAgICAgYWRkRWRpdFBhcnRUaXRsZTogIuaWsOWinumFjeS7tiIsCiAgICAgIHNldExvZ2lzdGljc0RhdGE6IHsKICAgICAgICBzdXBwbGllcklkOiBudWxsLAogICAgICAgIHN1cHBsaWVyTmFtZTogbnVsbAogICAgICB9LAogICAgICBzdXBwbGllckxpc3Q6IFtdLAogICAgICBzZXRMb2dpc3RpY3NEaWFsb2dTaG93OiBmYWxzZSwKICAgICAgbWFpbnRlbmFuY2VTdXBwbGllckluZm9RdWVyeTogbnVsbCwKICAgICAgdXBsb2FkUGFydEltZ0xpc3Q6IFtdLAogICAgICBzZWFyY2hQYXJ0UXVlcnk6IG51bGwsCiAgICAgIGNob29zZVBhcnRJbmRleDogbnVsbCwKICAgICAgLy/pgInkuK3phY3ku7bnmoTkuIvmoIcKICAgICAgamRQcm9kdWN0TGlzdDogW10sCiAgICAgIHdhcmVob3VzZVNlYXJjaERpYWxvZ1Nob3c6IGZhbHNlLAogICAgICBwYXJ0SW5mbzogewogICAgICAgIHJlbWFya3M6IG51bGwsCiAgICAgICAgc3Rhc2hQYXJ0c1dheTogMSwKICAgICAgICAvL+m7mOiupOaWsOWinumFjeS7tgogICAgICAgIGJyYW5kOiAiIiwKICAgICAgICBicmFuZElkOiAiIiwKICAgICAgICBpbWFnZTogIiIsCiAgICAgICAgbW9kZWw6ICIiLAogICAgICAgIG5hbWU6ICIiLAogICAgICAgIG51bTogIiIsCiAgICAgICAgbnVtYmVyOiAiIiwKICAgICAgICBwYXJhbWV0ZXI6ICIiLAogICAgICAgIHByaWNlOiAiIiwKICAgICAgICB0eXBlOiAiIiwKICAgICAgICBpZDogIiIsCiAgICAgICAgcGFydElkOiAiIgogICAgICB9LAogICAgICBhZGRFZGl0UGFydERpYWxvZ1Nob3c6IGZhbHNlLAogICAgICBvbmVDbGlja1NlbmRyZXBhaXI6IGZhbHNlLAogICAgICBtYXJrVHJ1blRleHQ6IFsi6Z2e5bi45LiN5ruh5oSPIiwgIuS4jea7oeaEjyIsICLkuIDoiKwiLCAi5ruh5oSPIiwgIumdnuW4uOa7oeaEjyJdLAogICAgICBleGFtaW5lRmF1bHRzRm9ybToge30sCiAgICAgIGV4YW1pbmVGYXVsdHM6IGZhbHNlLAogICAgICBleGFtaW5lUGFydHNGb3JtOiB7fSwKICAgICAgZXhhbWluZVBhcnRzOiBmYWxzZSwKICAgICAgcGxhdGZvcm1WaXNpdE1lc3NhZ2U6ICIiLAogICAgICByZXBhaXJDb21tZW50SW1hZ2U6IG51bGwsCiAgICAgIGNvbnRlbnQ6ICIiLAogICAgICAvLyDlj5bmtojorqLljZUKICAgICAgZGVsT3JkZXJpbnBWYWx1ZTogIiIsCiAgICAgIGNhbmNlbE9yZGVyRGlhbG9nOiBmYWxzZSwKICAgICAgb3JkZXJTbjogIiIsCiAgICAgIGRhdGE6IHt9LAogICAgICBhY3RpdmVOYW1lOiAiZGVzYyIsCiAgICAgIHN0YXR1czogIiIsCiAgICAgIHVybDogewogICAgICAgIGhhbmRsZU1hc3RlclF1b3RhdGlvbjogIi9hZG1pbi9tYWludGVuYW5jZS9oYW5kbGVNYXN0ZXJRdW90YXRpb24iLAogICAgICAgIC8vIOS8geS4muehruiupOaKpeS7twogICAgICAgIGhhbmRsZUNvbmZpcm1EZXBvc2l0OiAiL2FkbWluL21haW50ZW5hbmNlL2hhbmRsZUNvbmZpcm1EZXBvc2l0IiwKICAgICAgICAvLyDkvIHkuJrnoa7orqTmlK/ku5jlrprph5Ev5bC+5qy+CiAgICAgICAgaGFuZGxlRW50ZXJwcmlzZUNoZWNrOiAiL2FkbWluL21haW50ZW5hbmNlL2hhbmRsZUVudGVycHJpc2VDaGVjayIsCiAgICAgICAgLy8g5LyB5Lia6aqM5pS2CiAgICAgICAgaGFuZGxlQ29uZmlybURlcG9zaXRUb01hc3RlcjogIi9hZG1pbi9tYWludGVuYW5jZS9oYW5kbGVDb25maXJtRGVwb3NpdFRvTWFzdGVyIiwKICAgICAgICAvLyDlubPlj7Dnoa7orqTkvIHkuJrlrprph5HlubbmiZPmrL7nu5nluIjlgoUv5bmz5Y+w56Gu6K6k5LyB5Lia5pSv5LuY5bC+5qy+CiAgICAgICAgaGFuZGxlQ29uZmlybUJhbGFuY2VUb01hc3RlcjogIi9hZG1pbi9tYWludGVuYW5jZS9oYW5kbGVDb25maXJtQmFsYW5jZVRvTWFzdGVyIiAvLyDlubPlj7DmiZPmrL7oh7PluIjlgoUo6LSo5L+d5pyf5bey5YiwKQoKICAgICAgfSwKICAgICAgcXVvdGF0aW9uRm9ybTogewogICAgICAgIHJlamVjdFJlYXNvbjogIiIKICAgICAgfSwKICAgICAgY2hlY2tGb3JtOiB7CiAgICAgICAgcmVqZWN0UmVhc29uOiAiIgogICAgICB9LAogICAgICBwYXJ0czogewogICAgICAgIG9yZGVyU246ICIiLAogICAgICAgIGRvb3JBbW91bnQ6ICIiLAogICAgICAgIG90aGVyQW1vdW50OiAiIiwKICAgICAgICBwYXJ0c0Ftb3VudDogIiIsCiAgICAgICAgdGVjaG5vbG9neUFtb3VudDogIiIKICAgICAgfSwKICAgICAgcXVlcnlKZFByb2R1Y3RMaXN0UGFyYW1zOiB7CiAgICAgICAgcGFnZU5vOiAxLAogICAgICAgIHBhZ2VTaXplOiAxMDAsCiAgICAgICAgcXVlcnk6ICIiCiAgICAgIH0sCiAgICAgIHBhcnRJbmZvUnVsZXM6IHsKICAgICAgICBtb2RlbDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+mAieaLqemFjeS7tuaooeW8jyIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICB0eXBlOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6K+36YCJ5oup6YeH5Lmw6KeS6ImyIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIG5hbWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7floavlhpnphY3ku7blkI3np7AiLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0sCiAgICAgICAgYnJhbmQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7floavlhpnphY3ku7blk4HniYwiLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0sCiAgICAgICAgcGFyYW1ldGVyOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6K+35aGr5YaZ6YWN5Lu25Y+C5pWwIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIHByaWNlOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6K+35aGr5YaZ6YWN5Lu25Y2V5Lu3IiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dCiAgICAgIH0KICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5fZ2V0UmVwYWlyT3JkZXJEZXRhaWwoKTsKCiAgICBjb25zb2xlLmluZm8odGhpcy4kc3RvcmUpOwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMub3JkZXJTbiA9IHRoaXMuJHJvdXRlLnF1ZXJ5Lm9yZGVyU247CgogICAgdGhpcy5fZ2V0UmVwYWlyT3JkZXJEZXRhaWwoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGNoYW5nZVR5cGU6IGZ1bmN0aW9uIGNoYW5nZVR5cGUoKSB7CiAgICAgIHRoaXMuJHJlZnMucGFydEluZm9SdWxlRm9ybS52YWxpZGF0ZUZpZWxkKCJ0eXBlIik7CiAgICB9LAogICAgY2hhbmdlTW9kZWw6IGZ1bmN0aW9uIGNoYW5nZU1vZGVsKCkgewogICAgICB0aGlzLnBhcnRJbmZvLnJlbWFya3MgPSBudWxsOwogICAgICB0aGlzLiRyZWZzLnBhcnRJbmZvUnVsZUZvcm0udmFsaWRhdGVGaWVsZCgibW9kZWwiKTsKICAgIH0sCiAgICAvLyDnoa7lrprmlYXpmpzlh4/lhY3otLnnlKgKICAgIGNvbmZpcm1TZXRGYXVsdERlcmF0ZVByaWNlOiBmdW5jdGlvbiBjb25maXJtU2V0RmF1bHREZXJhdGVQcmljZSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoISghX3RoaXMuZmF1bHREZXJhdGVQcmljZVBhcmFtcy5hbW91bnQgJiYgX3RoaXMuZmF1bHREZXJhdGVQcmljZVBhcmFtcy5hbW91bnQgIT0gMCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgbWVzc2FnZTogIuivt+Whq+WGmeaVhemanOWHj+WFjei0ueeUqCIsCiAgICAgICAgICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIgogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZUZhdWx0Q29zdChfdGhpcy5mYXVsdERlcmF0ZVByaWNlUGFyYW1zKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzLm1lc3NhZ2UgPT0gIuaTjeS9nOaIkOWKnyIpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHJlcy5tZXNzYWdlLAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIgogICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLl9nZXRSZXBhaXJPcmRlckRldGFpbCgpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuY2xvc2VGYXVsdERlcmF0ZVByaWNlRGlhbG9nKCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDlhbPpl63orr7nva7mlYXpmpzlh4/lhY3otLnnlKgKICAgIGNsb3NlRmF1bHREZXJhdGVQcmljZURpYWxvZzogZnVuY3Rpb24gY2xvc2VGYXVsdERlcmF0ZVByaWNlRGlhbG9nKCkgewogICAgICB0aGlzLmZhdWx0RGVyYXRlUHJpY2VQYXJhbXMgPSB7CiAgICAgICAgYW1vdW50OiBudWxsLAogICAgICAgIG9yZGVyU246IG51bGwKICAgICAgfTsKICAgICAgdGhpcy5mYXVsdERlcmF0ZVByaWNlVmlzaWJsZSA9IGZhbHNlOwogICAgfSwKICAgIC8vIOaJk+W8gOiuvue9ruaVhemanOWHj+WFjei0ueeUqAogICAgb3BlbkZhdWx0RGVyYXRlUHJpY2VEaWFsb2c6IGZ1bmN0aW9uIG9wZW5GYXVsdERlcmF0ZVByaWNlRGlhbG9nKG9yZGVyU24pIHsKICAgICAgdGhpcy5mYXVsdERlcmF0ZVByaWNlUGFyYW1zLm9yZGVyU24gPSBvcmRlclNuOwogICAgICB0aGlzLmZhdWx0RGVyYXRlUHJpY2VWaXNpYmxlID0gdHJ1ZTsKICAgIH0sCiAgICAvLyDmn6Xmib7kvpvlupTllYYKICAgIHNlYXJjaE1haW50ZW5hbmNlU3VwcGxpZXJJbmZvOiBmdW5jdGlvbiBzZWFyY2hNYWludGVuYW5jZVN1cHBsaWVySW5mbygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gcXVlcnlNYWludGVuYW5jZVN1cHBsaWVySW5mbyhfdGhpczIubWFpbnRlbmFuY2VTdXBwbGllckluZm9RdWVyeSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgX3RoaXMyLnN1cHBsaWVyTGlzdCA9IHJlcy5kYXRhOwogICAgICAgICAgICAgICAgX3RoaXMyLnNldExvZ2lzdGljc0RpYWxvZ1Nob3cgPSB0cnVlOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDkvIHkuJrlvoXpqozmlLYKICAgIGhhbmRsZUVudGVycHJpc2VDaGVjazogZnVuY3Rpb24gaGFuZGxlRW50ZXJwcmlzZUNoZWNrKG9yZGVyU24pIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLiRjb25maXJtKCLmgqjnoa7lrpropoHmk43kvZzku6PkvIHkuJrnoa7orqTpqozmlLY/IiwgIuaPkOekuiIsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIuehruiupCIsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogIuWPlua2iCIsCiAgICAgICAgdHlwZTogIndhcm5pbmciCiAgICAgIH0pLnRoZW4oIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfaGFuZGxlRW50ZXJwcmlzZUNoZWNrKG9yZGVyU24pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDMuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzLm1lc3NhZ2UgPT09ICLmk43kvZzmiJDlip8iKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogcmVzLm1lc3NhZ2UsCiAgICAgICAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiCiAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgX3RoaXMzLl9nZXRSZXBhaXJPcmRlckRldGFpbCgpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkpOwogICAgfSwKICAgIC8vIOagh+iusOaVo+WNleWujOaIkAogICAgbWFya09yZGVyQ29tcGxldGlvbjogZnVuY3Rpb24gbWFya09yZGVyQ29tcGxldGlvbihvcmRlclNuKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdGhpcy4kY29uZmlybSgi56Gu6K6k5pON5L2c5ZCX77yfKOaVo+WNlemcgOS8geS4muWunumZheaUr+S7mOaJjeWPr+S7peeCueWHu+atpOaTjeS9nCkiLCAi5o+Q56S6IiwgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAi56Gu5a6aIiwKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAi5Y+W5raIIiwKICAgICAgICB0eXBlOiAid2FybmluZyIKICAgICAgfSkudGhlbiggLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgdmFyIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF9tYXJrT3JkZXJDb21wbGV0aW9uKG9yZGVyU24pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDQuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzLm1lc3NhZ2UgPT09ICLmk43kvZzmiJDlip8iKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNC4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogIuaTjeS9nOaIkOWKnyIsCiAgICAgICAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiCiAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgX3RoaXM0Ll9nZXRSZXBhaXJPcmRlckRldGFpbCgpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICB9KSkpOwogICAgfSwKICAgIC8vIOacuuWwhuWkp+W4iOWCheaOpeWNlQogICAgaGFuZGxlU3lzdGVtQ3JlYXRlT3JkZXI6IGZ1bmN0aW9uIGhhbmRsZVN5c3RlbUNyZWF0ZU9yZGVyKG9yZGVyU24pIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICB0aGlzLiRjb25maXJtKCLmgqjnoa7lrp7opoHmk43kvZzmnLrlsIblpKfluIjlgoXmjqXljZXlkJc/IiwgIuaPkOekuiIsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIuehruWumiIsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogIuWPlua2iCIsCiAgICAgICAgdHlwZTogIndhcm5pbmciCiAgICAgIH0pLnRoZW4oIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICAgIHZhciByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfaGFuZGxlU3lzdGVtQ3JlYXRlT3JkZXIob3JkZXJTbik7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0NS5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXMubWVzc2FnZSA9PSAi5pON5L2c5oiQ5YqfIikgewogICAgICAgICAgICAgICAgICBfdGhpczUuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiByZXMubWVzc2FnZQogICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgIF90aGlzNS5fZ2V0UmVwYWlyT3JkZXJEZXRhaWwoKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU1KTsKICAgICAgfSkpKTsKICAgIH0sCiAgICAvLyDliKDpmaTmlYXpmpzpobnnm67lm77niYcKICAgIGRlbEV4YW1pbmVGYXVsdHNGb3JtUGljTGlzdDogZnVuY3Rpb24gZGVsRXhhbWluZUZhdWx0c0Zvcm1QaWNMaXN0KCkgewogICAgICB0aGlzLmV4YW1pbmVGYXVsdHNGb3JtLmltYWdlWzBdID0gbnVsbDsKICAgICAgdGhpcy5leGFtaW5lRmF1bHRzRm9ybVBpY0xpc3QgPSBbXTsKICAgIH0sCiAgICAvLyDnoa7lrprljY/llYbotLnnlKgKICAgIGNvbmZpcm1Db25zdWx0UHJpY2U6IGZ1bmN0aW9uIGNvbmZpcm1Db25zdWx0UHJpY2UoKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoKSB7CiAgICAgICAgdmFyIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYkKF9jb250ZXh0NikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNi4kcmVmc1siY29uc3VsdENvc3RGb3JtIl0udmFsaWRhdGUoKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN1bHRDb3N0KF90aGlzNi5jb25zdWx0Q29zdFBhcmFtcyk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0Ni5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXMubWVzc2FnZSA9PT0gIuaTjeS9nOaIkOWKnyIpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM2LmNsb3NlQ29uc3VsdFByaWNlRGlhbG9nKCk7CgogICAgICAgICAgICAgICAgICBfdGhpczYuX2dldFJlcGFpck9yZGVyRGV0YWlsKCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOaJk+W8gOWNj+WVhuS7t+agvOahhgogICAgb3BlbkNvbnN1bHRQcmljZURpYWxvZzogZnVuY3Rpb24gb3BlbkNvbnN1bHRQcmljZURpYWxvZyhvcmRlclNuKSB7CiAgICAgIHRoaXMuY29uc3VsdENvc3RQYXJhbXMub3JkZXJTbiA9IG9yZGVyU247CiAgICAgIHRoaXMuY29uc3VsdFByaWNlVmlzaWJsZSA9IHRydWU7CiAgICB9LAogICAgLy8g5YWz6Zet5Y2P5ZWG5Lu35qC85qGGCiAgICBjbG9zZUNvbnN1bHRQcmljZURpYWxvZzogZnVuY3Rpb24gY2xvc2VDb25zdWx0UHJpY2VEaWFsb2coKSB7CiAgICAgIHRoaXMuY29uc3VsdENvc3RQYXJhbXMgPSB7CiAgICAgICAgb3JkZXJTbjogbnVsbCwKICAgICAgICBhbW91bnQ6IG51bGwsCiAgICAgICAgcmVtYXJrczogbnVsbCwKICAgICAgICB0eXBlOiBudWxsCiAgICAgIH07CiAgICAgIHRoaXMuJHJlZnNbImNvbnN1bHRDb3N0Rm9ybSJdLnJlc2V0RmllbGRzKCk7CiAgICAgIHRoaXMuY29uc3VsdFByaWNlVmlzaWJsZSA9IGZhbHNlOwogICAgfSwKICAgIC8vIOWIoOmZpOinhumikQogICAgZGVsRXhhbWluZUZhdWx0c0Zvcm1WaWRlbzogZnVuY3Rpb24gZGVsRXhhbWluZUZhdWx0c0Zvcm1WaWRlbygpIHsKICAgICAgdGhpcy5leGFtaW5lRmF1bHRzRm9ybVZpZGVvTGlzdCA9IFtdOwogICAgICB0aGlzLmV4YW1pbmVGYXVsdHNGb3JtLmltYWdlWzFdID0gbnVsbDsKICAgIH0sCiAgICAvLyDmn6XnnIvop4bpopEKICAgIHZpZXdWaWRlbzogZnVuY3Rpb24gdmlld1ZpZGVvKHVybCkgewogICAgICB3aW5kb3cub3Blbih1cmwpOwogICAgfSwKICAgIC8vIOS4iuS8oOaVhemanOinhumikQogICAgdXBsb2FkRXhhbWluZUZhdWx0c0Zvcm1WaWRlb0xpc3Q6IGZ1bmN0aW9uIHVwbG9hZEV4YW1pbmVGYXVsdHNGb3JtVmlkZW9MaXN0KGZpbGVEYXRhKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTcoKSB7CiAgICAgICAgdmFyIGxvYWRpbmcsIGZvcm1EYXRhLCByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3JChfY29udGV4dDcpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3LnByZXYgPSBfY29udGV4dDcubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGxvYWRpbmcgPSBfdGhpczcuJGxvYWRpbmcoewogICAgICAgICAgICAgICAgICBsb2NrOiB0cnVlLAogICAgICAgICAgICAgICAgICB0ZXh0OiAi5LiK5Lyg5pWF6Zqc6KeG6aKRLi4uIiwKICAgICAgICAgICAgICAgICAgc3Bpbm5lcjogImVsLWljb24tbG9hZGluZyIsCiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICJyZ2JhKDAsIDAsIDAsIDAuNykiCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoImZpbGUiLCBmaWxlRGF0YS5maWxlKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBVcGxvYWRJbWcoZm9ybURhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDcuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzKSB7CiAgICAgICAgICAgICAgICAgIGxvYWRpbmcuY2xvc2UoKTsKCiAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YSkgewogICAgICAgICAgICAgICAgICAgIGlmICghX3RoaXM3LmV4YW1pbmVGYXVsdHNGb3JtLmltYWdlKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczcuZXhhbWluZUZhdWx0c0Zvcm0uaW1hZ2UgPSBbXTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIF90aGlzNy5leGFtaW5lRmF1bHRzRm9ybS5pbWFnZVsxXSA9IHJlcy5kYXRhOwogICAgICAgICAgICAgICAgICAgIF90aGlzNy5leGFtaW5lRmF1bHRzRm9ybVZpZGVvTGlzdCA9IFt7CiAgICAgICAgICAgICAgICAgICAgICB1cmw6IHJlcy5kYXRhCiAgICAgICAgICAgICAgICAgICAgfV07CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU3KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g5LiK5Lyg5pWF6Zqc5Zu+54mHCiAgICB1cGxvYWRFeGFtaW5lRmF1bHRzRm9ybVBpY0xpc3Q6IGZ1bmN0aW9uIHVwbG9hZEV4YW1pbmVGYXVsdHNGb3JtUGljTGlzdChmaWxlRGF0YSkgewogICAgICB2YXIgX3RoaXM4ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU4KCkgewogICAgICAgIHZhciBsb2FkaW5nLCBmb3JtRGF0YSwgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOCQoX2NvbnRleHQ4KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OC5wcmV2ID0gX2NvbnRleHQ4Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBsb2FkaW5nID0gX3RoaXM4LiRsb2FkaW5nKHsKICAgICAgICAgICAgICAgICAgbG9jazogdHJ1ZSwKICAgICAgICAgICAgICAgICAgdGV4dDogIuS4iuS8oOaVhemanOWbvueJhy4uLiIsCiAgICAgICAgICAgICAgICAgIHNwaW5uZXI6ICJlbC1pY29uLWxvYWRpbmciLAogICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAicmdiYSgwLCAwLCAwLCAwLjcpIgogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCJmaWxlIiwgZmlsZURhdGEuZmlsZSk7CiAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gVXBsb2FkSW1nKGZvcm1EYXRhKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQ4LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlcykgewogICAgICAgICAgICAgICAgICBsb2FkaW5nLmNsb3NlKCk7CgogICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoIV90aGlzOC5leGFtaW5lRmF1bHRzRm9ybS5pbWFnZSkgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXM4LmV4YW1pbmVGYXVsdHNGb3JtLmltYWdlID0gW107CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBfdGhpczguZXhhbWluZUZhdWx0c0Zvcm0uaW1hZ2VbMF0gPSByZXMuZGF0YTsKICAgICAgICAgICAgICAgICAgICBfdGhpczguZXhhbWluZUZhdWx0c0Zvcm1QaWNMaXN0ID0gW3sKICAgICAgICAgICAgICAgICAgICAgIHVybDogcmVzLmRhdGEKICAgICAgICAgICAgICAgICAgICB9XTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTgpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDnoa7lrprmlrDlop4KICAgIGNvbmZpcm1BZGRGYXVsdDogZnVuY3Rpb24gY29uZmlybUFkZEZhdWx0KCkgewogICAgICB2YXIgX3RoaXM5ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU5KCkgewogICAgICAgIHZhciByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU5JChfY29udGV4dDkpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ5LnByZXYgPSBfY29udGV4dDkubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmIChfdGhpczkuY2hvb3NlRmF1bHRJdGVtVmFsLmlkKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXM5LiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgICAgICAgICAgICBtZXNzYWdlOiAi6K+36YCJ5oup6KaB5paw5aKe55qE5pWF6Zqc6aG555uuIiwKICAgICAgICAgICAgICAgICAgdHlwZTogIndhcm5pbmciCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBhZGRPcmRlckZhdWx0SXRlbShfdGhpczkuY2hvb3NlRmF1bHRJdGVtVmFsKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQ5LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKCEocmVzLm1lc3NhZ2UgPT0gIuaTjeS9nOaIkOWKnyIpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gOTsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczkuX2dldFJlcGFpck9yZGVyRGV0YWlsKCk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIF90aGlzOS5jbG9zZUFkZEZhdWx0RGlhbG9nKCk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTkpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDlhbPpl63mlYXpmpzpobnnm67moYYKICAgIGNsb3NlQWRkRmF1bHREaWFsb2c6IGZ1bmN0aW9uIGNsb3NlQWRkRmF1bHREaWFsb2coKSB7CiAgICAgIHRoaXMuY2hvb3NlRmF1bHRJdGVtVmFsID0ge307CiAgICAgIHRoaXMucXVlcnlGYXVsdEl0ZW1zUGFyYW1zID0gewogICAgICAgIHBhZ2VObzogMSwKICAgICAgICBwYWdlU2l6ZTogMTAsCiAgICAgICAgcXVlcnk6IG51bGwKICAgICAgfTsKICAgICAgdGhpcy5hZGRGYXVsdFZpc2libGUgPSBmYWxzZTsKICAgIH0sCiAgICAvLyDpgJrov4fmlYXpmpzmj4/ov7Dmn6Xor6LmlYXpmpzpobnnm67liJfooagKICAgIHNlYXJjaEZhdWx0TGlzdDogZnVuY3Rpb24gc2VhcmNoRmF1bHRMaXN0KCkgewogICAgICB2YXIgX3RoaXMxMCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTAoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMCQoX2NvbnRleHQxMCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEwLnByZXYgPSBfY29udGV4dDEwLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczEwLnF1ZXJ5RmF1bHRJdGVtc1BhcmFtcy5wYWdlTm8gPSAxOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczEwLnF1ZXJ5RmF1bHRJdGVtcygpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEwLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOS/ruaUueaVhemanOmhueebrumhteaVsAogICAgY2hhbmdlRmF1bHREaWFsb2dQYWdlOiBmdW5jdGlvbiBjaGFuZ2VGYXVsdERpYWxvZ1BhZ2UocGFnZSkgewogICAgICB2YXIgX3RoaXMxMSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTEoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMSQoX2NvbnRleHQxMSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDExLnByZXYgPSBfY29udGV4dDExLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczExLnF1ZXJ5RmF1bHRJdGVtc1BhcmFtcy5wYWdlTm8gPSBwYWdlOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczExLnF1ZXJ5RmF1bHRJdGVtcygpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOmAieaLqeaVhemanOmhueebrgogICAgY2hvb3NlRmF1bHRJdGVtOiBmdW5jdGlvbiBjaG9vc2VGYXVsdEl0ZW0odmFsKSB7CiAgICAgIHRoaXMuY2hvb3NlRmF1bHRJdGVtVmFsID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB0aGlzLmNob29zZUZhdWx0SXRlbVZhbCksIHZhbCk7CiAgICB9LAogICAgLy8g5p+l6K+i5pWF6Zqc5o+P6L+wCiAgICBxdWVyeUZhdWx0SXRlbXM6IGZ1bmN0aW9uIHF1ZXJ5RmF1bHRJdGVtcygpIHsKICAgICAgdmFyIF90aGlzMTIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEyKCkgewogICAgICAgIHZhciByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMiQoX2NvbnRleHQxMikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEyLnByZXYgPSBfY29udGV4dDEyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDEyLm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF9xdWVyeUZhdWx0SXRlbXMoX3RoaXMxMi5xdWVyeUZhdWx0SXRlbXNQYXJhbXMpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDEyLnNlbnQ7CiAgICAgICAgICAgICAgICBfdGhpczEyLmZhdWx0SXRlbUxpc3QgPSByZXMuZGF0YS5yZWNvcmRzOwogICAgICAgICAgICAgICAgX3RoaXMxMi5mYXVsdEl0ZW1QYWdlcyA9IHJlcy5kYXRhLnBhZ2VzOwogICAgICAgICAgICAgICAgX3RoaXMxMi5mYXVsdEl0ZW1Ub3RhbCA9IHJlcy5kYXRhLnRvdGFsOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOaJk+W8gOaWsOWinumhueebruahhgogICAgb3BlbkFkZEZhdWx0RGlhbG9nOiBmdW5jdGlvbiBvcGVuQWRkRmF1bHREaWFsb2cob3JkZXJTbikgewogICAgICB2YXIgX3RoaXMxMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTMoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMyQoX2NvbnRleHQxMykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEzLnByZXYgPSBfY29udGV4dDEzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTMucXVlcnlGYXVsdEl0ZW1zKCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF90aGlzMTMuY2hvb3NlRmF1bHRJdGVtVmFsLm9yZGVyU24gPSBvcmRlclNuOwogICAgICAgICAgICAgICAgX3RoaXMxMy5hZGRGYXVsdFZpc2libGUgPSB0cnVlOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOWFs+mXreS/ruaUueW3ruivhOmHkemineahhgogICAgY2xvc2VFZGl0QmFkUGlyY2U6IGZ1bmN0aW9uIGNsb3NlRWRpdEJhZFBpcmNlKCkgewogICAgICB0aGlzLmVkaXRCYWRQaXJjZVNob3cgPSBmYWxzZTsKICAgICAgdGhpcy5lZGl0QmFkUGlyY2VEYXRhID0gewogICAgICAgIG9wZXJhdGVUeXBlOiAiIiwKICAgICAgICBhbW91bnQ6ICIiLAogICAgICAgIG9yZGVyU246ICIiCiAgICAgIH07CiAgICB9LAogICAgLy8g56Gu6K6k5L+u5pS55beu6K+E6YeR6aKdCiAgICBjb25maXJtRWRpdEJhZFBpcmNlOiBmdW5jdGlvbiBjb25maXJtRWRpdEJhZFBpcmNlKCkgewogICAgICB2YXIgX3RoaXMxNCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTQoKSB7CiAgICAgICAgdmFyIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE0JChfY29udGV4dDE0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTQucHJldiA9IF9jb250ZXh0MTQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlTWFzdGVyQW1vdW50KF90aGlzMTQuZWRpdEJhZFBpcmNlRGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0MTQuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzLm1lc3NhZ2UgPT0gIuaTjeS9nOaIkOWKnyIpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMxNC5fZ2V0UmVwYWlyT3JkZXJEZXRhaWwoKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMTQuY2xvc2VFZGl0QmFkUGlyY2UoKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTQpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDmiZPlvIDkv67mlLnlt67or4Tph5Hpop3moYYKICAgIG9wZW5FZGl0QmFkUGlyY2U6IGZ1bmN0aW9uIG9wZW5FZGl0QmFkUGlyY2UoKSB7CiAgICAgIHRoaXMuZWRpdEJhZFBpcmNlU2hvdyA9IHRydWU7CiAgICAgIHRoaXMuZWRpdEJhZFBpcmNlRGF0YS5vcmRlclNuID0gdGhpcy5vcmRlclNuOwogICAgfSwKICAgIC8vIOS4gOmUruWvhOS/rgogICAgb25lQ2xpY2tTZW5kcmVwYWlyRm46IGZ1bmN0aW9uIG9uZUNsaWNrU2VuZHJlcGFpckZuKCkgewogICAgICB2YXIgX3RoaXMxNSA9IHRoaXM7CgogICAgICB0aGlzLiRjb25maXJtKCLnoa7orqTphY3ku7bkv6Hmga/ml6Dor6/vvIzkuIDplK7lr4Tkv64iLCAi5LiA6ZSu5a+E5L+uIiwgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAi56Gu5a6aIiwKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAi5Y+W5raIIiwKICAgICAgICB0eXBlOiAid2FybmluZyIKICAgICAgfSkudGhlbiggLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE1KCkgewogICAgICAgIHZhciByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNSQoX2NvbnRleHQxNSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE1LnByZXYgPSBfY29udGV4dDE1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDE1Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIHNlbmRSZXBhaXIoX3RoaXMxNS5vcmRlclNuKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQxNS5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXMubWVzc2FnZSA9PSAi5pON5L2c5oiQ5YqfIikgewogICAgICAgICAgICAgICAgICBfdGhpczE1LiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogcmVzLm1lc3NhZ2UKICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICBfdGhpczE1Ll9nZXRSZXBhaXJPcmRlckRldGFpbCgpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxNSk7CiAgICAgIH0pKSk7CiAgICB9LAogICAgLy8g5Yig6Zmk6YWN5Lu25Zu+54mHCiAgICBkZWxVcGxvYWRQYXJ0SW1nOiBmdW5jdGlvbiBkZWxVcGxvYWRQYXJ0SW1nKCkgewogICAgICB0aGlzLnBhcnRJbmZvLmltYWdlID0gIiI7CiAgICAgIHRoaXMudXBsb2FkUGFydEltZ0xpc3QgPSBbXTsKICAgIH0sCiAgICAvLyDnoa7lrprkvpvlupTllYYKICAgIGNvbmZpcm1TZXRMb2dpc3RpY3M6IGZ1bmN0aW9uIGNvbmZpcm1TZXRMb2dpc3RpY3MoKSB7CiAgICAgIHZhciBfdGhpczE2ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNigpIHsKICAgICAgICB2YXIgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTYkKF9jb250ZXh0MTYpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNi5wcmV2ID0gX2NvbnRleHQxNi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQxNi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBmaWxsTG9naXN0aWNzSW5mb3JtYXRpb24oX3RoaXMxNi5zZXRMb2dpc3RpY3NEYXRhKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQxNi5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXMubWVzc2FnZSA9PSAi5pON5L2c5oiQ5YqfIikgewogICAgICAgICAgICAgICAgICBfdGhpczE2LiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogIuaTjeS9nOaIkOWKnyEiCiAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgX3RoaXMxNi5fZ2V0UmVwYWlyT3JkZXJEZXRhaWwoKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMTYuY2xvc2VTZXRMb2dpc3RpY3MoKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTYpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDlhbPpl63orr7nva7nianmtYHmoYYKICAgIGNsb3NlU2V0TG9naXN0aWNzOiBmdW5jdGlvbiBjbG9zZVNldExvZ2lzdGljcygpIHsKICAgICAgdGhpcy5zZXRMb2dpc3RpY3NEYXRhID0gewogICAgICAgIHN1cHBsaWVySWQ6IG51bGwsCiAgICAgICAgc3VwcGxpZXJOYW1lOiBudWxsCiAgICAgIH07CiAgICAgIHRoaXMubWFpbnRlbmFuY2VTdXBwbGllckluZm9RdWVyeSA9IG51bGw7CiAgICAgIHRoaXMuc2V0TG9naXN0aWNzRGlhbG9nU2hvdyA9IGZhbHNlOwogICAgfSwKICAgIC8vIOS+m+W6lOWVhuaUueWPmOaXtgogICAgY2hhbmdlU3VwcGxpZXI6IGZ1bmN0aW9uIGNoYW5nZVN1cHBsaWVyKGUpIHsKICAgICAgdmFyIGluZGV4ID0gdGhpcy5zdXBwbGllckxpc3QuZmluZEluZGV4KGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0uc3VwcGxpZXJOYW1lID09IGU7CiAgICAgIH0pOwogICAgICB0aGlzLnNldExvZ2lzdGljc0RhdGEuc3VwcGxpZXJJZCA9IHRoaXMuc3VwcGxpZXJMaXN0W2luZGV4XS5pZDsKICAgIH0sCiAgICAvLyDmiZPlvIDorr7nva7nianmtYHmoYYKICAgIG9wZW5TZXRMb2dpc3RpY3M6IGZ1bmN0aW9uIG9wZW5TZXRMb2dpc3RpY3Mocm93LCBvcmRlclNuKSB7CiAgICAgIHZhciBfdGhpczE3ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNygpIHsKICAgICAgICB2YXIgc3VwcGxpZXJJZCwgc3VwcGxpZXJOYW1lLCByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNyQoX2NvbnRleHQxNykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE3LnByZXYgPSBfY29udGV4dDE3Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczE3LnNldExvZ2lzdGljc0RhdGEub3JkZXJTbiA9IG9yZGVyU247CiAgICAgICAgICAgICAgICBfdGhpczE3LnNldExvZ2lzdGljc0RhdGEuaWQgPSByb3cuaWQ7CiAgICAgICAgICAgICAgICBfdGhpczE3LnNldExvZ2lzdGljc0RhdGEubW9kZWwgPSByb3cubW9kZWw7CgogICAgICAgICAgICAgICAgaWYgKHJvdy5zdXBwbGllcklkKSB7CiAgICAgICAgICAgICAgICAgIHN1cHBsaWVySWQgPSByb3cuc3VwcGxpZXJJZCwgc3VwcGxpZXJOYW1lID0gcm93LnN1cHBsaWVyTmFtZTsKICAgICAgICAgICAgICAgICAgX3RoaXMxNy5zZXRMb2dpc3RpY3NEYXRhLnN1cHBsaWVySWQgPSBzdXBwbGllcklkOwogICAgICAgICAgICAgICAgICBfdGhpczE3LnNldExvZ2lzdGljc0RhdGEuc3VwcGxpZXJOYW1lID0gc3VwcGxpZXJOYW1lOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTcubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gcXVlcnlNYWludGVuYW5jZVN1cHBsaWVySW5mbygiIik7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0MTcuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzMTcuc3VwcGxpZXJMaXN0ID0gcmVzLmRhdGE7CiAgICAgICAgICAgICAgICBfdGhpczE3LnNldExvZ2lzdGljc0RpYWxvZ1Nob3cgPSB0cnVlOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE3LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxNyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOehruWumuaWsOWinuS/ruaUuemFjeS7tgogICAgY29uZmlybUFkZEVkaXRQYXJ0OiBmdW5jdGlvbiBjb25maXJtQWRkRWRpdFBhcnQoKSB7CiAgICAgIHZhciBfdGhpczE4ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxOCgpIHsKICAgICAgICB2YXIgZGF0YSwgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTgkKF9jb250ZXh0MTgpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxOC5wcmV2ID0gX2NvbnRleHQxOC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQxOC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczE4LiRyZWZzWyJwYXJ0SW5mb1J1bGVGb3JtIl0udmFsaWRhdGUoKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgZGF0YSA9IF9vYmplY3RTcHJlYWQoe30sIF90aGlzMTgucGFydEluZm8pOyAvLyBpZiAoZGF0YS5zdGFzaFBhcnRzV2F5ID09IDEpIHsKICAgICAgICAgICAgICAgIC8vICAgZGF0YS5pZCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDAwKTsKICAgICAgICAgICAgICAgIC8vIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDE4Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIGVkaXRQYXJ0UHJvZHVjdChkYXRhKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQxOC5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXMubWVzc2FnZSA9PSAi5pON5L2c5oiQ5YqfIikgewogICAgICAgICAgICAgICAgICBfdGhpczE4LiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogIuaTjeS9nOaIkOWKnyEiCiAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgX3RoaXMxOC5fZ2V0UmVwYWlyT3JkZXJEZXRhaWwoKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMTguY2xvc2VBZGRFZGl0UGFydCgpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE4LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxOCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOmAieaLqemFjeS7tuadpea6kOinpuWPkQogICAgY2hhbmdlU3Rhc2hQYXJ0c1dheTogZnVuY3Rpb24gY2hhbmdlU3Rhc2hQYXJ0c1dheSgpIHsKICAgICAgdGhpcy5wYXJ0SW5mby5icmFuZCA9ICIiOwogICAgICB0aGlzLnBhcnRJbmZvLmJyYW5kSWQgPSAiIjsKICAgICAgdGhpcy5wYXJ0SW5mby5wYXJhbWV0ZXIgPSAiIjsKICAgICAgdGhpcy5wYXJ0SW5mby5uYW1lID0gIiI7CiAgICAgIHRoaXMucGFydEluZm8ubnVtYmVyID0gIiI7CiAgICAgIHRoaXMucGFydEluZm8udW5pdElkID0gIiI7CiAgICAgIHRoaXMucGFydEluZm8ucHJpY2UgPSAiIjsKICAgICAgdGhpcy5wYXJ0SW5mby5wYXJ0SWQgPSAiIjsKICAgIH0sCiAgICAvLyDkuIrkvKDphY3ku7blm77niYcKICAgIHVwbG9hZFBhcnRJbWc6IGZ1bmN0aW9uIHVwbG9hZFBhcnRJbWcoZmlsZURhdGEpIHsKICAgICAgdmFyIF90aGlzMTkgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE5KCkgewogICAgICAgIHZhciBsb2FkaW5nLCBmb3JtRGF0YSwgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTkkKF9jb250ZXh0MTkpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxOS5wcmV2ID0gX2NvbnRleHQxOS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbG9hZGluZyA9IF90aGlzMTkuJGxvYWRpbmcoewogICAgICAgICAgICAgICAgICBsb2NrOiB0cnVlLAogICAgICAgICAgICAgICAgICB0ZXh0OiAi5Zu+54mH5LiK5Lyg5LitLi4uIiwKICAgICAgICAgICAgICAgICAgc3Bpbm5lcjogImVsLWljb24tbG9hZGluZyIsCiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICJyZ2JhKDAsIDAsIDAsIDAuNykiCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICBsb2FkaW5nLmNsb3NlKCk7CiAgICAgICAgICAgICAgICB9LCA3MDAwKTsKICAgICAgICAgICAgICAgIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoImZpbGUiLCBmaWxlRGF0YS5maWxlKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTkubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gVXBsb2FkSW1nKGZvcm1EYXRhKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQxOS5zZW50OwogICAgICAgICAgICAgICAgX3RoaXMxOS5wYXJ0SW5mby5pbWFnZSA9IHJlcy5kYXRhOwogICAgICAgICAgICAgICAgX3RoaXMxOS51cGxvYWRQYXJ0SW1nTGlzdCA9IFt7CiAgICAgICAgICAgICAgICAgIHVybDogcmVzLmRhdGEKICAgICAgICAgICAgICAgIH1dOwogICAgICAgICAgICAgICAgbG9hZGluZy5jbG9zZSgpOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxOS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTkpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDlhbPpl63phY3ku7bmlrDlop7kv67mlLnmoYYKICAgIGNsb3NlQWRkRWRpdFBhcnQ6IGZ1bmN0aW9uIGNsb3NlQWRkRWRpdFBhcnQoKSB7CiAgICAgIHRoaXMucGFydEluZm8gPSB7CiAgICAgICAgc3Rhc2hQYXJ0c1dheTogMSwKICAgICAgICBicmFuZDogIiIsCiAgICAgICAgYnJhbmRJZDogIiIsCiAgICAgICAgaW1hZ2U6ICIiLAogICAgICAgIG1vZGVsOiAiIiwKICAgICAgICBuYW1lOiAiIiwKICAgICAgICBudW06ICIiLAogICAgICAgIG51bWJlcjogIiIsCiAgICAgICAgcGFyYW1ldGVyOiAiIiwKICAgICAgICBwcmljZTogIiIsCiAgICAgICAgdHlwZTogIiIsCiAgICAgICAgaWQ6ICIiLAogICAgICAgIC8v6YWN5Lu26aG5aWQKICAgICAgICBwYXJ0SWQ6ICIiIC8v6YWN5Lu2aWQKCiAgICAgIH07CiAgICAgIHRoaXMudXBsb2FkUGFydEltZ0xpc3QgPSBbXTsKICAgICAgdGhpcy5hZGRFZGl0UGFydERpYWxvZ1Nob3cgPSBmYWxzZTsKICAgIH0sCiAgICAvLyDnoa7lrprpgInkuK3nmoTku5PlupPphY3ku7YKICAgIGNvbWZpcm1XYXJlaG91c2VQYXJ0OiBmdW5jdGlvbiBjb21maXJtV2FyZWhvdXNlUGFydCgpIHsKICAgICAgdmFyIF90aGlzJGpkUHJvZHVjdExpc3QkdCA9IHRoaXMuamRQcm9kdWN0TGlzdFt0aGlzLmNob29zZVBhcnRJbmRleF0sCiAgICAgICAgICBicmFuZElkID0gX3RoaXMkamRQcm9kdWN0TGlzdCR0LmJyYW5kSWQsCiAgICAgICAgICBicmFuZE5hbWUgPSBfdGhpcyRqZFByb2R1Y3RMaXN0JHQuYnJhbmROYW1lLAogICAgICAgICAgaWQgPSBfdGhpcyRqZFByb2R1Y3RMaXN0JHQuaWQsCiAgICAgICAgICBtb2RlbCA9IF90aGlzJGpkUHJvZHVjdExpc3QkdC5tb2RlbCwKICAgICAgICAgIG5hbWUgPSBfdGhpcyRqZFByb2R1Y3RMaXN0JHQubmFtZSwKICAgICAgICAgIG51bWJlciA9IF90aGlzJGpkUHJvZHVjdExpc3QkdC5udW1iZXIsCiAgICAgICAgICB1bml0SWQgPSBfdGhpcyRqZFByb2R1Y3RMaXN0JHQudW5pdElkLAogICAgICAgICAgcHJpY2UgPSBfdGhpcyRqZFByb2R1Y3RMaXN0JHQucHJpY2U7CiAgICAgIHRoaXMucGFydEluZm8uYnJhbmQgPSBicmFuZE5hbWU7CiAgICAgIHRoaXMucGFydEluZm8uYnJhbmRJZCA9IGJyYW5kSWQ7CiAgICAgIHRoaXMucGFydEluZm8ucGFydElkID0gaWQ7CiAgICAgIHRoaXMucGFydEluZm8ucGFyYW1ldGVyID0gbW9kZWw7CiAgICAgIHRoaXMucGFydEluZm8ubmFtZSA9IG5hbWU7CiAgICAgIHRoaXMucGFydEluZm8ubnVtYmVyID0gbnVtYmVyOwogICAgICB0aGlzLnBhcnRJbmZvLnVuaXRJZCA9IHVuaXRJZDsKICAgICAgdGhpcy5wYXJ0SW5mby5wcmljZSA9IHByaWNlOwogICAgICB0aGlzLmNsb3NlV2FyZWhvdXNlU2VhcmNoKCk7CiAgICB9LAogICAgLy8g5YWz6Zet5LuT5bqT5pCc57Si5qGGCiAgICBjbG9zZVdhcmVob3VzZVNlYXJjaDogZnVuY3Rpb24gY2xvc2VXYXJlaG91c2VTZWFyY2goKSB7CiAgICAgIHZhciBfdGhpczIwID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyMCgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIwJChfY29udGV4dDIwKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjAucHJldiA9IF9jb250ZXh0MjAubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzMjAucXVlcnlKZFByb2R1Y3RMaXN0UGFyYW1zLnF1ZXJ5ID0gIiI7CiAgICAgICAgICAgICAgICBfdGhpczIwLmpkUHJvZHVjdExpc3QgPSBbXTsKCiAgICAgICAgICAgICAgICBfdGhpczIwLnF1ZXJ5SmRQcm9kdWN0TGlzdCgpOwoKICAgICAgICAgICAgICAgIF90aGlzMjAud2FyZWhvdXNlU2VhcmNoRGlhbG9nU2hvdyA9IGZhbHNlOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIwLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyMCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOafpeivoumHkeidtuS7k+W6k+mFjeS7tgogICAgcXVlcnlKZFByb2R1Y3RMaXN0OiBmdW5jdGlvbiBxdWVyeUpkUHJvZHVjdExpc3QoKSB7CiAgICAgIHZhciBfdGhpczIxID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyMSgpIHsKICAgICAgICB2YXIgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjEkKF9jb250ZXh0MjEpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyMS5wcmV2ID0gX2NvbnRleHQyMS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMyMS5jaG9vc2VQYXJ0SW5kZXggPSBudWxsOwogICAgICAgICAgICAgICAgX2NvbnRleHQyMS5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBfcXVlcnlKZFByb2R1Y3RMaXN0KF90aGlzMjEucXVlcnlKZFByb2R1Y3RMaXN0UGFyYW1zKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQyMS5zZW50OwogICAgICAgICAgICAgICAgX3RoaXMyMS5qZFByb2R1Y3RMaXN0ID0gcmVzLmRhdGEucmVjb3JkczsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMjEpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDmiZPlvIDku5PlupPmkJzntKLmoYYKICAgIG9wZW5XYXJlaG91c2VTZWFyY2g6IGZ1bmN0aW9uIG9wZW5XYXJlaG91c2VTZWFyY2goKSB7CiAgICAgIHRoaXMud2FyZWhvdXNlU2VhcmNoRGlhbG9nU2hvdyA9IHRydWU7CiAgICAgIHRoaXMucXVlcnlKZFByb2R1Y3RMaXN0KCk7CiAgICB9LAogICAgLy8g5omT5byA5paw5aKe5L+u5pS56YWN5Lu2CiAgICBvcGVuQWRkRWRpdFBhcnQ6IGZ1bmN0aW9uIG9wZW5BZGRFZGl0UGFydChyb3csIGluZGV4LCBvcmRlclNuKSB7CiAgICAgIGlmIChpbmRleCB8fCBpbmRleCA9PSAwKSB7CiAgICAgICAgdGhpcy5wYXJ0SW5mbyA9IF9vYmplY3RTcHJlYWQoe30sIHJvdyk7CiAgICAgICAgdGhpcy51cGxvYWRQYXJ0SW1nTGlzdCA9IFt7CiAgICAgICAgICB1cmw6IHJvdy5pbWFnZQogICAgICAgIH1dOwogICAgICAgIHRoaXMuYWRkRWRpdFBhcnRUaXRsZSA9ICLkv67mlLnphY3ku7YiOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuYWRkRWRpdFBhcnRUaXRsZSA9ICLmlrDlop7phY3ku7YiOwogICAgICB9CgogICAgICB0aGlzLnBhcnRJbmZvLm9yZGVyU24gPSBvcmRlclNuOwogICAgICB0aGlzLmFkZEVkaXRQYXJ0RGlhbG9nU2hvdyA9IHRydWU7CiAgICB9LAogICAgLy8g56Gu5a6a5a+E5L+uCiAgICBjb25maXJtU2VuZHJlcGFpcjogZnVuY3Rpb24gY29uZmlybVNlbmRyZXBhaXIoKSB7CiAgICAgIHZhciBfdGhpczIyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyMigpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIyJChfY29udGV4dDIyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjIucHJldiA9IF9jb250ZXh0MjIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MjIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gc2VuZFJlcGFpcihfdGhpczIyLm9yZGVyU24pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfdGhpczIyLmNsb3NlT25lQ2xpY2tTZW5kcmVwYWlyKCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g5YWz6Zet5LiA6ZSu5a+E5L+uCiAgICBjbG9zZU9uZUNsaWNrU2VuZHJlcGFpcjogZnVuY3Rpb24gY2xvc2VPbmVDbGlja1NlbmRyZXBhaXIoKSB7CiAgICAgIHRoaXMub25lQ2xpY2tTZW5kcmVwYWlyID0gZmFsc2U7CiAgICB9LAogICAgLy8g5omT5byA5LiA6ZSu5a+E5L+uCiAgICBvcGVuT25lQ2xpY2tTZW5kcmVwYWlyOiBmdW5jdGlvbiBvcGVuT25lQ2xpY2tTZW5kcmVwYWlyKCkgewogICAgICB0aGlzLm9uZUNsaWNrU2VuZHJlcGFpciA9IHRydWU7CiAgICB9LAogICAgLy8g56Gu5a6a5a6h5qC45pWF6Zqc6aG555uuCiAgICBjb21maXJtRXhhbWluZUZhdWx0czogZnVuY3Rpb24gY29tZmlybUV4YW1pbmVGYXVsdHMoKSB7CiAgICAgIHZhciBfdGhpczIzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyMygpIHsKICAgICAgICB2YXIgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjMkKF9jb250ZXh0MjMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyMy5wcmV2ID0gX2NvbnRleHQyMy5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoX3RoaXMyMy5leGFtaW5lRmF1bHRzRm9ybS5pbWFnZSkpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyMy5leGFtaW5lRmF1bHRzRm9ybS5pbWFnZSA9IEpTT04uc3RyaW5naWZ5KF90aGlzMjMuZXhhbWluZUZhdWx0c0Zvcm0uaW1hZ2UpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0MjMubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gZXhhbWluZUZhdWx0SXRlbShfdGhpczIzLmV4YW1pbmVGYXVsdHNGb3JtKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQyMy5zZW50OwoKICAgICAgICAgICAgICAgIGlmICghKHJlcy5tZXNzYWdlID09ICLmk43kvZzmiJDlip8iKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIzLm5leHQgPSAxMDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXMyMy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgICAgICAgbWVzc2FnZTogIuaTjeS9nOaIkOWKnyEiCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBfY29udGV4dDIzLm5leHQgPSA4OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMjMuY2xvc2VFeGFtaW5lRmF1bHRzRGlhbG9nKCk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0MjMubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMjMuX2dldFJlcGFpck9yZGVyRGV0YWlsKCk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOWFs+mXreaVhemanOmhueebruWuoeaguOahhgogICAgY2xvc2VFeGFtaW5lRmF1bHRzRGlhbG9nOiBmdW5jdGlvbiBjbG9zZUV4YW1pbmVGYXVsdHNEaWFsb2coKSB7CiAgICAgIHZhciBfdGhpczI0ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyNCgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTI0JChfY29udGV4dDI0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjQucHJldiA9IF9jb250ZXh0MjQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzMjQuZXhhbWluZUZhdWx0c0Zvcm1WaWRlb0xpc3QgPSBbXTsKICAgICAgICAgICAgICAgIF90aGlzMjQuZXhhbWluZUZhdWx0c0Zvcm1QaWNMaXN0ID0gW107CiAgICAgICAgICAgICAgICBfdGhpczI0LmV4YW1pbmVGYXVsdHNGb3JtID0ge307CiAgICAgICAgICAgICAgICBfdGhpczI0LmV4YW1pbmVGYXVsdHMgPSBmYWxzZTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMjQpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDmiZPlvIDmlYXpmpzpobnnm67lrqHmoLjmoYYKICAgIG9wZW5FeGFtaW5lRmF1bHRzRGlhbG9nOiBmdW5jdGlvbiBvcGVuRXhhbWluZUZhdWx0c0RpYWxvZyhyb3csIG9yZGVyU24pIHsKICAgICAgcm93LmVudGVycHJpc2VDb25zdWx0QW1vdW50ID0gcm93LmFubnVhbEFtb3VudDsKCiAgICAgIGlmIChyb3cuaW1hZ2UpIHsKICAgICAgICBpZiAocm93LmltYWdlWzBdKSB7CiAgICAgICAgICB0aGlzLmV4YW1pbmVGYXVsdHNGb3JtUGljTGlzdCA9IFt7CiAgICAgICAgICAgIHVybDogcm93LmltYWdlWzBdCiAgICAgICAgICB9XTsKICAgICAgICB9CgogICAgICAgIGlmIChyb3cuaW1hZ2VbMV0pIHsKICAgICAgICAgIHRoaXMuZXhhbWluZUZhdWx0c0Zvcm1WaWRlb0xpc3QgPSBbewogICAgICAgICAgICB1cmw6IHJvdy5pbWFnZVsxXQogICAgICAgICAgfV07CiAgICAgICAgfQogICAgICB9CgogICAgICB0aGlzLmV4YW1pbmVGYXVsdHNGb3JtID0gX29iamVjdFNwcmVhZCh7fSwgcm93KTsKCiAgICAgIGlmIChBcnJheS5pc0FycmF5KHJvdy5pbWFnZSkgJiYgcm93LmltYWdlLmxlbmd0aCA+IDApIHsKICAgICAgICB0aGlzLmV4YW1pbmVGYXVsdHNGb3JtLmltYWdlID0gX3RvQ29uc3VtYWJsZUFycmF5KHJvdy5pbWFnZSk7CiAgICAgIH0KCiAgICAgIHRoaXMuZXhhbWluZUZhdWx0c0Zvcm0ub3JkZXJTbiA9IG9yZGVyU247CiAgICAgIHRoaXMuZXhhbWluZUZhdWx0cyA9IHRydWU7CiAgICB9LAogICAgLy8g5Yig6Zmk5pWF6Zqc6aG555uuCiAgICBkZWxTb2x2ZVBsYW46IGZ1bmN0aW9uIGRlbFNvbHZlUGxhbihyb3csIG9yZGVyU24pIHsKICAgICAgdmFyIF90aGlzMjUgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTI2KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjYkKF9jb250ZXh0MjYpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyNi5wcmV2ID0gX2NvbnRleHQyNi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMyNS4kY29uZmlybSgi5oKo56Gu5a6a5Yig6Zmk6K+l5pWF6Zqc6aG555uu5ZCXPyIsICLmj5DnpLoiLCB7CiAgICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAi56Gu5a6aIiwKICAgICAgICAgICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogIuWPlua2iCIsCiAgICAgICAgICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIgogICAgICAgICAgICAgICAgfSkudGhlbiggLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTI1KCkgewogICAgICAgICAgICAgICAgICB2YXIgcmVzOwogICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTI1JChfY29udGV4dDI1KSB7CiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyNS5wcmV2ID0gX2NvbnRleHQyNS5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyb3cuaWQpOwogICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjUubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlbGV0ZU9yZGVyRmF1bHRJdGVtKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiByb3cuaWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmRlclNuOiBvcmRlclNuCiAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQyNS5zZW50OwoKICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLm1lc3NhZ2UgPT0gIuaTjeS9nOaIkOWKnyIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjUuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICLliKDpmaTmiJDlip8iCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczI1Ll9nZXRSZXBhaXJPcmRlckRldGFpbCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNS5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlMjUpOwogICAgICAgICAgICAgICAgfSkpKTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMjYpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDkv67mlLnmiqXku7cKICAgIGVkaXRPZmZlclByaWNlOiBmdW5jdGlvbiBlZGl0T2ZmZXJQcmljZSgpIHsKICAgICAgdmFyIF90aGlzMjYgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTI3KCkgewogICAgICAgIHZhciBwYXJ0c1ByaWNlLCBmYXVsdHNQcmljZSwgZmF1bHRzU3RyLCBwYXJ0c0xpc3RTdHIsIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTI3JChfY29udGV4dDI3KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjcucHJldiA9IF9jb250ZXh0MjcubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIC8vIOiuoeeul+S7t+agvAogICAgICAgICAgICAgICAgcGFydHNQcmljZSA9IDA7CgogICAgICAgICAgICAgICAgX3RoaXMyNi5kYXRhLnBhcnRzTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgICAgIHBhcnRzUHJpY2UgKz0gaXRlbS5udW0gKiBpdGVtLnByaWNlOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgX3RoaXMyNi5kYXRhLnBhcnRzQW1vdW50ID0gcGFydHNQcmljZTsKICAgICAgICAgICAgICAgIGZhdWx0c1ByaWNlID0gMDsKCiAgICAgICAgICAgICAgICBfdGhpczI2LmRhdGEuZmF1bHRzLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgZmF1bHRzUHJpY2UgKz0gTnVtYmVyKGl0ZW0ubWFzdGVyQW1vdW50KTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIF90aGlzMjYuZGF0YS5kb29yQW1vdW50ID0gZmF1bHRzUHJpY2U7CiAgICAgICAgICAgICAgICBmYXVsdHNTdHIgPSBKU09OLnN0cmluZ2lmeShfdGhpczI2LmRhdGEuZmF1bHRzKTsKICAgICAgICAgICAgICAgIHBhcnRzTGlzdFN0ciA9IEpTT04uc3RyaW5naWZ5KF90aGlzMjYuZGF0YS5wYXJ0c0xpc3QpOwogICAgICAgICAgICAgICAgX3RoaXMyNi5kYXRhLmZhdWx0cyA9IGZhdWx0c1N0cjsKICAgICAgICAgICAgICAgIF90aGlzMjYuZGF0YS5wYXJ0cyA9IHBhcnRzTGlzdFN0cjsKICAgICAgICAgICAgICAgIF9jb250ZXh0MjcubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgcmV0dXJuIGVkaXRSZXBhaXJPcmRlcihfdGhpczI2LmRhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQyNy5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXMubWVzc2FnZSA9PT0gIuaTjeS9nOaIkOWKnyIpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyNi5fZ2V0UmVwYWlyT3JkZXJEZXRhaWwoKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mjcuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTI3KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g5Yig6Zmk6YWN5Lu25qih5byPCiAgICBkZWxQYXJ0c0xpc3Q6IGZ1bmN0aW9uIGRlbFBhcnRzTGlzdChyb3csIG9yZGVyU24pIHsKICAgICAgdmFyIF90aGlzMjcgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTI5KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjkkKF9jb250ZXh0MjkpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyOS5wcmV2ID0gX2NvbnRleHQyOS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMyNy4kY29uZmlybSgi5oKo56Gu5a6a5Yig6Zmk6K+l6YWN5Lu25ZCXPyIsICLmj5DnpLoiLCB7CiAgICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAi56Gu5a6aIiwKICAgICAgICAgICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogIuWPlua2iCIsCiAgICAgICAgICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIgogICAgICAgICAgICAgICAgfSkudGhlbiggLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTI4KCkgewogICAgICAgICAgICAgICAgICB2YXIgcmVzOwogICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTI4JChfY29udGV4dDI4KSB7CiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyOC5wcmV2ID0gX2NvbnRleHQyOC5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDI4Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkZWxldGVQYXJ0UHJvZHVjdCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogcm93LmlkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JkZXJTbjogb3JkZXJTbgogICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0Mjguc2VudDsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5tZXNzYWdlID09ICLmk43kvZzmiJDlip8iKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczI3LiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAi5Yig6Zmk5oiQ5YqfIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyNy5fZ2V0UmVwYWlyT3JkZXJEZXRhaWwoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mjguc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTI4KTsKICAgICAgICAgICAgICAgIH0pKSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mjkuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTI5KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g56Gu5a6a5a6h5qC4CiAgICBjb21maXJtRXhhbWluZVBhcnRzOiBmdW5jdGlvbiBjb21maXJtRXhhbWluZVBhcnRzKCkgewogICAgICB2YXIgX3RoaXMyOCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMzAoKSB7CiAgICAgICAgdmFyIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMwJChfY29udGV4dDMwKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MzAucHJldiA9IF9jb250ZXh0MzAubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MzAubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gZXhhbWluZVBhcnRQcm9kdWN0KF90aGlzMjguZXhhbWluZVBhcnRzRm9ybSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0MzAuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzLm1lc3NhZ2UgPT09ICLmk43kvZzmiJDlip8iKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMjguJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHJlcy5tZXNzYWdlLAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIgogICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMjguY2xvc2VFeGFtaW5lUGFydHNEaWFsb2coKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMjguX2dldFJlcGFpck9yZGVyRGV0YWlsKCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzAuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMwKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g5YWz6Zet6YWN5Lu25a6h5qC45qGGCiAgICBjbG9zZUV4YW1pbmVQYXJ0c0RpYWxvZzogZnVuY3Rpb24gY2xvc2VFeGFtaW5lUGFydHNEaWFsb2coKSB7CiAgICAgIHRoaXMuZXhhbWluZVBhcnRzRm9ybSA9IFtdOwogICAgICB0aGlzLmV4YW1pbmVQYXJ0cyA9IGZhbHNlOwogICAgfSwKICAgIC8vIOaJk+W8gOmFjeS7tuWuoeaguOahhgogICAgb3BlbkV4YW1pbmVQYXJ0c0RpYWxvZzogZnVuY3Rpb24gb3BlbkV4YW1pbmVQYXJ0c0RpYWxvZyhyb3csIG9yZGVyU24pIHsKICAgICAgdmFyIF90aGlzMjkgPSB0aGlzOwoKICAgICAgLy8gY29uc3Qgb2JqID0gcm93OwogICAgICAvLyB0aGlzLmV4YW1pbmVQYXJ0c0Zvcm0gPSB7IC4uLm9iaiB9OwogICAgICAvLyAvLyB0aGlzLmV4YW1pbmVQYXJ0c0Zvcm0ubnVtYmVyID0gbnVsbDsKICAgICAgLy8gdGhpcy5leGFtaW5lUGFydHNGb3JtLm9yZGVyU24gPSB0aGlzLm9yZGVyU247CiAgICAgIC8vIHRoaXMuZXhhbWluZVBhcnRzID0gdHJ1ZTsKICAgICAgdGhpcy4kY29uZmlybSgi56Gu6K6k6YWN5Lu25L+h5oGv5peg6K+v77yM6YCa6L+H5a6h5qC4IiwgIuWuoeaguOmFjeS7tiIsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIuehruWumiIsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogIuWPlua2iCIsCiAgICAgICAgdHlwZTogIndhcm5pbmciCiAgICAgIH0pLnRoZW4oIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzMSgpIHsKICAgICAgICB2YXIgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMzEkKF9jb250ZXh0MzEpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzMS5wcmV2ID0gX2NvbnRleHQzMS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQzMS5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBleGFtaW5lUGFydFByb2R1Y3QoewogICAgICAgICAgICAgICAgICBpZDogcm93LmlkLAogICAgICAgICAgICAgICAgICBvcmRlclNuOiBvcmRlclNuCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQzMS5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXMubWVzc2FnZSA9PSAi5pON5L2c5oiQ5YqfIikgewogICAgICAgICAgICAgICAgICBfdGhpczI5Ll9nZXRSZXBhaXJPcmRlckRldGFpbCgpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMxLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzMSk7CiAgICAgIH0pKSk7CiAgICB9LAogICAgLy8g6Lez6L2s54mp5rWB6K+m5oOFCiAgICBnb1RvTG9naXN0aWNzRGV0YWlsczogZnVuY3Rpb24gZ29Ub0xvZ2lzdGljc0RldGFpbHMocGFydElkLCBtb2RlbCwgb3JkZXJTbikgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogImxvZ2lzdGljc0RldGFpbHMiLAogICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICBwYXJ0SWQ6IHBhcnRJZCwKICAgICAgICAgIG1vZGVsOiBtb2RlbCwKICAgICAgICAgIG9yZGVyU246IG9yZGVyU24KICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOS7o+aPkOS6pOmqjOaUtgogICAgc3VibWl0Rm9yQWNjZXB0YW5jZTogZnVuY3Rpb24gc3VibWl0Rm9yQWNjZXB0YW5jZShvcmRlclNuKSB7CiAgICAgIHZhciBfdGhpczMwID0gdGhpczsKCiAgICAgIHRoaXMuJGNvbmZpcm0oIuaCqOehruWumuimgeaTjeS9nOS7o+aPkOS6pOmqjOaUtj8iLCAi5o+Q56S6IiwgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAi56Gu5a6aIiwKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAi5Y+W5raIIiwKICAgICAgICB0eXBlOiAid2FybmluZyIKICAgICAgfSkudGhlbiggLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMyKCkgewogICAgICAgIHZhciByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzMiQoX2NvbnRleHQzMikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMyLnByZXYgPSBfY29udGV4dDMyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDMyLm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZVN1Ym1pdEFjY2VwdGFuY2Uob3JkZXJTbik7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0MzIuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzLm1lc3NhZ2UgPT09ICLmk43kvZzmiJDlip8iKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMzAuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHJlcy5tZXNzYWdlLAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIgogICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMzAuX2dldFJlcGFpck9yZGVyRGV0YWlsKCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMyKTsKICAgICAgfSkpKTsKICAgIH0sCiAgICAvLyDnoa7lrprmt7vliqDlm57orr/kv6Hmga8KICAgIGFkZFJldHVyblZpc3RJbmZvOiBmdW5jdGlvbiBhZGRSZXR1cm5WaXN0SW5mbygpIHsKICAgICAgdmFyIF90aGlzMzEgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMzKCkgewogICAgICAgIHZhciByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzMyQoX2NvbnRleHQzMykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMzLnByZXYgPSBfY29udGV4dDMzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoX3RoaXMzMS5wbGF0Zm9ybVZpc2l0TWVzc2FnZSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDMzLm5leHQgPSA0OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczMxLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgbWVzc2FnZTogIuWbnuiuv+S/oeaBr+S4jeiDveS4uuepuiIsCiAgICAgICAgICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIgogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgX2NvbnRleHQzMy5uZXh0ID0gODsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBfY29udGV4dDMzLm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZVJlcGFpck1lc3NhZ2UoewogICAgICAgICAgICAgICAgICBvcmRlclNuOiBfdGhpczMxLm9yZGVyU24sCiAgICAgICAgICAgICAgICAgIHBsYXRmb3JtVmlzaXRNZXNzYWdlOiBfdGhpczMxLnBsYXRmb3JtVmlzaXRNZXNzYWdlCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQzMy5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXMubWVzc2FnZSA9PSAi5pON5L2c5oiQ5YqfIikgewogICAgICAgICAgICAgICAgICBfdGhpczMxLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiByZXMubWVzc2FnZSwKICAgICAgICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIKICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICBfdGhpczMxLl9nZXRSZXBhaXJPcmRlckRldGFpbCgpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgX3RoaXMzMS4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogIue9kee7nOS4jeS9s++8jOeojeWQjumHjeivlSIsCiAgICAgICAgICAgICAgICAgICAgdHlwZTogIndhcm5pbmciCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOi3s+i9rOaMh+a0vuW4iOWChemhtemdogogICAgZ29Bc3NpZ25lZE1hc3RlclBhZ2U6IGZ1bmN0aW9uIGdvQXNzaWduZWRNYXN0ZXJQYWdlKCkgewogICAgICB2YXIgX3RoaXMkZGF0YSA9IHRoaXMuZGF0YSwKICAgICAgICAgIG9yZGVyU24gPSBfdGhpcyRkYXRhLm9yZGVyU24sCiAgICAgICAgICBtYXN0ZXJVaWRMaXN0ID0gX3RoaXMkZGF0YS5tYXN0ZXJVaWRMaXN0LAogICAgICAgICAgbWFzdGVyTmFtZUxpc3QgPSBfdGhpcyRkYXRhLm1hc3Rlck5hbWVMaXN0OwogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogIi9tYWludGVuYW5jZS9hc3NpZ25lZFdvcmtlciIsCiAgICAgICAgcXVlcnk6IHsKICAgICAgICAgIG9yZGVyU246IG9yZGVyU24sCiAgICAgICAgICBtYXN0ZXJVaWRMaXN0OiBtYXN0ZXJVaWRMaXN0LAogICAgICAgICAgbWFzdGVyTmFtZUxpc3Q6IG1hc3Rlck5hbWVMaXN0CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvLyDliKTmlq3mjIfmtL7mjInpkq7mmK/lkKbmmL7npLoKICAgIGp1ZGdlQXNzaWduZWRCdG5TaG93OiBmdW5jdGlvbiBqdWRnZUFzc2lnbmVkQnRuU2hvdygpIHsKICAgICAgaWYgKHRoaXMuZGF0YS5lbnRlcnByaXNlTWFpblN0YXR1cyA9PT0gMSkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CgogICAgICBpZiAodGhpcy5kYXRhLmVudGVycHJpc2VNYWluU3RhdHVzID09PSAwKSB7CiAgICAgICAgaWYgKHRoaXMuZGF0YS5wbGF0Zm9ybVN0YXR1cyAhPT0gMCkgewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmRhdGEuZW50ZXJwcmlzZU1haW5TdGF0dXMgPT09IC0xKSB7CiAgICAgICAgaWYgKHRoaXMuZGF0YS5wbGF0Zm9ybVN0YXR1cyA9PT0gLTEpIHsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIC8vIOeCueWHu+ehruWumua3u+WKoOaPj+i/sAogICAgZGVzY0NvbmZpcm06IGZ1bmN0aW9uIGRlc2NDb25maXJtKCkgewogICAgICB2YXIgX3RoaXMzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMzQoKSB7CiAgICAgICAgdmFyIGRhdGEsIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTM0JChfY29udGV4dDM0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MzQucHJldiA9IF9jb250ZXh0MzQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IF90aGlzMzIuY29udGVudCwKICAgICAgICAgICAgICAgICAgb3JkZXJTbjogX3RoaXMzMi5kYXRhLm9yZGVyU24KICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dDM0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGVkaXRPcmRlclNlcnZpY2VQcm9ncmVzcyhkYXRhKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQzNC5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXMubWVzc2FnZSA9PT0gIuaTjeS9nOaIkOWKnyIpIHsKICAgICAgICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTM0KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g54K55Ye75Y+W5raI6K6i5Y2V6Kem5Y+R55qE5pe26Ze0CiAgICBjbGlja0NhbmNlbE9yZGVyRGlhbG9nOiBmdW5jdGlvbiBjbGlja0NhbmNlbE9yZGVyRGlhbG9nKCkgewogICAgICB0aGlzLmNhbmNlbE9yZGVyRGlhbG9nID0gdHJ1ZTsKICAgIH0sCiAgICAvLyDlhbPpl63lj5bmtojorqLljZXlvLnnqpfnmoTml7bpl7QKICAgIGNsb3NlY2FuY2VsT3JkZXJEaWFsb2c6IGZ1bmN0aW9uIGNsb3NlY2FuY2VsT3JkZXJEaWFsb2coKSB7CiAgICAgIHRoaXMuY2FuY2VsT3JkZXJEaWFsb2cgPSBmYWxzZTsKICAgICAgdGhpcy5kZWxPcmRlcmlucFZhbHVlID0gIiI7CiAgICB9LAogICAgLy8g5Yik5pat6YWN5Lu25piO57uGCiAgICBqdWRnZVBhcnRzOiBmdW5jdGlvbiBqdWRnZVBhcnRzKCkgewogICAgICBpZiAoIXRoaXMuZGF0YS5wYXJ0c0xpc3QpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5kYXRhLnBhcnRzTGlzdCAmJiB0aGlzLmRhdGEucGFydHNMaXN0Lmxlbmd0aCA9PT0gMCkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgfSwKICAgIC8vIOWIpOaWreaVhemanOino+WGs+aWueahiAogICAganVkZ2VGYXVsdDogZnVuY3Rpb24ganVkZ2VGYXVsdCgpIHsKICAgICAgaWYgKCF0aGlzLmRhdGEucHJvZ3JhbW1lTGlzdCkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfSBlbHNlIGlmICh0aGlzLmRhdGEucHJvZ3JhbW1lTGlzdC5hbmFseXNpcyA9PT0gdW5kZWZpbmVkICYmIHRoaXMuZGF0YS5wcm9ncmFtbWVMaXN0LmRlc2MgPT09IHVuZGVmaW5lZCAmJiB0aGlzLmRhdGEucHJvZ3JhbW1lTGlzdC5wcm9ncmFtbWUgPT09IHVuZGVmaW5lZCkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgfSwKICAgIC8vIOWIpOaWreiuouWNlei0ueeUqAogICAganVkZ2VPcmRlckNvc3Q6IGZ1bmN0aW9uIGp1ZGdlT3JkZXJDb3N0KCkgewogICAgICB2YXIgX3RoaXMkZGF0YTIgPSB0aGlzLmRhdGEsCiAgICAgICAgICBkb29yQW1vdW50ID0gX3RoaXMkZGF0YTIuZG9vckFtb3VudCwKICAgICAgICAgIHRlY2hub2xvZ3lBbW91bnQgPSBfdGhpcyRkYXRhMi50ZWNobm9sb2d5QW1vdW50LAogICAgICAgICAgcGFydHNBbW91bnQgPSBfdGhpcyRkYXRhMi5wYXJ0c0Ftb3VudCwKICAgICAgICAgIG90aGVyQW1vdW50ID0gX3RoaXMkZGF0YTIub3RoZXJBbW91bnQ7CgogICAgICBpZiAoZG9vckFtb3VudCA9PT0gMCAmJiB0ZWNobm9sb2d5QW1vdW50ID09PSAwICYmIG90aGVyQW1vdW50ID09PSAwICYgcGFydHNBbW91bnQgPT09IDApIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgIH0sCiAgICAvLyDngrnlh7vlj5bmtojorqLljZXlvLnnqpfnoa7lrprnmoTkuovku7YKICAgIF9jYW5jZWxSZXBhaXJPcmRlcjogZnVuY3Rpb24gX2NhbmNlbFJlcGFpck9yZGVyKCkgewogICAgICB2YXIgX3RoaXMzMyA9IHRoaXM7CgogICAgICB2YXIgcGFyYW1zID0gewogICAgICAgIG9yZGVyU246IHRoaXMub3JkZXJTbiwKICAgICAgICBjYW5jZWxSZWFzb246IHRoaXMuZGVsT3JkZXJpbnBWYWx1ZQogICAgICB9OwogICAgICBjYW5jZWxSZXBhaXJPcmRlcihwYXJhbXMpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMpIHsKICAgICAgICAgIF90aGlzMzMuJG1lc3NhZ2UoewogICAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICAgIG1lc3NhZ2U6IHJlcy5tZXNzYWdlLAogICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIKICAgICAgICAgIH0pOwoKICAgICAgICAgIF90aGlzMzMuJHJvdXRlci5wdXNoKCIvbWFpbnRlbmFuY2UvbWFpbnRlbmFuY2Vfb3JkZXIiKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOaaguaXtuS4jeefpemBk+W5suWYmyEhISEhCiAgICBjaGFuZ2VTdHV0YTogZnVuY3Rpb24gY2hhbmdlU3R1dGEoZSkgewogICAgICBpZiAoZS52YWx1ZSA9PSAxKSB7CiAgICAgICAgdGhpcy5zdGF0dXMgPSAyOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc3RhdHVzID0gMzsKICAgICAgfQogICAgfSwKICAgIC8vIOayoeeUqOWIsAogICAgc3J1ZUFjY29tb250OiBmdW5jdGlvbiBzcnVlQWNjb21vbnQoKSB7CiAgICAgIHRoaXMuJHJlZnMucXVvdGF0aW9uRm9ybS5vcGVuKCk7CiAgICB9LAogICAgLy8g54K55Ye75omT5qy+6Iez5biI5YKF6Kem5Y+R55qE5LqL5Lu2CiAgICBfaGFuZGxlTWFzdGVyUGF5bWVudDogZnVuY3Rpb24gX2hhbmRsZU1hc3RlclBheW1lbnQoKSB7CiAgICAgIHZhciBfdGhpczM0ID0gdGhpczsKCiAgICAgIHZhciBwYXJhbXMgPSB7CiAgICAgICAgb3JkZXJTbjogdGhpcy5vcmRlclNuCiAgICAgIH07CiAgICAgIGhhbmRsZU1hc3RlclBheW1lbnQocGFyYW1zKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzKSB7CiAgICAgICAgICBfdGhpczM0LiRtZXNzYWdlKHsKICAgICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgICAgICBtZXNzYWdlOiByZXMubWVzc2FnZSwKICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOeCueWHu+ehruWumuaKpeS7t+inpuWPkeeahOS6i+S7tgogICAgc3VtYml0UXVvdGF0aW9uOiBmdW5jdGlvbiBzdW1iaXRRdW90YXRpb24ob3JkZXJTbikgewogICAgICB2YXIgX3RoaXMzNSA9IHRoaXM7CgogICAgICB0aGlzLiRjb25maXJtKCLnoa7orqTlrprku7fml6Dor68/IiwgIuaPkOekuiIsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIuehruWumiIsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogIuWPlua2iCIsCiAgICAgICAgdHlwZTogIndhcm5pbmciCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBsb2FkaW5nID0gX3RoaXMzNS4kbG9hZGluZyh7CiAgICAgICAgICBsb2NrOiB0cnVlLAogICAgICAgICAgdGV4dDogIkxvYWRpbmciLAogICAgICAgICAgc3Bpbm5lcjogImVsLWljb24tbG9hZGluZyIsCiAgICAgICAgICBiYWNrZ3JvdW5kOiAicmdiYSgwLCAwLCAwLCAwLjcpIgogICAgICAgIH0pOwoKICAgICAgICB2YXIgZGF0YSA9IHsKICAgICAgICAgIG9yZGVyU246IG9yZGVyU24sCiAgICAgICAgICBzdGF0dXM6IDIsCiAgICAgICAgICByZWplY3RSZWFzb246ICIiCiAgICAgICAgfTsKICAgICAgICBleGFtaW5lTWFzdGVyUXVvdGF0aW9uKGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgbG9hZGluZy5jbG9zZSgpOwoKICAgICAgICAgIGlmIChyZXMuc3VjY2VzcykgewogICAgICAgICAgICBfdGhpczM1LiRtZXNzYWdlKHsKICAgICAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICAgICAgbWVzc2FnZTogcmVzLm1lc3NhZ2UsCiAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgX3RoaXMzNS4kcm91dGVyLnB1c2goIi9tYWludGVuYW5jZS9tYWludGVuYW5jZV9vcmRlciIpOwogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGxvYWRpbmcuY2xvc2UoKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgLy8gaW5pdCgpIHsKICAgIC8vICAgdGhpcy4kYXhpb3MKICAgIC8vICAgICAuZ2V0KAogICAgLy8gICAgICAgIi9hZG1pbi9tYWludGVuYW5jZS9nZXRSZXBhaXJPcmRlckRldGFpbD9lbnRlcnByaXNlT3JkZXJTbj0iICsKICAgIC8vICAgICAgICAgbG9jYXRpb24uaGFzaC5zcGxpdCgiP2VudGVycHJpc2VPcmRlclNuPSIpWzFdCiAgICAvLyAgICAgKQogICAgLy8gICAgIC50aGVuKCh7IGRhdGEgfSkgPT4gewogICAgLy8gICAgICAgdGhpcy5kYXRhID0gZGF0YTsKICAgIC8vICAgICB9KQogICAgLy8gICAgIC5jYXRjaChlcnIgPT4gewogICAgLy8gICAgICAgY29uc29sZS5lcnJvcihlcnIpOwogICAgLy8gICAgIH0pOwogICAgLy8gfSwKICAgIC8vIOaYvuekuuS8geS4muaKpeS7t+W8ueahhgogICAgLy8g5rKh55So5YiwCiAgICBxdW90YXRpb25Jbml0OiBmdW5jdGlvbiBxdW90YXRpb25Jbml0KCkgewogICAgICB0aGlzLnF1b3RhdGlvbkZvcm0gPSB7CiAgICAgICAgZW50ZXJwcmlzZU9yZGVyU246IHRoaXMuZGF0YS5vcmRlclNuLAogICAgICAgIHN0YXR1czogIjAiCiAgICAgIH07CiAgICAgIHRoaXMuJHJlZnMucXVvdGF0aW9uRm9ybS5vcGVuKCk7CiAgICB9LAogICAgLy8gc3VtYml0UXVvdGF0aW9uKGZuKSB7CiAgICAvLyAgIGlmICgKICAgIC8vICAgICB0aGlzLnF1b3RhdGlvbkZvcm0uc3RhdHVzID09ICIwIiAmJgogICAgLy8gICAgICF0aGlzLnF1b3RhdGlvbkZvcm0ucmVqZWN0UmVhc29uCiAgICAvLyAgICkgewogICAgLy8gICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuivt+i+k+WFpemps+WbnuWOn+WboCIpOwogICAgLy8gICAgIHJldHVybjsKICAgIC8vICAgfQogICAgLy8gICB0aGlzLiRheGlvcwogICAgLy8gICAgIC5wb3N0KHRoaXMudXJsLmhhbmRsZU1hc3RlclF1b3RhdGlvbiwgdGhpcy5xdW90YXRpb25Gb3JtKQogICAgLy8gICAgIC50aGVuKGRhdGEgPT4gewogICAgLy8gICAgICAgaWYgKGRhdGEuY29kZSA9PSAiMDAwIikgewogICAgLy8gICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgIC8vICAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAvLyAgICAgICAgICAgbWVzc2FnZTogZGF0YS5tZXNzYWdlLAogICAgLy8gICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIgogICAgLy8gICAgICAgICB9KTsKICAgIC8vICAgICAgICAgdGhpcy5yZXNldFF1b3RhdGlvbkZvcm0oZm4pOwogICAgLy8gICAgICAgfQogICAgLy8gICAgIH0pCiAgICAvLyAgICAgLmNhdGNoKGVyciA9PiB7CiAgICAvLyAgICAgICBjb25zb2xlLmVycm9yKGVycik7CiAgICAvLyAgICAgfSk7CiAgICAvLyB9LAogICAgLy8g5YWz6Zet56Gu6K6k5oql5Lu355qE5qih5oCB5qGG55qE5LqL5Lu2CiAgICByZXNldFF1b3RhdGlvbkZvcm06IGZ1bmN0aW9uIHJlc2V0UXVvdGF0aW9uRm9ybShmbikgewogICAgICB0aGlzLl9nZXRSZXBhaXJPcmRlckRldGFpbCgpOwoKICAgICAgZm4oZmFsc2UpOwogICAgfSwKICAgIC8vIOeCueWHu+ajgOa1i+WumuS7t+inpuWPkeeahOS6i+S7tgogICAganVtcDJjaGVjazogZnVuY3Rpb24ganVtcDJjaGVjaygpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICJjaGVja1ByaWNpbmciLAogICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICBvcmRlclNuOiB0aGlzLmRhdGEub3JkZXJTbiwKICAgICAgICAgIGVkaXQ6IHRydWUKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOayoeeUqOi/hwogICAgcGF5OiBmdW5jdGlvbiBwYXkoKSB7CiAgICAgIHZhciBfdGhpczM2ID0gdGhpczsKCiAgICAgIHRoaXMuJGF4aW9zLnBvc3QodGhpcy51cmwuaGFuZGxlQ29uZmlybURlcG9zaXQsIHsKICAgICAgICBlbnRlcnByaXNlT3JkZXJTbjogbG9jYXRpb24uaGFzaC5zcGxpdCgiP2VudGVycHJpc2VPcmRlclNuPSIpWzFdLAogICAgICAgIC8vIHR5cGUgKGludGVnZXIsIG9wdGlvbmFsKTog57G75Z6LOiAxIOWumumHkSAyIOWwvuasvgogICAgICAgIHR5cGU6IHRoaXMuZGF0YS5lbnRlcnByaXNlU3ViU3RhdHVzID09IDIzMDUgPyAxIDogMgogICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgaWYgKGRhdGEuY29kZSA9PSAiMDAwIikgewogICAgICAgICAgX3RoaXMzNi4kbWVzc2FnZSh7CiAgICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgICAgICAgICAgbWVzc2FnZTogZGF0YS5tZXNzYWdlLAogICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIKICAgICAgICAgIH0pOwoKICAgICAgICAgIF90aGlzMzYuX2dldFJlcGFpck9yZGVyRGV0YWlsKCk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgY29uc29sZS5lcnJvcihlcnIpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDmmL7npLrkvIHkuJrmiqXku7flvLnmoYYKICAgIGNoZWNrSW5pdDogZnVuY3Rpb24gY2hlY2tJbml0KCkgewogICAgICB0aGlzLmNoZWNrRm9ybSA9IHsKICAgICAgICBlbnRlcnByaXNlT3JkZXJTbjogdGhpcy5kYXRhLm9yZGVyU24sCiAgICAgICAgc3RhdHVzOiAiMCIKICAgICAgfTsKICAgICAgdGhpcy4kcmVmcy5jaGVja0Zvcm0ub3BlbigpOwogICAgfSwKICAgIC8vIOehruiupOmqjOaUtueahOaooeaAgeahhuehruWumueahOS6i+S7tgogICAgc3VtYml0Q2hlY2s6IGZ1bmN0aW9uIHN1bWJpdENoZWNrKGZuKSB7CiAgICAgIHZhciBfdGhpczM3ID0gdGhpczsKCiAgICAgIGlmICh0aGlzLmNoZWNrRm9ybS5zdGF0dXMgPT0gIjAiICYmICF0aGlzLmNoZWNrRm9ybS5yZWplY3RSZWFzb24pIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLor7fovpPlhaXpqbPlm57ljp/lm6AiKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHRoaXMuJGF4aW9zLnBvc3QodGhpcy51cmwuaGFuZGxlRW50ZXJwcmlzZUNoZWNrLCB0aGlzLmNoZWNrRm9ybSkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIGlmIChkYXRhLmNvZGUgPT0gIjAwMCIpIHsKICAgICAgICAgIF90aGlzMzcuJG1lc3NhZ2UoewogICAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICAgIG1lc3NhZ2U6IGRhdGEubWVzc2FnZSwKICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiCiAgICAgICAgICB9KTsKCiAgICAgICAgICBfdGhpczM3LnJlc2V0Q2hlY2tGb3JtKGZuKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBjb25zb2xlLmVycm9yKGVycik7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOehruiupOmqjOaUtueahOaooeaAgeahhuWFs+mXreeahOS6i+S7tgogICAgcmVzZXRDaGVja0Zvcm06IGZ1bmN0aW9uIHJlc2V0Q2hlY2tGb3JtKGZuKSB7CiAgICAgIHRoaXMuX2dldFJlcGFpck9yZGVyRGV0YWlsKCk7CgogICAgICBmbihmYWxzZSk7CiAgICB9LAogICAgaGFuZGxlQ29uZmlybURlcG9zaXRUb01hc3RlcjogZnVuY3Rpb24gaGFuZGxlQ29uZmlybURlcG9zaXRUb01hc3RlcihmbikgewogICAgICB2YXIgX3RoaXMzOCA9IHRoaXM7CgogICAgICB0aGlzLiRheGlvcy5wb3N0KHRoaXMudXJsLmhhbmRsZUNvbmZpcm1EZXBvc2l0VG9NYXN0ZXIsIHsKICAgICAgICBlbnRlcnByaXNlT3JkZXJTbjogbG9jYXRpb24uaGFzaC5zcGxpdCgiP2VudGVycHJpc2VPcmRlclNuPSIpWzFdLAogICAgICAgIHR5cGU6IHRoaXMuZGF0YS5lbnRlcnByaXNlU3ViU3RhdHVzID09ICIyMzA2IiA/IDEgOiAyCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICBpZiAoZGF0YS5jb2RlID09ICIwMDAiKSB7CiAgICAgICAgICBfdGhpczM4LiRtZXNzYWdlKHsKICAgICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgICAgICBtZXNzYWdlOiBkYXRhLm1lc3NhZ2UsCiAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIgogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBfdGhpczM4LnJlc2V0UGxhdGZvcm1QYXkoZm4pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgY29uc29sZS5lcnJvcihlcnIpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDmsqHnlKjliLAKICAgIHBsYXRmb3JtUGF5SW5pdDogZnVuY3Rpb24gcGxhdGZvcm1QYXlJbml0KCkgewogICAgICBpZiAodGhpcy5kYXRhLmVudGVycHJpc2VTdWJTdGF0dXMgIT0gIjI1MDIiKSB7CiAgICAgICAgdGhpcy4kcmVmcy5wbGF0Zm9ybS5vcGVuKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5oYW5kbGVDb25maXJtRGVwb3NpdFRvTWFzdGVyKCk7CiAgICAgIH0KICAgIH0sCiAgICAvLyDmiZPmrL7kv6Hmga/nmoTmqKHmgIHmoYbnoa7lrprnmoTkuovku7YKICAgIHN1bWJpdFBsYXRmb3JtUGF5OiBmdW5jdGlvbiBzdW1iaXRQbGF0Zm9ybVBheShmbikgewogICAgICBpZiAodGhpcy5kYXRhLmVudGVycHJpc2VTdWJTdGF0dXMgPT0gIjI2MDEiKSB7CiAgICAgICAgdGhpcy5yZW1pdChmbik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5oYW5kbGVDb25maXJtRGVwb3NpdFRvTWFzdGVyKGZuKTsKICAgICAgfQogICAgfSwKICAgIC8vIOaJk+asvuS/oeaBr+eahOaooeaAgeahhuehruWumueahOS6i+S7tgogICAgcmVtaXQ6IGZ1bmN0aW9uIHJlbWl0KGZuKSB7CiAgICAgIHZhciBfdGhpczM5ID0gdGhpczsKCiAgICAgIHRoaXMuJGF4aW9zLnBvc3QodGhpcy51cmwuaGFuZGxlQ29uZmlybUJhbGFuY2VUb01hc3RlciwgewogICAgICAgIGVudGVycHJpc2VPcmRlclNuOiBsb2NhdGlvbi5oYXNoLnNwbGl0KCI/ZW50ZXJwcmlzZU9yZGVyU249IilbMV0KICAgICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIGlmIChkYXRhLmNvZGUgPT0gIjAwMCIpIHsKICAgICAgICAgIF90aGlzMzkuJG1lc3NhZ2UoewogICAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICAgIG1lc3NhZ2U6IGRhdGEubWVzc2FnZSwKICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiCiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIF90aGlzMzkucmVzZXRQbGF0Zm9ybVBheShmbik7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBjb25zb2xlLmVycm9yKGVycik7CiAgICAgIH0pOwogICAgfSwKICAgIHJlc2V0UGxhdGZvcm1QYXk6IGZ1bmN0aW9uIHJlc2V0UGxhdGZvcm1QYXkoZm4pIHsKICAgICAgdGhpcy5fZ2V0UmVwYWlyT3JkZXJEZXRhaWwoKTsKCiAgICAgIGZuKGZhbHNlKTsKICAgIH0sCiAgICBfZ2V0UmVwYWlyT3JkZXJEZXRhaWw6IGZ1bmN0aW9uIF9nZXRSZXBhaXJPcmRlckRldGFpbCgpIHsKICAgICAgdmFyIF90aGlzNDAgPSB0aGlzOwoKICAgICAgdmFyIHBhcmFtcyA9IHsKICAgICAgICBlbnRlcnByaXNlT3JkZXJTbjogdGhpcy5vcmRlclNuCiAgICAgIH07CiAgICAgIGdldFJlcGFpck9yZGVyRGV0YWlsKHBhcmFtcykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICB2YXIgX3JlcyRkYXRhJGZhdWx0cywgX3JlcyRkYXRhJHJlcGFpckNvbW1lOwoKICAgICAgICAgIC8vIOS4uuS6huWunueOsOWkmuS4quW4iOWCheaYjue7hgogICAgICAgICAgaWYgKHJlcy5kYXRhLmVucm9sbFJlcGFpck9yZGVyT3V0TGlzdCkgewogICAgICAgICAgICByZXMuZGF0YS5lbnJvbGxSZXBhaXJPcmRlck91dExpc3QuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgIC8vIOWbnuaYvuaVhemanOmhuQogICAgICAgICAgICAgIGlmIChpdGVtLmZhdWx0cykgewogICAgICAgICAgICAgICAgdmFyIF9pdGVtJGZhdWx0czsKCiAgICAgICAgICAgICAgICBpdGVtLmZhdWx0cyA9IEpTT04ucGFyc2UoaXRlbS5mYXVsdHMpOwoKICAgICAgICAgICAgICAgIGlmICgoKF9pdGVtJGZhdWx0cyA9IGl0ZW0uZmF1bHRzKSA9PT0gbnVsbCB8fCBfaXRlbSRmYXVsdHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9pdGVtJGZhdWx0cy5sZW5ndGgpID4gMCkgewogICAgICAgICAgICAgICAgICBpdGVtLmZhdWx0cy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtMSkgewogICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgaXRlbTEuaW1hZ2UgPT0gInN0cmluZyIpIHsKICAgICAgICAgICAgICAgICAgICAgIGl0ZW0xLmltYWdlID0gSlNPTi5wYXJzZShpdGVtMS5pbWFnZSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9IC8vIOWbnuaYvumFjeS7tgoKCiAgICAgICAgICAgICAgaWYgKGl0ZW0ucGFydHMpIHsKICAgICAgICAgICAgICAgIGl0ZW0ucGFydHMgPSBKU09OLnBhcnNlKGl0ZW0ucGFydHMpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CgogICAgICAgICAgcmVzLmRhdGEuZmF1bHRzID0gSlNPTi5wYXJzZShyZXMuZGF0YS5mYXVsdHMpOwoKICAgICAgICAgIGlmICgoKF9yZXMkZGF0YSRmYXVsdHMgPSByZXMuZGF0YS5mYXVsdHMpID09PSBudWxsIHx8IF9yZXMkZGF0YSRmYXVsdHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9yZXMkZGF0YSRmYXVsdHMubGVuZ3RoKSA+IDApIHsKICAgICAgICAgICAgcmVzLmRhdGEuZmF1bHRzLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICBpZiAodHlwZW9mIGl0ZW0uaW1hZ2UgPT0gInN0cmluZyIpIHsKICAgICAgICAgICAgICAgIGl0ZW0uaW1hZ2UgPSBKU09OLnBhcnNlKGl0ZW0uaW1hZ2UpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IC8vIOWIpOaWreS4gOmUruWvhOS/rgoKCiAgICAgICAgICBpZiAocmVzLmRhdGEucGFydHNMaXN0KSB7CiAgICAgICAgICAgIHJlcy5kYXRhLnBhcnRzTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgLy8g5ZCM5pe25pyJ5aSW5Y+R5ZKM5bmz5Y+wCiAgICAgICAgICAgICAgaWYgKGl0ZW0ubW9kZWwgPT0gMSAmJiBpdGVtLnR5cGUgPT0gMikgewogICAgICAgICAgICAgICAgX3RoaXM0MC5wYXJ0SXRlbVNlbmQgPSB0cnVlOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CgogICAgICAgICAgX3RoaXM0MC5kYXRhID0gcmVzLmRhdGE7CgogICAgICAgICAgaWYgKHJlcy5kYXRhICYmIChfcmVzJGRhdGEkcmVwYWlyQ29tbWUgPSByZXMuZGF0YS5yZXBhaXJDb21tZW50KSAhPT0gbnVsbCAmJiBfcmVzJGRhdGEkcmVwYWlyQ29tbWUgIT09IHZvaWQgMCAmJiBfcmVzJGRhdGEkcmVwYWlyQ29tbWUuaW1hZ2VzKSB7CiAgICAgICAgICAgIF90aGlzNDAucmVwYWlyQ29tbWVudEltYWdlID0gX3RoaXM0MC5kYXRhLnJlcGFpckNvbW1lbnQuaW1hZ2VzLnNwbGl0KCIsIik7CiAgICAgICAgICB9CgogICAgICAgICAgX3RoaXM0MC4kbWVzc2FnZSh7CiAgICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgICAgICAgICAgbWVzc2FnZTogcmVzLm1lc3NhZ2UsCiAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIgogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9Cn07"},null]}