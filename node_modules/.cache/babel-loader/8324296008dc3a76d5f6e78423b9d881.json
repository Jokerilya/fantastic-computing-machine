{"remainingRequest":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\babel-loader\\lib\\index.js!D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\机将公司\\机将后台端\\background-management-system\\src\\views\\system\\agreement\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\机将公司\\机将后台端\\background-management-system\\src\\views\\system\\agreement\\index.vue","mtime":1669258939330},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJEOi9cdTY3M0FcdTVDMDZcdTUxNkNcdTUzRjgvXHU2NzNBXHU1QzA2XHU1NDBFXHU1M0YwXHU3QUVGL2JhY2tncm91bmQtbWFuYWdlbWVudC1zeXN0ZW0vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFRpbnltY2UgZnJvbSAnQC9jb21wb25lbnRzL1RpbnltY2UnOwppbXBvcnQgeyBxdWVyeUFncmVlbWVudEZuLCBlZGl0QWdyZWVtZW50Rm4gfSBmcm9tICdAL2FwaS9zeXN0ZW0uanMnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ05vdGljZScsCiAgY29tcG9uZW50czogewogICAgVGlueW1jZTogVGlueW1jZQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRhdGFMaXN0OiBbXSwKICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIGRlZkRkYXRhOiB7CiAgICAgICAgJ2NvbnRlbnQnOiAnJywKICAgICAgICAnaWQnOiAnJywKICAgICAgICAndGl0bGUnOiAnJwogICAgICB9CiAgICB9OwogIH0sCiAgYmVmb3JlTW91bnQ6IGZ1bmN0aW9uIGJlZm9yZU1vdW50KCkgewogICAgdGhpcy5nZXREYXRhTGlzdEZuKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBzdWJtaXREYXRhRm46IGZ1bmN0aW9uIHN1Ym1pdERhdGFGbigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGVkaXRBZ3JlZW1lbnRGbih7CiAgICAgICAgJ2NvbnRlbnQnOiB0aGlzLmRlZkRkYXRhLmNvbnRlbnQsCiAgICAgICAgJ2lkJzogdGhpcy5kZWZEZGF0YS5pZCwKICAgICAgICAndGl0bGUnOiB0aGlzLmRlZkRkYXRhLnRpdGxlCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIHZhciByZXNEYXRhID0gX3RoaXMucmVzRGF0YUZuKHJlcyk7CgogICAgICAgIGlmIChyZXNEYXRhID09ICcwMDAnKSB7CiAgICAgICAgICBfdGhpcy5kaWFsb2dWaXNpYmxlID0gZmFsc2U7CgogICAgICAgICAgX3RoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICAgIG1lc3NhZ2U6ICfmk43kvZzmiJDlip/vvIEnLAogICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgICAgIH0pOwoKICAgICAgICAgIF90aGlzLmdldERhdGFMaXN0Rm4oKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGVkaXRJdGVtRm46IGZ1bmN0aW9uIGVkaXRJdGVtRm4ocm93KSB7CiAgICAgIHRoaXMuZGVmRGRhdGEgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmRlZkRkYXRhLCByb3cpOwogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgfSwKICAgIGRlbGV0ZUl0ZW1GbjogZnVuY3Rpb24gZGVsZXRlSXRlbUZuKHNjb3BlKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5kZWxldGVBbGVydCgpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIHZhciByZXMgPSBkZWxOb3RpY2VGbih7CiAgICAgICAgICBpZDogc2NvcGUucm93LmlkCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIHJlczsKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgdmFyIHJlc0RhdGEgPSBfdGhpczIucmVzRGF0YUZuKHJlcyk7CgogICAgICAgIGlmIChyZXNEYXRhID09ICcwMDAnKSB7CiAgICAgICAgICBfdGhpczIuZGF0YUxpc3Quc3BsaWNlKHNjb3BlLiRpbmRleCwgMSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBnZXREYXRhTGlzdEZuOiBmdW5jdGlvbiBnZXREYXRhTGlzdEZuKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHF1ZXJ5QWdyZWVtZW50Rm4oKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICB2YXIgX3RoaXMzJGRhdGFMaXN0OwoKICAgICAgICB2YXIgcmVzRGF0YSA9IF90aGlzMy5yZXNEYXRhRm4ocmVzKTsKCiAgICAgICAgKF90aGlzMyRkYXRhTGlzdCA9IF90aGlzMy5kYXRhTGlzdCkuc3BsaWNlLmFwcGx5KF90aGlzMyRkYXRhTGlzdCwgWzAsIF90aGlzMy5kYXRhTGlzdC5sZW5ndGhdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkocmVzRGF0YSkpKTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoDA,OAAA,OAAA,MAAA,sBAAA;AACA,SAAA,gBAAA,EAAA,eAAA,QAAA,iBAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,QADA;AAEA,EAAA,UAAA,EAAA;AAAA,IAAA,OAAA,EAAA;AAAA,GAFA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AAEA,MAAA,aAAA,EAAA,KAFA;AAGA,MAAA,QAAA,EAAA;AACA,mBAAA,EADA;AAEA,cAAA,EAFA;AAGA,iBAAA;AAHA;AAHA,KAAA;AASA,GAbA;AAcA,EAAA,WAdA,yBAcA;AACA,SAAA,aAAA;AACA,GAhBA;AAiBA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,0BACA;AAAA;;AACA,MAAA,eAAA,CAAA;AACA,mBAAA,KAAA,QAAA,CAAA,OADA;AAEA,cAAA,KAAA,QAAA,CAAA,EAFA;AAGA,iBAAA,KAAA,QAAA,CAAA;AAHA,OAAA,CAAA,CAIA,IAJA,CAIA,UAAA,GAAA,EAAA;AACA,YAAA,OAAA,GAAA,KAAA,CAAA,SAAA,CAAA,GAAA,CAAA;;AACA,YAAA,OAAA,IAAA,KAAA,EAAA;AACA,UAAA,KAAA,CAAA,aAAA,GAAA,KAAA;;AACA,UAAA,KAAA,CAAA,QAAA,CAAA;AACA,YAAA,SAAA,EAAA,IADA;AAEA,YAAA,OAAA,EAAA,OAFA;AAGA,YAAA,IAAA,EAAA;AAHA,WAAA;;AAKA,UAAA,KAAA,CAAA,aAAA;AACA;AACA,OAfA;AAgBA,KAlBA;AAmBA,IAAA,UAnBA,sBAmBA,GAnBA,EAmBA;AACA,WAAA,QAAA,GAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA,KAAA,QAAA,EAAA,GAAA,CAAA;AACA,WAAA,aAAA,GAAA,IAAA;AACA,KAtBA;AAuBA,IAAA,YAvBA,wBAuBA,KAvBA,EAuBA;AAAA;;AACA,WAAA,WAAA,GAAA,IAAA,CAAA,YAAA;AACA,YAAA,GAAA,GAAA,WAAA,CAAA;AAAA,UAAA,EAAA,EAAA,KAAA,CAAA,GAAA,CAAA;AAAA,SAAA,CAAA;AACA,eAAA,GAAA;AACA,OAHA,EAGA,IAHA,CAGA,UAAA,GAAA,EAAA;AACA,YAAA,OAAA,GAAA,MAAA,CAAA,SAAA,CAAA,GAAA,CAAA;;AACA,YAAA,OAAA,IAAA,KAAA,EAAA;AACA,UAAA,MAAA,CAAA,QAAA,CAAA,MAAA,CAAA,KAAA,CAAA,MAAA,EAAA,CAAA;AACA;AACA,OARA;AASA,KAjCA;AAkCA,IAAA,aAlCA,2BAkCA;AAAA;;AACA,MAAA,gBAAA,GAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AAAA;;AACA,YAAA,OAAA,GAAA,MAAA,CAAA,SAAA,CAAA,GAAA,CAAA;;AACA,2BAAA,MAAA,CAAA,QAAA,EAAA,MAAA,yBAAA,CAAA,EAAA,MAAA,CAAA,QAAA,CAAA,MAAA,4BAAA,OAAA;AACA,OAHA;AAIA;AAvCA;AAjBA,CAAA","sourcesContent":["<template>\n  <div class=\"content_box\">\n    <first-title title=\"系统说明\" />\n    <el-table\n      border\n      :data=\"dataList\"\n      class=\"list\"\n    >\n      <el-table-column label=\"ID\" fixed width=\"60\" align=\"center\" header-align=\"center\">\n        <template slot-scope=\"scope\">\n          <span>{{ scope.row.id }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"标题\" align=\"center\" header-align=\"center\">\n        <template slot-scope=\"scope\">\n          <span>{{ scope.row.title }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"操作\" fixed=\"right\" width=\"200\" align=\"center\" header-align=\"center\">\n        <template slot-scope=\"scope\">\n          <el-button type=\"primary\" size=\"small\" @click=\"editItemFn(scope.row)\">编辑</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <el-dialog\n      title=\"添加/编辑\"\n      :visible.sync=\"dialogVisible\"\n      width=\"70%\"\n    >\n      <div>\n        <el-form ref=\"form\" :model=\"defDdata\" label-width=\"100px\">\n          <el-form-item label=\"信息ID\">\n            <el-input v-model=\"defDdata.id\" disabled=\"disabled\" />\n          </el-form-item>\n          <el-form-item label=\"标题\">\n            <el-input v-model=\"defDdata.title\" />\n          </el-form-item>\n          <el-form-item label=\"内容\">\n            <tinymce v-if=\"dialogVisible\" :id=\"'agreement_'+defDdata.id\" v-model=\"defDdata.content\" :height=\"300\" />\n          </el-form-item>\n        </el-form>\n      </div>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"submitDataFn\">确 定</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport Tinymce from '@/components/Tinymce'\nimport { queryAgreementFn, editAgreementFn } from '@/api/system.js'\nexport default {\n  name: 'Notice',\n  components: { Tinymce },\n  data() {\n    return {\n      dataList: [],\n      dialogVisible: false,\n      defDdata: {\n        'content': '',\n        'id': '',\n        'title': ''\n      }\n    }\n  },\n  beforeMount() {\n    this.getDataListFn()\n  },\n  methods: {\n    submitDataFn() {\n      editAgreementFn({\n        'content': this.defDdata.content,\n        'id': this.defDdata.id,\n        'title': this.defDdata.title\n      }).then((res) => {\n        const resData = this.resDataFn(res)\n        if (resData == '000') {\n          this.dialogVisible = false\n          this.$message({\n            showClose: true,\n            message: '操作成功！',\n            type: 'success'\n          })\n          this.getDataListFn()\n        }\n      })\n    },\n    editItemFn(row) {\n      this.defDdata = Object.assign({}, this.defDdata, row)\n      this.dialogVisible = true\n    },\n    deleteItemFn(scope) {\n      this.deleteAlert().then(() => {\n        const res = delNoticeFn({ id: scope.row.id })\n        return res\n      }).then((res) => {\n        const resData = this.resDataFn(res)\n        if (resData == '000') {\n          this.dataList.splice(scope.$index, 1)\n        }\n      })\n    },\n    getDataListFn() {\n      queryAgreementFn().then((res) => {\n        const resData = this.resDataFn(res)\n        this.dataList.splice(0, this.dataList.length, ...resData)\n      })\n    }\n  }\n}\n</script>\n\n<style>\n</style>\n"],"sourceRoot":"src/views/system/agreement"}]}