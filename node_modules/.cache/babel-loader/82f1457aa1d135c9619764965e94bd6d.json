{"remainingRequest":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\babel-loader\\lib\\index.js!D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\机将公司\\机将后台端\\background-management-system\\src\\components\\gdMap\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\机将公司\\机将后台端\\background-management-system\\src\\components\\gdMap\\index.vue","mtime":1669276636823},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJEOi9cdTY3M0FcdTVDMDZcdTUxNkNcdTUzRjgvXHU2NzNBXHU1QzA2XHU1NDBFXHU1M0YwXHU3QUVGL2JhY2tncm91bmQtbWFuYWdlbWVudC1zeXN0ZW0vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IEFNYXBNYW5hZ2VyIH0gZnJvbSAidnVlLWFtYXAiOwp2YXIgYW1hcE1hbmFnZXIgPSBuZXcgQU1hcE1hbmFnZXIoKTsKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICBvcGVubWFwZGlhbG9nOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgcmV0dXJuIF9kZWZpbmVQcm9wZXJ0eSh7CiAgICAgIGRpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBzZWFyY2hPcHRpb246IHsKICAgICAgICBjaXR5OiAiIiwKICAgICAgICAvL+aQnOe0ouiMg+WbtAogICAgICAgIGNpdHlsaW1pdDogZmFsc2UgLy/pmZDliLbmkJzntKLojIPlm7QKICAgICAgICAvL2NpdHk6ICIiLCBjaXR5bGltaXQ6IGZhbHNlLCAvLyDkuI3pmZDliLbmkJzntKLojIPlm7TmkJzntKLvvIzmr5TlpoLmg7Plhajlm73mkJzntKIKCiAgICAgIH0sCiAgICAgIGxuZzogIiIsCiAgICAgIGxhdDogIiIsCiAgICAgIGFkZHJlc3M6ICIiLAogICAgICBtYXJrZXI6ICIiLAogICAgICBhbWFwTWFuYWdlcjogYW1hcE1hbmFnZXIsCiAgICAgIHpvb206IDEyLAogICAgICBjZW50ZXI6IFsxMTMuNzUxODg0LCAyMy4wMjEwMTZdLAogICAgICBldmVudHM6IHsKICAgICAgICBpbml0OiBmdW5jdGlvbiBpbml0KG8pIHsKICAgICAgICAgIG8uZ2V0Q2l0eShmdW5jdGlvbiAocmVzdWx0KSB7Ly8gY29uc29sZS5sb2cocmVzdWx0KTsKICAgICAgICAgICAgLy8gdGhpcy5zZWFyY2hPcHRpb24uY2l0eT1yZXN1bHQuY2l0eQogICAgICAgICAgfSk7CiAgICAgICAgICB2YXIgcGFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgic2VhcmNoLWJveC13cmFwcGVyIilbMF07CiAgICAgICAgICBwYXIuZmlyc3RDaGlsZC5zZXRBdHRyaWJ1dGUoInBsYWNlaG9sZGVyIiwgIuWcqOi/memHjOi+k+WFpeimgeaQnOe0oueahOWcsOWdgOWTpiIpOwogICAgICAgIH0sCiAgICAgICAgbW92ZWVuZDogZnVuY3Rpb24gbW92ZWVuZCgpIHt9LAogICAgICAgIHpvb21jaGFuZ2U6IGZ1bmN0aW9uIHpvb21jaGFuZ2UoKSB7fSwKICAgICAgICBjbGljazogZnVuY3Rpb24gY2xpY2soZSkgewogICAgICAgICAgLy8gICBjb25zb2xlLmxvZyhlLmxuZ2xhdCk7CiAgICAgICAgICBzZWxmLmxuZyA9IGUubG5nbGF0LmxuZzsKICAgICAgICAgIHNlbGYubGF0ID0gZS5sbmdsYXQubGF0OwogICAgICAgICAgc2VsZi5jZW50ZXIgPSBbc2VsZi5sbmcsIHNlbGYubGF0XTsgLy8gICBjb25zb2xlLmxvZyhlLmxuZ2xhdCwgMTk5OSk7CgogICAgICAgICAgdmFyIG8gPSBhbWFwTWFuYWdlci5nZXRNYXAoKTsKCiAgICAgICAgICBpZiAoIXNlbGYubWFya2VyKSB7CiAgICAgICAgICAgIHNlbGYubWFya2VyID0gbmV3IEFNYXAuTWFya2VyKHsKICAgICAgICAgICAgICBwb3NpdGlvbjogZS5sbmdsYXQKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHNlbGYubWFya2VyLnNldE1hcChvKTsKICAgICAgICAgIH0KCiAgICAgICAgICBzZWxmLm1hcmtlci5zZXRQb3NpdGlvbihlLmxuZ2xhdCk7CiAgICAgICAgICB2YXIgZ2VvY29kZXIgPSBuZXcgQU1hcC5HZW9jb2Rlcih7fSk7CiAgICAgICAgICBnZW9jb2Rlci5nZXRBZGRyZXNzKGUubG5nbGF0LCBmdW5jdGlvbiAoc3RhdHVzLCByZXN1bHQpIHsKICAgICAgICAgICAgaWYgKHN0YXR1cyA9PT0gImNvbXBsZXRlIiAmJiByZXN1bHQucmVnZW9jb2RlKSB7CiAgICAgICAgICAgICAgc2VsZi5hZGRyZXNzID0gcmVzdWx0LnJlZ2VvY29kZS5mb3JtYXR0ZWRBZGRyZXNzOyAvLyAgIGNvbnNvbGUubG9nKHNlbGYuYWRkcmVzcywgIjk5OeWcsOWdgCIpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGxvZy5lcnJvcigi5qC55o2u57uP57qs5bqm5p+l6K+i5Zyw5Z2A5aSx6LSlIik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSwKICAgICAgcGx1Z2luOiBbIlRvb2xCYXIiLCB7CiAgICAgICAgcE5hbWU6ICJNYXBUeXBlIiwKICAgICAgICBkZWZhdWx0VHlwZTogMCwKICAgICAgICBldmVudHM6IHsKICAgICAgICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQobykgey8vICAgY29uc29sZS5sb2cobyk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9XQogICAgfSwgInBsdWdpbiIsIFt7CiAgICAgIHBOYW1lOiAiR2VvbG9jYXRpb24iLAogICAgICBldmVudHM6IHsKICAgICAgICBpbml0OiBmdW5jdGlvbiBpbml0KG8pIHsKICAgICAgICAgIC8vIG8g5piv6auY5b635Zyw5Zu+5a6a5L2N5o+S5Lu25a6e5L6LCiAgICAgICAgICBvLmdldEN1cnJlbnRQb3NpdGlvbihmdW5jdGlvbiAoc3RhdHVzLCByZXN1bHQpIHsKICAgICAgICAgICAgLy8gY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkocmVzdWx0KSk7CiAgICAgICAgICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0LnBvc2l0aW9uKSB7CiAgICAgICAgICAgICAgc2VsZi5sbmcgPSByZXN1bHQucG9zaXRpb24ubG5nOwogICAgICAgICAgICAgIHNlbGYubGF0ID0gcmVzdWx0LnBvc2l0aW9uLmxhdDsKICAgICAgICAgICAgICBzZWxmLmFkZHJlc3MgPSByZXN1bHQuZm9ybWF0dGVkQWRkcmVzczsKICAgICAgICAgICAgICBzZWxmLmNlbnRlciA9IFtzZWxmLmxuZywgc2VsZi5sYXRdOyAvLyAgIGNvbnNvbGUubG9nKHNlbGYuY2VudGVyLCA5OTY2Nik7CgogICAgICAgICAgICAgIHZhciBfbyA9IGFtYXBNYW5hZ2VyLmdldE1hcCgpOwoKICAgICAgICAgICAgICBpZiAoIXNlbGYubWFya2VyKSB7CiAgICAgICAgICAgICAgICBzZWxmLm1hcmtlciA9IG5ldyBBTWFwLk1hcmtlcih7CiAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBzZWxmLmNlbnRlcgogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBzZWxmLm1hcmtlci5zZXRNYXAoX28pOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgc2VsZi5tYXJrZXIuc2V0UG9zaXRpb24oc2VsZi5jZW50ZXIpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0KICAgIH1dKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIG9uU2VhcmNoUmVzdWx0OiBmdW5jdGlvbiBvblNlYXJjaFJlc3VsdChwb2lzKSB7CiAgICAgIGlmIChwb2lzLmxlbmd0aCA+IDApIHsKICAgICAgICB2YXIgX3BvaXMkID0gcG9pc1swXSwKICAgICAgICAgICAgbG5nID0gX3BvaXMkLmxuZywKICAgICAgICAgICAgbGF0ID0gX3BvaXMkLmxhdCwKICAgICAgICAgICAgbmFtZSA9IF9wb2lzJC5uYW1lLAogICAgICAgICAgICBsb2NhdGlvbiA9IF9wb2lzJC5sb2NhdGlvbjsKICAgICAgICB2YXIgY2VudGVyID0gW2xuZywgbGF0XTsKICAgICAgICB0aGlzLmxuZyA9IGxuZzsKICAgICAgICB0aGlzLmxhdCA9IGxhdDsKICAgICAgICB0aGlzLmNlbnRlciA9IFtsbmcsIGxhdF07CiAgICAgICAgdmFyIG8gPSBhbWFwTWFuYWdlci5nZXRNYXAoKTsKCiAgICAgICAgaWYgKCF0aGlzLm1hcmtlcikgewogICAgICAgICAgdGhpcy5tYXJrZXIgPSBuZXcgQU1hcC5NYXJrZXIoewogICAgICAgICAgICBwb3NpdGlvbjogY2VudGVyCiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMubWFya2VyLnNldE1hcChvKTsKICAgICAgICB9CgogICAgICAgIHRoaXMubWFya2VyLnNldFBvc2l0aW9uKGNlbnRlcik7IC8vIOi/keadpeihpeWFhSAg5qC55o2u57uP57qs5bqm5p+l6K+i5Zyw5Z2ACgogICAgICAgIHZhciBnZW9jb2RlciA9IG5ldyBBTWFwLkdlb2NvZGVyKHt9KTsKICAgICAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICAgICAgZ2VvY29kZXIuZ2V0QWRkcmVzcyhsb2NhdGlvbiwgZnVuY3Rpb24gKHN0YXR1cywgcmVzdWx0KSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhzdGF0dXMsIHJlc3VsdCk7CgogICAgICAgICAgaWYgKHN0YXR1cyA9PT0gImNvbXBsZXRlIiAmJiByZXN1bHQucmVnZW9jb2RlKSB7CiAgICAgICAgICAgIHRoYXQuYWRkcmVzcyA9IHJlc3VsdC5yZWdlb2NvZGUuZm9ybWF0dGVkQWRkcmVzczsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCLmoLnmja7nu4/nuqzluqbmn6Xor6LlnLDlnYDlpLHotKUiKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIC8v5ZCR54i257uE5Lu26L+U5Zue5Zyw5Z2ACiAgICByZXR1cm5hZGRyZXNzOiBmdW5jdGlvbiByZXR1cm5hZGRyZXNzKCkgewogICAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICAgIHRoYXQuJGVtaXQoImdldGFkZHJlc3MiLCB7CiAgICAgICAgYWRkcmVzczogdGhhdC5hZGRyZXNzLAogICAgICAgIGxhdDogdGhhdC5sYXQsCiAgICAgICAgbG5nOiB0aGF0LmxuZwogICAgICB9KTsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgdGhhdC4kZW1pdCgiY2xvc2UiKTsKICAgICAgfSwgMjAwKTsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBvcGVubWFwZGlhbG9nOiBmdW5jdGlvbiBvcGVubWFwZGlhbG9nKG5ld3ZhbCkgewogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSBuZXd2YWw7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <el-dialog\n      title=\"搜索或在地图上点击均可获取地理位置，记得点击确定哦！\"\n      :visible.sync=\"dialogVisible\"\n      width=\"600px\"\n      @close=\"$emit('close')\"\n    >\n      <div class=\"amap-page-container\" style=\"width: 100%; height: 500px\">\n        <el-amap-search-box\n          class=\"search-box\"\n          :search-option=\"searchOption\"\n          :on-search-result=\"onSearchResult\"\n        ></el-amap-search-box>\n        <el-amap\n          ref=\"map\"\n          vid=\"amapDemo\"\n          :amap-manager=\"amapManager\"\n          :center=\"center\"\n          :zoom=\"zoom\"\n          :plugin=\"plugin\"\n          :events=\"events\"\n          class=\"amap-demo\"\n        >\n        </el-amap>\n      </div>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"$emit('close')\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"returnaddress\">确 定</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n<script>\nimport { AMapManager } from \"vue-amap\";\nlet amapManager = new AMapManager();\nexport default {\n  props: {\n    openmapdialog: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    const self = this;\n    return {\n      dialogVisible: false,\n      searchOption: {\n        city: \"\", //搜索范围\n        citylimit: false, //限制搜索范围\n        //city: \"\", citylimit: false, // 不限制搜索范围搜索，比如想全国搜索\n      },\n      lng: \"\",\n      lat: \"\",\n      address: \"\",\n      marker: \"\",\n      amapManager,\n      zoom: 12,\n      center: [113.751884, 23.021016],\n      events: {\n        init: (o) => {\n          o.getCity((result) => {\n            // console.log(result);\n            // this.searchOption.city=result.city\n          });\n          let par = document.getElementsByClassName(\"search-box-wrapper\")[0];\n          par.firstChild.setAttribute(\n            \"placeholder\",\n            \"在这里输入要搜索的地址哦\"\n          );\n        },\n        moveend: () => {},\n        zoomchange: () => {},\n        click: (e) => {\n          //   console.log(e.lnglat);\n          self.lng = e.lnglat.lng;\n          self.lat = e.lnglat.lat;\n          self.center = [self.lng, self.lat];\n          //   console.log(e.lnglat, 1999);\n\n          let o = amapManager.getMap();\n          if (!self.marker) {\n            self.marker = new AMap.Marker({\n              position: e.lnglat,\n            });\n            self.marker.setMap(o);\n          }\n          self.marker.setPosition(e.lnglat);\n          let geocoder = new AMap.Geocoder({});\n\n          geocoder.getAddress(e.lnglat, function(status, result) {\n            if (status === \"complete\" && result.regeocode) {\n              self.address = result.regeocode.formattedAddress;\n              //   console.log(self.address, \"999地址\");\n            } else {\n              log.error(\"根据经纬度查询地址失败\");\n            }\n          });\n        },\n      },\n      plugin: [\n        \"ToolBar\",\n        {\n          pName: \"MapType\",\n          defaultType: 0,\n          events: {\n            init(o) {\n              //   console.log(o);\n            },\n          },\n        },\n      ],\n      plugin: [\n        {\n          pName: \"Geolocation\",\n          events: {\n            init(o) {\n              // o 是高德地图定位插件实例\n              o.getCurrentPosition((status, result) => {\n                // console.log(JSON.stringify(result));\n                if (result && result.position) {\n                  self.lng = result.position.lng;\n                  self.lat = result.position.lat;\n                  self.address = result.formattedAddress;\n                  self.center = [self.lng, self.lat];\n                  //   console.log(self.center, 99666);\n                  let o = amapManager.getMap();\n                  if (!self.marker) {\n                    self.marker = new AMap.Marker({\n                      position: self.center,\n                    });\n                    self.marker.setMap(o);\n                  }\n                  self.marker.setPosition(self.center);\n                }\n              });\n            },\n          },\n        },\n      ],\n    };\n  },\n  methods: {\n    onSearchResult(pois) {\n      if (pois.length > 0) {\n        let { lng, lat, name, location } = pois[0];\n        let center = [lng, lat];\n        this.lng = lng;\n        this.lat = lat;\n        this.center = [lng, lat];\n        let o = amapManager.getMap();\n        if (!this.marker) {\n          this.marker = new AMap.Marker({\n            position: center,\n          });\n          this.marker.setMap(o);\n        }\n        this.marker.setPosition(center);\n        // 近来补充  根据经纬度查询地址\n        let geocoder = new AMap.Geocoder({});\n        let that = this;\n        geocoder.getAddress(location, function(status, result) {\n          console.log(status, result);\n          if (status === \"complete\" && result.regeocode) {\n            that.address = result.regeocode.formattedAddress;\n          } else {\n            console.log(\"根据经纬度查询地址失败\");\n          }\n        });\n      }\n    },\n    //向父组件返回地址\n    returnaddress() {\n      let that = this;\n      that.$emit(\"getaddress\", {\n        address: that.address,\n        lat: that.lat,\n        lng: that.lng,\n      });\n      setTimeout(() => {\n        that.$emit(\"close\");\n      }, 200);\n    },\n  },\n  watch: {\n    openmapdialog(newval) {\n      this.dialogVisible = newval;\n    },\n  },\n};\n</script>\n<style scoped>\n.search-box {\n  position: absolute;\n  top: 25px;\n  left: 20px;\n}\n.amap-page-container {\n  position: relative;\n  z-index: 99999;\n}\n.el-dialog__wrapper /deep/ .el-dialog .el-dialog__header {\n  background-color: #f2f2f2;\n}\n.el-dialog__wrapper /deep/ .el-dialog .el-dialog__header .el-dialog__title {\n  color: #333;\n  font-size: 14px;\n}\n</style>\n"],"sourceRoot":"src/components/gdMap"}]}