{"remainingRequest":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\thread-loader\\dist\\cjs.js!D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\babel-loader\\lib\\index.js!D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\机将公司\\机将后台端\\background-management-system\\src\\views\\install\\installEdit\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\机将公司\\机将后台端\\background-management-system\\src\\views\\install\\installEdit\\index.vue","mtime":1669258939302},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\机将公司\\机将后台端\\background-management-system\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L1x1NjczQVx1NUMwNlx1NTE2Q1x1NTNGOC9cdTY3M0FcdTVDMDZcdTU0MEVcdTUzRjBcdTdBRUYvYmFja2dyb3VuZC1tYW5hZ2VtZW50LXN5c3RlbS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgcXVlcnlQcm9kdWN0UGFydHMsIHF1ZXJ5SW5zdGFsbFByb2R1Y3RQYXJ0cywgcXVlcnlQcm9kdWN0UmVsYXRlZCwgZWRpdFByb2R1Y3RJbnN0YWxsLCBlZGl0UHJvZHVjdFBhcnRzLCBxdWVyeUV4cFJ1bGUsIGdldFByb2R1Y3RJbnN0YWxsLCBpbnN0YWxsZWRNb2RlbExpc3QgYXMgX2luc3RhbGxlZE1vZGVsTGlzdCB9IGZyb20gJ0AvYXBpL2luc3RhbGwuanMnOwppbXBvcnQgeyBxdWVyeVByb2R1Y3RDYXRlZ29yeUZuIH0gZnJvbSAnQC9hcGkvcHJvZHVjdC5qcyc7CmltcG9ydCB1cGxvYWRJbWcgZnJvbSAiQC9jb21wb25lbnRzL3VwbG9hZEltZy91cGxvYWQtaW1nLnZ1ZSI7CmltcG9ydCB1cGxvYWRJbWdzIGZyb20gIkAvY29tcG9uZW50cy91cGxvYWRJbWdzL3VwbG9hZC1pbWdzLnZ1ZSI7CmltcG9ydCBsb2Rhc2ggZnJvbSAnbG9kYXNoJzsKaW1wb3J0IFRpbnltY2UgZnJvbSAiQC9jb21wb25lbnRzL1RpbnltY2UiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImluc3RhbEVkaXQiLAogIGNvbXBvbmVudHM6IHsKICAgIHVwbG9hZEltZzogdXBsb2FkSW1nLAogICAgdXBsb2FkSW1nczogdXBsb2FkSW1ncywKICAgIFRpbnltY2U6IFRpbnltY2UKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBxdWVyeURhdGE6IHsKICAgICAgICBuYW1lOiAnJywKICAgICAgICBkZXNjVmFsOiAnJywKICAgICAgICBpbWc6ICcnLAogICAgICAgIGNhcm91c2VsSW1nOiBbXSwKICAgICAgICBhcHBsZXRDYXJvdXNlbEltZzogW10sCiAgICAgICAgZXhwVHlwZTogMiwKICAgICAgICAvL+i/kOi0ueexu+WeiyAx6L+Q6LS55qih5p2/6K6h566XIDLlm7rlrprph5Hpop0gLAogICAgICAgIGV4cE1vbmV5OiAnJywKICAgICAgICBleHBJZDogJycsCiAgICAgICAgc3RhcnRTYWxlczogJycsCiAgICAgICAgaXNTaGVsdmVzOiB0cnVlLAogICAgICAgIC8vIDDkuIvmnrYgMeS4iuaetgogICAgICAgIHR5cGU6IDEsCiAgICAgICAgLy8g57G75Z6LIDEg5pW05py6IDIg5Yqg5bel5Lit5b+DCiAgICAgICAgbW9kZWxJZDogJycsCiAgICAgICAgLy8g6KOF5py65Z6L5Y+3CiAgICAgICAgZ3JhZGVUeXBlOiAxLAogICAgICAgIC8v6KOF5py65Lqn5ZOB5qGj5qyhIDHkvY4gMuS4rSAz6auYICwKICAgICAgICBjb250ZW50OiAnJywKICAgICAgICBpZDogJycKICAgICAgfSwKICAgICAgZXhwTW9uZXlTdGF0dXM6IGZhbHNlLAogICAgICBmaXJzdFJ1bGVzOiB7CiAgICAgICAgbmFtZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeWVhuWTgeWQjeensCcsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBpbWc6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fkuIrkvKDoo4XmnLrlsIHpnaLlm74nLAogICAgICAgICAgdHJpZ2dlcjogJ3VwbG9hZCcKICAgICAgICB9XSwKICAgICAgICBjYXJvdXNlbEltZzogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+S4iuS8oOijheacuui9ruaSreWbvicsCiAgICAgICAgICB0cmlnZ2VyOiAndXBsb2FkJwogICAgICAgIH1dLAogICAgICAgIGFwcGxldENhcm91c2VsSW1nOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+35LiK5Lyg5bCP56iL5bqP6KOF5py66L2u5pKt5Zu+JywKICAgICAgICAgIHRyaWdnZXI6ICd1cGxvYWQnCiAgICAgICAgfV0sCiAgICAgICAgbW9kZWxJZDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+S4iumAieaLqeS6p+WTgeWei+WPtycsCiAgICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJwogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIHRhYlNlbGVjdFZhbDogJ2ZpcnN0JywKICAgICAgdGFiczogW3sKICAgICAgICBuYW1lOiAn5ZWG5ZOB5L+h5oGvJywKICAgICAgICBsYWJsZTogJ2ZpcnN0JwogICAgICB9LCB7CiAgICAgICAgbmFtZTogJ+ijheacuumFjee9ricsCiAgICAgICAgbGFibGU6ICdzZWNvbmQnCiAgICAgIH1dLAogICAgICBjbGFzc2lmeVRhZ3M6IFtdLAogICAgICBjbGFzc2lmeVRhZ3NPcHRpb25zOiBbXSwKICAgICAgY2xhc3NpZnlUYWdzVmFsdWU6IFtdLAogICAgICAvLyAKICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIGRpYWxvZ0luZGV4OiAwLAogICAgICByZWxhdGlvbkRhdGE6IHsKICAgICAgICAvLyDlhbPogZTllYblk4HmlbDmja4KICAgICAgICBub3RSZWxhdGVkT3V0czogW10sCiAgICAgICAgLy8g5pyq5YWz6IGU5ZWG5ZOBIAogICAgICAgIHJlbGF0ZWRPdXRzOiBbXSAvLyDlt7LlhbPogZTllYblk4EgCgogICAgICB9LAogICAgICBxdWVyeUV4cFJ1bGVMaXN0OiBbXSwKICAgICAgaWQ6ICcnLAogICAgICAvLyDoo4XmnLppZAogICAgICAvLyDogZTnuqfliIbnsbsKICAgICAgcHJvcHM6IHsKICAgICAgICBsYXp5OiB0cnVlLAogICAgICAgIGxhenlMb2FkOiBmdW5jdGlvbiBsYXp5TG9hZChub2RlLCByZXNvbHZlKSB7CiAgICAgICAgICB2YXIgbGV2ZWwgPSBub2RlLmxldmVsOwogICAgICAgICAgcXVlcnlQcm9kdWN0Q2F0ZWdvcnlGbih7CiAgICAgICAgICAgIHBpZDogbm9kZS52YWx1ZSB8fCAwCiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgdmFyIHJlc0RhdGEgPSByZXMuZGF0YTsKICAgICAgICAgICAgdmFyIG5vZGVzID0gcmVzRGF0YS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgdmFsdWU6IGl0ZW0uaWQsCiAgICAgICAgICAgICAgICBsYWJlbDogaXRlbS5uYW1lLAogICAgICAgICAgICAgICAgbGVhZjogbGV2ZWwgPj0gMQogICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXNvbHZlKG5vZGVzKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSwKICAgICAgbGFiZWxOYW1lOiAnJywKICAgICAgLy8g6YCJ5Lit55qE6KOF5py65YiG57G75ZCN56ewCiAgICAgIGluc3RhbGxTdWJUeXBlOiBbXQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfdGhpcy5pZCA9IF90aGlzLiRyb3V0ZS5xdWVyeS5pZDsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuaW5zdGFsbGVkTW9kZWxMaXN0KF90aGlzLnF1ZXJ5RGF0YS50eXBlKTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBfdGhpcy5nZXRDbGFzc2lmeUluZm8oX3RoaXMuaWQpOwoKICAgICAgICAgICAgICBfdGhpcy5nZXRRdWVyeUV4cFJ1bGUoKTsKCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIGFjdGl2YXRlZDogZnVuY3Rpb24gYWN0aXZhdGVkKCkgewogICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX3RoaXMyLmlkID0gX3RoaXMyLiRyb3V0ZS5xdWVyeS5pZDsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5pbnN0YWxsZWRNb2RlbExpc3QoX3RoaXMyLnF1ZXJ5RGF0YS50eXBlKTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBfdGhpczIuZ2V0Q2xhc3NpZnlJbmZvKF90aGlzMi5pZCk7CgogICAgICAgICAgICAgIF90aGlzMi5nZXRRdWVyeUV4cFJ1bGUoKTsKCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUyKTsKICAgIH0pKSgpOwogIH0sCiAgbWV0aG9kczogewogICAgLy8g6L+U5Zue5LiK5LiA6aG1CiAgICBnb0JhY2s6IGZ1bmN0aW9uIGdvQmFjaygpIHsKICAgICAgdGhpcy4kcm91dGVyLmdvKC0xKTsKICAgIH0sCiAgICBpbnN0YWxsVHlwZUNoYW5nZTogZnVuY3Rpb24gaW5zdGFsbFR5cGVDaGFuZ2UodHlwZSkgewogICAgICB0aGlzLmluc3RhbGxlZE1vZGVsTGlzdCh0eXBlKTsKICAgIH0sCiAgICAvLyDojrflj5boo4XmnLrlnovlj7fliJfooagKICAgIGluc3RhbGxlZE1vZGVsTGlzdDogZnVuY3Rpb24gaW5zdGFsbGVkTW9kZWxMaXN0KHR5cGUpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX2luc3RhbGxlZE1vZGVsTGlzdCh7CiAgICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDMuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzLmNvZGUgPT09ICcwMDAnKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMy5pbnN0YWxsU3ViVHlwZSA9IHJlcy5kYXRhOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDojrflj5bov5DotLnmqKHmnb8KICAgIGdldFF1ZXJ5RXhwUnVsZTogZnVuY3Rpb24gZ2V0UXVlcnlFeHBSdWxlKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHZhciByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBxdWVyeUV4cFJ1bGUoewogICAgICAgICAgICAgICAgICBwYWdlTm86IDEsCiAgICAgICAgICAgICAgICAgIHBhZ2VTaXplOiA1MAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0NC5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXMuY29kZSA9PT0gJzAwMCcpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM0LnF1ZXJ5RXhwUnVsZUxpc3QgPSByZXMuZGF0YS5yZWNvcmRzOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDov5DotLnmlrnlvI/liIfmjaIKICAgIGV4cE1vbmV5Q2hhbmdlOiBmdW5jdGlvbiBleHBNb25leUNoYW5nZSh2YWwpIHsKICAgICAgaWYgKHZhbCkgewogICAgICAgIHRoaXMucXVlcnlEYXRhLmV4cE1vbmV5ID0gJyc7CiAgICAgICAgdGhpcy5xdWVyeURhdGEuZXhwVHlwZSA9IDE7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5xdWVyeURhdGEuZXhwSWQgPSAnJzsKICAgICAgICB0aGlzLnF1ZXJ5RGF0YS5leHBUeXBlID0gMjsKICAgICAgfQogICAgfSwKICAgIC8vIOiOt+WPluijheacuuS/oeaBrwogICAgZ2V0Q2xhc3NpZnlJbmZvOiBmdW5jdGlvbiBnZXRDbGFzc2lmeUluZm8oaWQpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNSgpIHsKICAgICAgICB2YXIgcmVzLCBpLCBqOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoaWQpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBnZXRQcm9kdWN0SW5zdGFsbCh7CiAgICAgICAgICAgICAgICAgIHBhZ2VObzogaWQgPyB1bmRlZmluZWQgOiAxLAogICAgICAgICAgICAgICAgICBwYWdlU2l6ZTogaWQgPyB1bmRlZmluZWQgOiA1MCwKICAgICAgICAgICAgICAgICAgaWQ6IGlkIHx8IHVuZGVmaW5lZAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0NS5zZW50OwogICAgICAgICAgICAgICAgcmVzID0gX3RoaXM1LnJlc0RhdGFGbihyZXMpOwogICAgICAgICAgICAgICAgcmVzLmNhcm91c2VsSW1nID0gcmVzLmNhcm91c2VsSW1nID8gcmVzLmNhcm91c2VsSW1nLnNwbGl0KCcsJykgOiBbXTsKICAgICAgICAgICAgICAgIHJlcy5hcHBsZXRDYXJvdXNlbEltZyA9IHJlcy5hcHBsZXRDYXJvdXNlbEltZyA/IHJlcy5hcHBsZXRDYXJvdXNlbEltZy5zcGxpdCgnLCcpIDogW107CiAgICAgICAgICAgICAgICBfdGhpczUuY2xhc3NpZnlUYWdzID0gcmVzLmRhdGE7CiAgICAgICAgICAgICAgICByZXMuZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgICAgIGl0ZW0uaXNDaG9pY2UgPSBpdGVtLmlzQ2hvaWNlID8gdHJ1ZSA6IGZhbHNlOwogICAgICAgICAgICAgICAgICBpdGVtLmlzTWFuZGF0b3J5ID0gaXRlbS5pc01hbmRhdG9yeSA/IHRydWUgOiBmYWxzZTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIGZvciAoaSBpbiBfdGhpczUucXVlcnlEYXRhKSB7CiAgICAgICAgICAgICAgICAgIGZvciAoaiBpbiByZXMpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PT0gaikgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXM1LnF1ZXJ5RGF0YVtpXSA9IHJlc1tqXTsKCiAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PT0gJ2lzU2hlbHZlcycpIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM1LnF1ZXJ5RGF0YVtpXSA9IF90aGlzNS5xdWVyeURhdGFbaV0gPyB0cnVlIDogZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT09ICdleHBUeXBlJykgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXM1LnF1ZXJ5RGF0YVtpXSA9PT0gMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOi/kOi0ueaooeadv+iuoeeulwogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNS5leHBNb25leVN0YXR1cyA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczUucXVlcnlEYXRhW2ldID09PSAyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5Zu65a6a6YeR6aKdCiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM1LmV4cE1vbmV5U3RhdHVzID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gLy8gdGhpcy5xdWVyeURhdGEuaWQgPSByZXMuZGF0YS5pZAogICAgICAgICAgICAgICAgLy8gdGhpcy5xdWVyeURhdGEuY29udGVudCA9IHJlcy5kYXRhLmNvbnRlbnQKCgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDpgInmi6nliIbnsbsKICAgIGNsYXNzaWZ5VGFnc0NoYW5nZTogZnVuY3Rpb24gY2xhc3NpZnlUYWdzQ2hhbmdlKHZhbCkgewogICAgICB0aGlzLmxhYmVsTmFtZSA9IHRoaXMuJHJlZnMuY2FzY2FkZXIuZ2V0Q2hlY2tlZE5vZGVzKClbMF0ubGFiZWw7CiAgICAgIC8qIGZvcihsZXQgaSBpbiByZXMucmVjb3Jkcyl7CiAgICAgIAlyZXMucmVjb3Jkc1tpXS5jbGFzc2lmeUlkID0gcmVzLnJlY29yZHNbaV0uaWQKICAgICAgCXJlcy5yZWNvcmRzW2ldLmlzQ2hvaWNlID0gZmFsc2UKICAgICAgCXJlcy5yZWNvcmRzW2ldLmlzTWFuZGF0b3J5ID0gZmFsc2UKICAgICAgCXJlcy5yZWNvcmRzW2ldLnByb2R1Y3RJZCA9ICcnCiAgICAgIAlyZXMucmVjb3Jkc1tpXS5wcm9kdWN0SWRzID0gW10KICAgICAgCXJlcy5yZWNvcmRzW2ldLnByb2R1Y3ROdW0gPSAwCiAgICAgIAlyZXMucmVjb3Jkc1tpXS5za3VJZCA9ICcnCiAgICAgIAlyZXMucmVjb3Jkc1tpXS5wcm9kdWN0TmFtZSA9ICfmnKrorr7nva4nCiAgICAgIH0KICAgICAgdGhpcy5jbGFzc2lmeVRhZ3NPcHRpb25zID0gcmVzLnJlY29yZHMgKi8KICAgIH0sCiAgICAvLyDmt7vliqDlhbPogZTliIbnsbsKICAgIGNsYXNzaWZ5VGFnc0hhbmRsZTogZnVuY3Rpb24gY2xhc3NpZnlUYWdzSGFuZGxlKCkgewogICAgICAvLyBsZXQgaXRlbSA9IHRoaXMuY2xhc3NpZnlUYWdzT3B0aW9ucy5maWx0ZXIoaXRlbT0+aXRlbS5pZCA9PT0gdGhpcy5jbGFzc2lmeVRhZ3NWYWx1ZSkKICAgICAgdmFyIGl0ZW0gPSBbewogICAgICAgIGlkOiAnJywKICAgICAgICBjbGFzc2lmeUlkOiB0aGlzLmNsYXNzaWZ5VGFnc1ZhbHVlWzFdLAogICAgICAgIG5hbWU6IHRoaXMubGFiZWxOYW1lLAogICAgICAgIGlzQ2hvaWNlOiBmYWxzZSwKICAgICAgICBpc01hbmRhdG9yeTogZmFsc2UsCiAgICAgICAgcHJvZHVjdElkOiAnJywKICAgICAgICBwcm9kdWN0SWRzOiBbXSwKICAgICAgICBwcm9kdWN0TnVtOiAwLAogICAgICAgIHNrdUlkOiAnJywKICAgICAgICBwcm9kdWN0TmFtZTogJ+acquiuvue9ricgLy8gcHJpY2U6MCwKCiAgICAgIH1dOwoKICAgICAgaWYgKGl0ZW0ubGVuZ3RoID4gMCkgewogICAgICAgIHZhciBpbmRleCA9IHRoaXMuY2xhc3NpZnlUYWdzLmZpbmRJbmRleChmdW5jdGlvbiAocCkgewogICAgICAgICAgcmV0dXJuIHAuY2xhc3NpZnlJZCA9PT0gaXRlbVswXS5jbGFzc2lmeUlkOwogICAgICAgIH0pOwoKICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7CiAgICAgICAgICB0aGlzLmNsYXNzaWZ5VGFncy5wdXNoKGl0ZW1bMF0pOyAvLyB0aGlzLmxhYmVsTmFtZSA9ICcnCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+ivpeWIhuexu+W3suWtmOWcqO+8jOivt+WLv+mHjeWkjea3u+WKoCcpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfor7fpgInopoHmt7vliqDnmoTliIbnsbsnKTsKICAgICAgfQogICAgfSwKICAgIC8vIOWIoOmZpOWFs+iBlOWIhuexuwogICAgY2xhc3NpZnlUYWdzQ2xvc2U6IGZ1bmN0aW9uIGNsYXNzaWZ5VGFnc0Nsb3NlKGkpIHsKICAgICAgdGhpcy5jbGFzc2lmeVRhZ3MgPSB0aGlzLmNsYXNzaWZ5VGFncy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7CiAgICAgICAgcmV0dXJuIGluZGV4ICE9PSBpOwogICAgICB9KTsKICAgIH0sCiAgICB1cGxvYWRTdWNGbjogZnVuY3Rpb24gdXBsb2FkU3VjRm4oaW1nKSB7CiAgICAgIHRoaXMucXVlcnlEYXRhLmltZyA9IGltZzsKICAgIH0sCiAgICB1cGxvYWRJbWdzU3VjRm46IGZ1bmN0aW9uIHVwbG9hZEltZ3NTdWNGbihpbWcpIHsKICAgICAgdGhpcy5xdWVyeURhdGEuY2Fyb3VzZWxJbWcucHVzaChpbWcpOwogICAgfSwKICAgIC8v5bCP56iL5bqP6L2u5pKt5Zu+5LiK5LygCiAgICB1cGxvYWRhcHBsZXRJbWdzU3VjRm46IGZ1bmN0aW9uIHVwbG9hZGFwcGxldEltZ3NTdWNGbihpbWcpIHsKICAgICAgdGhpcy5xdWVyeURhdGEuYXBwbGV0Q2Fyb3VzZWxJbWcucHVzaChpbWcpOwogICAgfSwKICAgIGRlbGV0ZUltZ0ZuOiBmdW5jdGlvbiBkZWxldGVJbWdGbihpbmRleCkgewogICAgICB0aGlzLnF1ZXJ5RGF0YS5jYXJvdXNlbEltZy5zcGxpY2UoaW5kZXgsIDEpOwogICAgfSwKICAgIC8v5bCP56iL5bqP6L2u5pKt5Zu+5Yig6ZmkCiAgICBkZWxldGVhcHBsZXRJbWdGbjogZnVuY3Rpb24gZGVsZXRlYXBwbGV0SW1nRm4oaW5kZXgpIHsKICAgICAgdGhpcy5xdWVyeURhdGEuYXBwbGV0Q2Fyb3VzZWxJbWcuc3BsaWNlKGluZGV4LCAxKTsKICAgIH0sCiAgICAvLyDkuIvkuIDmraUgJiDmj5DkuqQKICAgIG5leHRTdHBlOiBmdW5jdGlvbiBuZXh0U3RwZSh0eXBlLCBmb3JtTmFtZSkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIGlmICh0eXBlID09PSAwKSB7CiAgICAgICAgdGhpcy4kcmVmc1tmb3JtTmFtZV0udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgICBpZiAoIXZhbGlkKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzNi50YWJTZWxlY3RWYWwgPSAnc2Vjb25kJzsKICAgICAgICAgICAgY29uc29sZS5sb2coX3RoaXM2LnF1ZXJ5RGF0YSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gMikgewogICAgICAgIHRoaXMuJHJlZnNbZm9ybU5hbWVdLnZhbGlkYXRlKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2KHZhbGlkKSB7CiAgICAgICAgICAgIHZhciBfdGhpczYkcXVlcnlEYXRhJHR5cGUsIF90aGlzNiRxdWVyeURhdGEkZ3JhZCwgaW5kZXgsIGFyciwgZGF0YSwgbG9hZGluZywgcmVzOwoKICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHsKICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7CiAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgX3RoaXM2LnRhYlNlbGVjdFZhbCA9ICdmaXJzdCc7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5hYnJ1cHQoInJldHVybiIsIGZhbHNlKTsKCiAgICAgICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgICAgICBpZiAoIShfdGhpczYuY2xhc3NpZnlUYWdzLmxlbmd0aCA9PT0gMCkpIHsKICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gOTsKICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgX3RoaXM2LiRtZXNzYWdlLmVycm9yKCfor7flhYjlhbPogZTliIbnsbsnKTsKCiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAyODsKICAgICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgICAgICBpbmRleCA9IF90aGlzNi5jbGFzc2lmeVRhZ3MuZmluZEluZGV4KGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS5wcm9kdWN0TnVtID09PSAwOwogICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICBpZiAoIShpbmRleCAhPT0gLTEpKSB7CiAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBfdGhpczYuJG1lc3NhZ2UuZXJyb3IoJ+WIhuexuyInICsgX3RoaXM2LmNsYXNzaWZ5VGFnc1tpbmRleF0ubmFtZSArICci5pyq6K6+572u5YWz6IGU5ZWG5ZOBJyk7CgogICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICAgICAgYXJyID0gbG9kYXNoLmNsb25lRGVlcChfdGhpczYuY2xhc3NpZnlUYWdzKTsKICAgICAgICAgICAgICAgICAgICBhcnIuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICAgICAgaXRlbS5pc0Nob2ljZSA9IGl0ZW0uaXNDaG9pY2UgPyAxIDogMDsKICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uaXNNYW5kYXRvcnkgPSBpdGVtLmlzTWFuZGF0b3J5ID8gMSA6IDA7CiAgICAgICAgICAgICAgICAgICAgICBpdGVtLnByb2R1Y3RJZHMgPSB0eXBlb2YgaXRlbS5wcm9kdWN0SWRzICE9PSAnc3RyaW5nJyA/IGl0ZW0ucHJvZHVjdElkcy5qb2luKCcsJykgOiBpdGVtLnByb2R1Y3RJZHM7CiAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgaXRlbS5uYW1lOwogICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGl0ZW0ucHJvZHVjdE5hbWU7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgICAgIGFwcGxldENhcm91c2VsSW1nOiBfdGhpczYucXVlcnlEYXRhLmFwcGxldENhcm91c2VsSW1nLmpvaW4oJywnKSwKICAgICAgICAgICAgICAgICAgICAgIGNhcm91c2VsSW1nOiBfdGhpczYucXVlcnlEYXRhLmNhcm91c2VsSW1nLmpvaW4oJywnKSwKICAgICAgICAgICAgICAgICAgICAgIGRlc2NWYWw6IF90aGlzNi5xdWVyeURhdGEuZGVzY1ZhbCwKICAgICAgICAgICAgICAgICAgICAgIGV4cElkOiBfdGhpczYuZXhwTW9uZXlTdGF0dXMgPyBfdGhpczYucXVlcnlEYXRhLmV4cElkIDogdW5kZWZpbmVkLAogICAgICAgICAgICAgICAgICAgICAgZXhwTW9uZXk6IF90aGlzNi5leHBNb25leVN0YXR1cyA/IHVuZGVmaW5lZCA6IF90aGlzNi5xdWVyeURhdGEuZXhwTW9uZXksCiAgICAgICAgICAgICAgICAgICAgICBleHBUeXBlOiBfdGhpczYucXVlcnlEYXRhLmV4cFR5cGUsCiAgICAgICAgICAgICAgICAgICAgICBpZDogX3RoaXM2LmlkLAogICAgICAgICAgICAgICAgICAgICAgaW1nOiBfdGhpczYucXVlcnlEYXRhLmltZywKICAgICAgICAgICAgICAgICAgICAgIGlzU2hlbHZlczogX3RoaXM2LnF1ZXJ5RGF0YS5pc1NoZWx2ZXMgPyAxIDogMCwKICAgICAgICAgICAgICAgICAgICAgIGxpc3Q6IGFyci5sZW5ndGggPiAwID8gYXJyIDogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IF90aGlzNi5xdWVyeURhdGEubmFtZSwKICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0U2FsZXM6IF90aGlzNi5xdWVyeURhdGEuc3RhcnRTYWxlcywKICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IChfdGhpczYkcXVlcnlEYXRhJHR5cGUgPSBfdGhpczYucXVlcnlEYXRhLnR5cGUpICE9PSBudWxsICYmIF90aGlzNiRxdWVyeURhdGEkdHlwZSAhPT0gdm9pZCAwID8gX3RoaXM2JHF1ZXJ5RGF0YSR0eXBlIDogMSwKICAgICAgICAgICAgICAgICAgICAgIG1vZGVsSWQ6IF90aGlzNi5xdWVyeURhdGEubW9kZWxJZCwKICAgICAgICAgICAgICAgICAgICAgIGdyYWRlVHlwZTogKF90aGlzNiRxdWVyeURhdGEkZ3JhZCA9IF90aGlzNi5xdWVyeURhdGEuZ3JhZGVUeXBlKSAhPT0gbnVsbCAmJiBfdGhpczYkcXVlcnlEYXRhJGdyYWQgIT09IHZvaWQgMCA/IF90aGlzNiRxdWVyeURhdGEkZ3JhZCA6IDEsCiAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBfdGhpczYucXVlcnlEYXRhLmNvbnRlbnQKICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIGxvYWRpbmcgPSBfdGhpczYuJGxvYWRpbmcoKTsKICAgICAgICAgICAgICAgICAgICBfY29udGV4dDYucHJldiA9IDE3OwogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMjA7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVkaXRQcm9kdWN0SW5zdGFsbChkYXRhKTsKCiAgICAgICAgICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQ2LnNlbnQ7CgogICAgICAgICAgICAgICAgICAgIGlmIChyZXMuY29kZSA9PT0gJzAwMCcpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzNi4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+aTjeS9nOaIkOWKn++8gScsCiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJwogICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgX3RoaXM2LmdvQmFjaygpOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgbG9hZGluZy5jbG9zZSgpOwogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMjg7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICBjYXNlIDI1OgogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5wcmV2ID0gMjU7CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ2LnQwID0gX2NvbnRleHQ2WyJjYXRjaCJdKDE3KTsKICAgICAgICAgICAgICAgICAgICBsb2FkaW5nLmNsb3NlKCk7CgogICAgICAgICAgICAgICAgICBjYXNlIDI4OgogICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgX2NhbGxlZTYsIG51bGwsIFtbMTcsIDI1XV0pOwogICAgICAgICAgfSkpOwoKICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gpIHsKICAgICAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgIH07CiAgICAgICAgfSgpKTsKICAgICAgfQogICAgfSwKICAgIC8vIOafpeeci+WFs+iBlOWVhuWTgQogICAgcmVsYXRpb25TaG93OiBmdW5jdGlvbiByZWxhdGlvblNob3coZGF0YSwgaW5kZXgpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNygpIHsKICAgICAgICB2YXIgbG9hZGluZywgcmVzLCBpOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNyQoX2NvbnRleHQ3KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ny5wcmV2ID0gX2NvbnRleHQ3Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczcuZGlhbG9nSW5kZXggPSBpbmRleDsKICAgICAgICAgICAgICAgIGxvYWRpbmcgPSBfdGhpczcuJGxvYWRpbmcoKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5wcmV2ID0gMjsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBxdWVyeVByb2R1Y3RSZWxhdGVkKHsKICAgICAgICAgICAgICAgICAgY2xhc3NpZnlJZDogZGF0YS5jbGFzc2lmeUlkLAogICAgICAgICAgICAgICAgICBpZDogX3RoaXM3LmlkID8gZGF0YS5pZCA6IHVuZGVmaW5lZAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0Ny5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXMuY29kZSA9PT0gJzAwMCcpIHsKICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnJlbGF0ZWRPdXRzID09PSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzLmRhdGEucmVsYXRlZE91dHMgPSBbXTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAvLyDmiYDmnInlt7LlhbPogZTllYblk4Hpu5jorqTkuLrpu5jorqTpgInmi6kKICAgICAgICAgICAgICAgICAgICBmb3IgKGkgaW4gcmVzLmRhdGEucmVsYXRlZE91dHMpIHsKICAgICAgICAgICAgICAgICAgICAgIHJlcy5kYXRhLnJlbGF0ZWRPdXRzW2ldLmlzRGVmYXVsdCA9IDE7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEubm90UmVsYXRlZE91dHMgPT09IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICByZXMuZGF0YS5ub3RSZWxhdGVkT3V0cyA9IFtdOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBfdGhpczcucmVsYXRpb25EYXRhID0gcmVzLmRhdGE7CiAgICAgICAgICAgICAgICAgIF90aGlzNy5kaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBsb2FkaW5nLmNsb3NlKCk7CiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBfY29udGV4dDcucHJldiA9IDEwOwogICAgICAgICAgICAgICAgX2NvbnRleHQ3LnQwID0gX2NvbnRleHQ3WyJjYXRjaCJdKDIpOwogICAgICAgICAgICAgICAgbG9hZGluZy5jbG9zZSgpOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU3LCBudWxsLCBbWzIsIDEwXV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDorr7nva7lhbPogZQKICAgIHJlbGF0aW9uQ29uZmlybTogZnVuY3Rpb24gcmVsYXRpb25Db25maXJtKGUsIGluZGV4KSB7CiAgICAgIHZhciBpdGVtOwoKICAgICAgaWYgKGUgPT09IDApIHsKICAgICAgICBpdGVtID0gdGhpcy5yZWxhdGlvbkRhdGEucmVsYXRlZE91dHNbaW5kZXhdOwogICAgICAgIHRoaXMucmVsYXRpb25EYXRhLm5vdFJlbGF0ZWRPdXRzLnB1c2goaXRlbSk7CiAgICAgICAgdGhpcy5yZWxhdGlvbkRhdGEucmVsYXRlZE91dHMuc3BsaWNlKGluZGV4LCAxKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBpdGVtID0gdGhpcy5yZWxhdGlvbkRhdGEubm90UmVsYXRlZE91dHNbaW5kZXhdOwogICAgICAgIHRoaXMucmVsYXRpb25EYXRhLnJlbGF0ZWRPdXRzLnB1c2goaXRlbSk7CiAgICAgICAgdGhpcy5yZWxhdGlvbkRhdGEubm90UmVsYXRlZE91dHMuc3BsaWNlKGluZGV4LCAxKTsgLy8gdGhpcy5yZWxhdGlvbkRhdGEucmVsYXRlZE91dHMuZm9yRWFjaChpdGVtPT5pdGVtLmlzRGVmYXVsdCA9IDApCgogICAgICAgIHRoaXMucmVsYXRpb25EYXRhLnJlbGF0ZWRPdXRzLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIHJldHVybiBpdGVtLmlzRGVmYXVsdCA9IDE7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICAvLyDorr7kuLrpu5jorqQKICAgIHNldERlZmF1bHQ6IGZ1bmN0aW9uIHNldERlZmF1bHQoaW5kZXgpIHsKICAgICAgLyogZm9yKGxldCBpIGluIHRoaXMucmVsYXRpb25EYXRhLnJlbGF0ZWRPdXRzKXsKICAgICAgCXRoaXMucmVsYXRpb25EYXRhLnJlbGF0ZWRPdXRzW2ldLmlzRGVmYXVsdCA9IGZhbHNlCiAgICAgIH0KICAgICAgdGhpcy5yZWxhdGlvbkRhdGEucmVsYXRlZE91dHNbaW5kZXhdLmlzRGVmYXVsdCA9IHRydWUgKi8KICAgIH0sCiAgICAvLyDmj5DkuqTlhbPogZTkv67mlLkKICAgIHJlbGF0aW9uU3VibWl0OiBmdW5jdGlvbiByZWxhdGlvblN1Ym1pdCgpIHsKICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gZmFsc2U7CiAgICAgIHRoaXMuY2xhc3NpZnlUYWdzW3RoaXMuZGlhbG9nSW5kZXhdLnByb2R1Y3ROdW0gPSB0aGlzLnJlbGF0aW9uRGF0YS5yZWxhdGVkT3V0cy5sZW5ndGg7IC8vIHRoaXMuY2xhc3NpZnlUYWdzW3RoaXMuZGlhbG9nSW5kZXhdLnByaWNlCgogICAgICB2YXIgaW5kZXggPSB0aGlzLnJlbGF0aW9uRGF0YS5yZWxhdGVkT3V0cy5maW5kSW5kZXgoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5pc0RlZmF1bHQ7CiAgICAgIH0pOwoKICAgICAgaWYgKGluZGV4ID49IDApIHsvLyB0aGlzLmNsYXNzaWZ5VGFnc1t0aGlzLmRpYWxvZ0luZGV4XS5wcm9kdWN0TmFtZSA9IHRoaXMucmVsYXRpb25EYXRhLnJlbGF0ZWRPdXRzW2luZGV4XS50aXRsZSB8fCAn5pyq6K6+572uJwogICAgICAgIC8vIHRoaXMuY2xhc3NpZnlUYWdzW3RoaXMuZGlhbG9nSW5kZXhdLnByb2R1Y3RJZCA9IHRoaXMucmVsYXRpb25EYXRhLnJlbGF0ZWRPdXRzW2luZGV4XS5pZAogICAgICAgIC8vIHRoaXMuY2xhc3NpZnlUYWdzW3RoaXMuZGlhbG9nSW5kZXhdLnByaWNlID0gdGhpcy5yZWxhdGlvbkRhdGEucmVsYXRlZE91dHNbaW5kZXhdLnByaWNlCiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5jbGFzc2lmeVRhZ3NbdGhpcy5kaWFsb2dJbmRleF0ucHJpY2UgPSAwOwogICAgICAgIHRoaXMuY2xhc3NpZnlUYWdzW3RoaXMuZGlhbG9nSW5kZXhdLnByb2R1Y3ROYW1lID0gJ+acquiuvue9ric7CiAgICAgICAgdGhpcy5jbGFzc2lmeVRhZ3NbdGhpcy5kaWFsb2dJbmRleF0ucHJvZHVjdElkID0gJyc7CiAgICAgIH0gLy8gCgoKICAgICAgdmFyIGFyciA9IFtdOwoKICAgICAgZm9yICh2YXIgaSBpbiB0aGlzLnJlbGF0aW9uRGF0YS5yZWxhdGVkT3V0cykgewogICAgICAgIGFyci5wdXNoKHRoaXMucmVsYXRpb25EYXRhLnJlbGF0ZWRPdXRzW2ldLnRpdGxlKTsKICAgICAgfQoKICAgICAgdGhpcy5jbGFzc2lmeVRhZ3NbdGhpcy5kaWFsb2dJbmRleF0ucHJvZHVjdE5hbWUgPSBhcnIuam9pbign77ybJyk7IC8vIAoKICAgICAgdGhpcy5jbGFzc2lmeVRhZ3NbdGhpcy5kaWFsb2dJbmRleF0ucHJvZHVjdElkcyA9IHRoaXMucmVsYXRpb25EYXRhLnJlbGF0ZWRPdXRzLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLmlkOwogICAgICB9KTsgLy8gY29uc29sZS5sb2codGhpcy5jbGFzc2lmeVRhZ3MpCiAgICB9CiAgfQp9Ow=="},null]}