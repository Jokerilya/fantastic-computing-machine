{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-662415c2\"],{\"0b6e\":function(t,e,n){\"use strict\";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticClass:\"content_box\"},[n(\"first-title\",{attrs:{title:\"更换商品\"}}),n(\"div\",{staticClass:\"select_view\"},[1!==t.typeID?n(\"el-cascader\",{staticClass:\"mg_r15 mg_t10\",staticStyle:{width:\"300px\"},attrs:{placeholder:\"请选择商品分类\",\"expand-trigger\":\"hover\",props:t.categoryList,\"show-all-levels\":!1},model:{value:t.querydata.categoryId,callback:function(e){t.$set(t.querydata,\"categoryId\",e)},expression:\"querydata.categoryId\"}}):t._e(),1!==t.typeID?n(\"el-button\",{staticClass:\"mg_r15 mg_t10\",attrs:{type:\"primary\"},on:{click:t.queryDataListFn}},[t._v(\"查询\")]):t._e(),n(\"span\",{staticClass:\"mg_t10\"},[t._v(\"已选择商品ID:\"+t._s(0===t.selectarr.length?\"\":t.selectarr))])],1),n(\"div\",{staticClass:\"select_view\"},[n(\"el-table\",{ref:\"table\",attrs:{border:\"\",data:t.dataList},on:{select:t.selectionRow,\"select-all\":t.handleselectAll}},[n(\"el-table-column\",{attrs:{type:\"selection\",width:\"55\"}}),n(\"el-table-column\",{attrs:{label:\"ID\",width:\"60px\",align:\"center\",\"header-align\":\"center\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[n(\"span\",[t._v(t._s(e.row.id))])]}}])}),n(\"el-table-column\",{attrs:{label:\"名称\",align:\"center\",\"min-width\":\"350px\",\"header-align\":\"center\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[n(\"span\",[t._v(t._s(1==t.typeID?e.row.name:e.row.title))])]}}])}),1!==t.typeID?n(\"el-table-column\",{attrs:{label:\"商品图\",width:\"110\",align:\"center\",\"header-align\":\"center\"},scopedSlots:t._u([{key:\"default\",fn:function(t){return[n(\"el-image\",{staticStyle:{width:\"80px\",height:\"80px\"},attrs:{src:t.row.coverImage,fit:\"cover\",\"preview-src-list\":[t.row.coverImage]}})]}}],null,!1,1546046808)}):t._e(),n(\"el-table-column\",{attrs:{label:\"商品原价\",align:\"center\",width:\"350px\",\"header-align\":\"center\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[n(\"span\",[t._v(t._s(e.row.originalPrice||\"-\"))])]}}])}),n(\"el-table-column\",{attrs:{label:\"商品价格\",align:\"center\",width:\"350px\",\"header-align\":\"center\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[n(\"span\",[t._v(t._s(e.row.price))])]}}])})],1),n(\"div\",{staticClass:\"el_pagination\"},[1!==t.typeID?n(\"el-pagination\",{attrs:{background:\"\",layout:\"prev, pager, next,total,sizes\",\"current-page\":t.dataConfig.pageNo,total:t.dataConfig.total,\"page-sizes\":[10,20,30,40,50],\"page-size\":t.dataConfig.pageSize},on:{\"current-change\":t.currentChangeFn,\"size-change\":t.handleSizeChange}}):t._e()],1),n(\"el-button\",{attrs:{type:\"primary\"},on:{click:t.submitFn}},[t._v(\"确定\")])],1)],1)},a=[],i=n(\"2909\"),o=(n(\"d81d\"),n(\"b0c0\"),n(\"a9e3\"),n(\"159b\"),n(\"a434\"),n(\"99af\"),n(\"a15b\"),n(\"b363\")),u=n(\"c4c8\"),c={name:\"\",data:function(){return{typeID:-1,realselectarr:[],selectarr:[],productIds:[],dataList:[],dataConfig:{pageNo:1,pageSize:10,total:0,loading:!0},querydata:{categoryId:\"\"},categoryList:{lazy:!0,checkStrictly:!0,lazyLoad:function(t,e){Object(u[\"l\"])({pid:t.value||0}).then((function(t){var n=t.data,r=n.map((function(t){return{value:t.id,label:t.name}}));e(r)}))}}}},beforeMount:function(){},mounted:function(){this.typeID=Number(this.$route.query.typeID),1===this.typeID&&this.getinstallproductList()},computed:{realcategoryId:function(){return!!this.querydata.categoryId&&this.querydata.categoryId.pop()}},watch:{},methods:{getDataListFn:function(){var t=this;if(!this.querydata.categoryId&&1===this.typeID)return this.$message.error(\"请选择商品分类\");Object(u[\"n\"])({pageNo:this.dataConfig.pageNo,pageSize:this.dataConfig.pageSize,categoryId:this.realcategoryId,isShelves:\"\",title:\"\"}).then((function(e){var n,r=t.resDataFn(e);t.dataConfig.total=r.total,r.records.forEach((function(e){e.isShelves=1==e.isShelves;var n=-1!==t.selectarr.indexOf(e.id);n&&t.openselction(e)})),(n=t.dataList).splice.apply(n,[0,t.dataList.length].concat(Object(i[\"a\"])(r.records)))}))},getinstallproductList:function(){var t=this;Object(o[\"i\"])({name:\"\",pageNo:1,pageSize:9999,queryTime:\"\"}).then((function(e){t.dataList=e.data.records}))},queryDataListFn:function(){this.dataConfig={pageNo:1,pageSize:10,total:0,loading:!0},this.getDataListFn()},handleSizeChange:function(t){this.dataConfig.pageSize=t,this.getDataListFn()},currentChangeFn:function(t){this.dataConfig.pageNo=t,this.getDataListFn()},openselction:function(t){this.$refs.table.toggleRowSelection(t)},selectionRow:function(t,e){if(2===this.selectarr.length)return this.$message.error(\"最多选择两个\");var n=t.length&&-1!==t.indexOf(e);if(n)this.selectarr.push(e.id);else{var r=this.selectarr.indexOf(e.id);r>-1&&this.selectarr.splice(r,1)}},handleselectAll:function(){this.$message.error(\"最多选择两个\"),this.$refs.table.clearSelection()},submitFn:function(){var t=this;return 0===this.selectarr.length?this.$message.error(\"请选择商品\"):1===this.selectarr.length?this.$message.error(\"至少选择两个商品\"):void Object(u[\"p\"])({id:Number(this.$route.query.typeID),productIds:this.selectarr.join(\",\")}).then((function(e){\"000\"===e.code&&(t.$message.success(\"提交成功\"),setTimeout((function(){t.$router.push({name:\"weixinindexproducttuijianList\"})}),750))}))}}},d=c,s=(n(\"0c03\"),n(\"2877\")),l=Object(s[\"a\"])(d,r,a,!1,null,null,null);e[\"default\"]=l.exports},\"0c03\":function(t,e,n){\"use strict\";n(\"6ee9\")},\"6ee9\":function(t,e,n){},a15b:function(t,e,n){\"use strict\";var r=n(\"23e7\"),a=n(\"e330\"),i=n(\"44ad\"),o=n(\"fc6a\"),u=n(\"a640\"),c=a([].join),d=i!=Object,s=u(\"join\",\",\");r({target:\"Array\",proto:!0,forced:d||!s},{join:function(t){return c(o(this),void 0===t?\",\":t)}})},b363:function(t,e,n){\"use strict\";n.d(e,\"i\",(function(){return a})),n.d(e,\"k\",(function(){return i})),n.d(e,\"e\",(function(){return o})),n.d(e,\"c\",(function(){return u})),n.d(e,\"a\",(function(){return c})),n.d(e,\"h\",(function(){return d})),n.d(e,\"f\",(function(){return s})),n.d(e,\"g\",(function(){return l})),n.d(e,\"j\",(function(){return p})),n.d(e,\"d\",(function(){return f})),n.d(e,\"b\",(function(){return g}));var r=n(\"b775\");n(\"cb5c\");function a(t){return Object(r[\"a\"])({url:\"/admin/product/queryProductInstall\",method:\"post\",data:t})}function i(t){return Object(r[\"a\"])({url:\"/admin/product/queryProductRelated\",method:\"post\",data:t})}function o(t){return Object(r[\"a\"])({url:\"/admin/product/getProductInstall\",method:\"get\",params:t})}function u(t){return Object(r[\"a\"])({url:\"/admin/product/editProductInstall\",method:\"post\",data:t})}function c(t){return Object(r[\"a\"])({url:\"/admin/product/delProductInstall\",method:\"get\",params:t})}function d(t){return Object(r[\"a\"])({url:\"/admin/exp/queryExpRule\",method:\"post\",data:t})}function s(t){return Object(r[\"a\"])({url:\"/admin/product/handleProductDropOff\",method:\"get\",params:t})}function l(t){return Object(r[\"a\"])({url:\"/admin/product/installedModelList\",method:\"get\",params:t})}function p(t){return Object(r[\"a\"])({url:\"/admin/product/queryProductInstallModel\",method:\"post\",data:t})}function f(t){return Object(r[\"a\"])({url:\"/admin/product/editProductInstallModel\",method:\"post\",data:t})}function g(t){return Object(r[\"a\"])({url:\"/admin/product/delProductInstallModel\",method:\"get\",params:t})}},c4c8:function(t,e,n){\"use strict\";n.d(e,\"l\",(function(){return a})),n.d(e,\"m\",(function(){return i})),n.d(e,\"e\",(function(){return o})),n.d(e,\"b\",(function(){return u})),n.d(e,\"n\",(function(){return c})),n.d(e,\"k\",(function(){return d})),n.d(e,\"c\",(function(){return s})),n.d(e,\"h\",(function(){return l})),n.d(e,\"f\",(function(){return p})),n.d(e,\"j\",(function(){return f})),n.d(e,\"p\",(function(){return g})),n.d(e,\"a\",(function(){return h})),n.d(e,\"o\",(function(){return m})),n.d(e,\"g\",(function(){return b})),n.d(e,\"d\",(function(){return y})),n.d(e,\"i\",(function(){return j}));var r=n(\"b775\");n(\"cb5c\");function a(t){return Object(r[\"a\"])({url:\"/admin/product/queryProductCategory\",method:\"get\",params:t})}function i(t){return Object(r[\"a\"])({url:\"/admin/product/queryProductFittingCategory\",method:\"get\",params:t})}function o(t){return Object(r[\"a\"])({url:\"/admin/product/editProductCategory\",method:\"post\",data:t})}function u(t){return Object(r[\"a\"])({url:\"/admin/product/delProductCategory\",method:\"get\",params:t})}function c(t){return Object(r[\"a\"])({url:\"/admin/product/queryProduct\",method:\"post\",data:t})}function d(t){return Object(r[\"a\"])({url:\"/admin/product/handleProductDropOff\",method:\"get\",params:t})}function s(t){return Object(r[\"a\"])({url:\"/admin/product/delProduct\",method:\"get\",params:t})}function l(t){return Object(r[\"a\"])({url:\"/admin/product/getProductDetail\",method:\"get\",params:t})}function p(t){return Object(r[\"a\"])({url:\"/admin/product/editProduct\",method:\"post\",data:t})}function f(t){return Object(r[\"a\"])({url:\"/admin/product/queryRecommendProduct\",method:\"get\",params:t})}function g(t){return Object(r[\"a\"])({url:\"/admin/product/updateRecommendProduct \",method:\"post\",data:t})}function h(t){return Object(r[\"a\"])({url:\"/admin/product/dataAcquisition\",method:\"post\",data:t})}function m(t){return Object(r[\"a\"])({url:\"/admin/supplier/querySupplierList\",method:\"post\",data:t})}function b(t){return Object(r[\"a\"])({url:\"/admin/supplier/editSupplier\",method:\"post\",data:t})}function y(t){return Object(r[\"a\"])({url:\"/admin/supplier/deleteSupplier\",method:\"get\",params:t})}function j(t){return Object(r[\"a\"])({url:\"/admin/supplier/getSupplier\",method:\"get\",params:t})}}}]);","extractedComments":[]}