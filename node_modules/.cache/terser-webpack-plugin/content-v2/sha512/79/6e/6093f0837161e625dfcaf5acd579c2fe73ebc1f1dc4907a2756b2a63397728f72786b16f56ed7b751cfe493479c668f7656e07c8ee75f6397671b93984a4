{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-63b40ee6\"],{a54a:function(e,t,a){\"use strict\";a(\"e6831\")},b363:function(e,t,a){\"use strict\";a.d(t,\"i\",(function(){return n})),a.d(t,\"k\",(function(){return o})),a.d(t,\"e\",(function(){return i})),a.d(t,\"c\",(function(){return l})),a.d(t,\"a\",(function(){return s})),a.d(t,\"h\",(function(){return c})),a.d(t,\"f\",(function(){return u})),a.d(t,\"g\",(function(){return d})),a.d(t,\"j\",(function(){return p})),a.d(t,\"d\",(function(){return m})),a.d(t,\"b\",(function(){return g}));var r=a(\"b775\");a(\"cb5c\");function n(e){return Object(r[\"a\"])({url:\"/admin/product/queryProductInstall\",method:\"post\",data:e})}function o(e){return Object(r[\"a\"])({url:\"/admin/product/queryProductRelated\",method:\"post\",data:e})}function i(e){return Object(r[\"a\"])({url:\"/admin/product/getProductInstall\",method:\"get\",params:e})}function l(e){return Object(r[\"a\"])({url:\"/admin/product/editProductInstall\",method:\"post\",data:e})}function s(e){return Object(r[\"a\"])({url:\"/admin/product/delProductInstall\",method:\"get\",params:e})}function c(e){return Object(r[\"a\"])({url:\"/admin/exp/queryExpRule\",method:\"post\",data:e})}function u(e){return Object(r[\"a\"])({url:\"/admin/product/handleProductDropOff\",method:\"get\",params:e})}function d(e){return Object(r[\"a\"])({url:\"/admin/product/installedModelList\",method:\"get\",params:e})}function p(e){return Object(r[\"a\"])({url:\"/admin/product/queryProductInstallModel\",method:\"post\",data:e})}function m(e){return Object(r[\"a\"])({url:\"/admin/product/editProductInstallModel\",method:\"post\",data:e})}function g(e){return Object(r[\"a\"])({url:\"/admin/product/delProductInstallModel\",method:\"get\",params:e})}},e17a:function(e,t,a){\"use strict\";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",{staticClass:\"app-container\"},[a(\"div\",{staticClass:\"manage-top\",staticStyle:{display:\"flex\"}},[a(\"el-form\",{staticStyle:{width:\"100%\"},attrs:{model:e.queryData,\"label-width\":\"88px\",\"label-position\":\"right\"}},[a(\"el-row\",{attrs:{gutter:20}},[a(\"el-col\",{attrs:{span:6}},[a(\"el-form-item\",{attrs:{label:\"型号名称\"}},[a(\"el-input\",{attrs:{placeholder:\"请输入型号名称\"},model:{value:e.queryData.name,callback:function(t){e.$set(e.queryData,\"name\",t)},expression:\"queryData.name\"}})],1)],1)],1),a(\"el-row\",{attrs:{gutter:20}},[a(\"el-col\",[a(\"el-form-item\",[a(\"el-button\",{attrs:{type:\"primary\",icon:\"el-icon-search\"},on:{click:e.getDataListFn}},[e._v(\"查询\")]),a(\"el-button\",{attrs:{type:\"danger\",icon:\"el-icon-refresh\"},on:{click:e.resSetQueryFn}},[e._v(\"重置\")]),a(\"el-button\",{attrs:{type:\"success\",icon:\"el-icon-plus\"},on:{click:function(t){return e.addModel(\"new\")}}},[e._v(\"添加装机型号\")])],1)],1)],1)],1)],1),a(\"div\",{staticStyle:{height:\"16px\"}}),a(\"div\",{staticClass:\"manage-table\"},[a(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.dataConfig.loading,expression:\"dataConfig.loading\"}],ref:\"multipleTable\",staticStyle:{width:\"100%\"},attrs:{data:e.dataList,border:\"\",\"header-cell-style\":{color:\"#666\"}}},[a(\"el-table-column\",{attrs:{label:\"编号\",width:\"100\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"span\",[e._v(e._s(t.row.id||\"--\"))])]}}])}),a(\"el-table-column\",{attrs:{label:\"封面图片\",width:\"300\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(e){return[a(\"el-image\",{staticStyle:{width:\"80px\",height:\"80px\"},attrs:{\"preview-src-list\":[e.row.coverImage],src:e.row.coverImage}})]}}])}),a(\"el-table-column\",{attrs:{label:\"型号名称\",\"header-align\":\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"span\",[e._v(e._s(t.row.modelName||\"--\"))])]}}])}),a(\"el-table-column\",{attrs:{label:\"描述\",align:\"center\",width:\"300\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"span\",[e._v(e._s(t.row.simpleDesc||\"--\"))])]}}])}),a(\"el-table-column\",{attrs:{label:\"机器类型\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[1===t.row.type?a(\"span\",[e._v(\"数据中心\")]):e._e(),2===t.row.type?a(\"span\",[e._v(\"加工中心\")]):e._e()]}}])}),a(\"el-table-column\",{attrs:{label:\"是否显示\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"span\"),0===t.row.status?a(\"el-tag\",{attrs:{type:\"info\"}},[e._v(\"隐藏\")]):e._e(),1===t.row.status?a(\"el-tag\",{attrs:{type:\"success\"}},[e._v(\"显示\")]):e._e()]}}])}),a(\"el-table-column\",{attrs:{label:\"操作\",width:\"150\",align:\"center\",fixed:\"right\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"el-button\",{attrs:{type:\"text\"},on:{click:function(a){return e.addModel(\"edit\",t.row)}}},[e._v(\"编辑\")]),a(\"el-button\",{staticStyle:{color:\"red\"},attrs:{type:\"text\"},on:{click:function(a){return e.classifyDel(t.$index,t.row)}}},[e._v(\"删除\")])]}}])})],1)],1),a(\"div\",{staticStyle:{height:\"16px\"}}),a(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:e.dataList.length>0,expression:\"dataList.length > 0\"}],staticClass:\"table-block\"},[a(\"el-pagination\",{attrs:{background:\"\",\"current-page\":e.dataConfig.pageNo,\"page-size\":e.dataConfig.pageSize,\"page-sizes\":[20,30,50,100],layout:\"total,sizes, prev, pager, next\",total:e.dataConfig.total},on:{\"size-change\":e.handleSizeChange,\"current-change\":e.currentChangeFn,\"update:currentPage\":function(t){return e.$set(e.dataConfig,\"pageNo\",t)},\"update:current-page\":function(t){return e.$set(e.dataConfig,\"pageNo\",t)}}})],1),a(\"el-dialog\",{attrs:{title:e.dialogTitle,visible:e.dialogVisible,width:\"600px\"},on:{\"update:visible\":function(t){e.dialogVisible=t}}},[a(\"el-form\",{ref:\"ModelForm\",staticStyle:{\"padding-right\":\"20px\"},attrs:{model:e.ModelForm,rules:e.rules,\"label-width\":\"110px\"}},[a(\"el-form-item\",{attrs:{label:\"型号标题\",prop:\"title\"}},[a(\"el-input\",{attrs:{placeholder:\"请输入装机型号的标题\"},model:{value:e.ModelForm.modelName,callback:function(t){e.$set(e.ModelForm,\"modelName\",t)},expression:\"ModelForm.modelName\"}})],1),a(\"el-form-item\",{attrs:{label:\"型号封面图\",prop:\"coverPicture\"}},[a(\"upload-img\",{attrs:{width:\"80px\",height:\"80px\",img:e.ModelForm.coverImage},on:{uploadSuc:e.uploadSucFn}})],1),a(\"el-form-item\",{attrs:{label:\"型号类型\",prop:\"content\"}},[a(\"el-radio-group\",{model:{value:e.ModelForm.type,callback:function(t){e.$set(e.ModelForm,\"type\",t)},expression:\"ModelForm.type\"}},[a(\"el-radio\",{attrs:{label:1}},[e._v(\"数据中心\")]),a(\"el-radio\",{attrs:{label:2}},[e._v(\"加工中心\")])],1)],1),a(\"el-form-item\",{attrs:{label:\"描述\",prop:\"content\"}},[a(\"el-input\",{attrs:{type:\"textarea\",resize:\"none\",rows:3},model:{value:e.ModelForm.simpleDesc,callback:function(t){e.$set(e.ModelForm,\"simpleDesc\",t)},expression:\"ModelForm.simpleDesc\"}})],1),a(\"el-form-item\",{attrs:{label:\"分类状态\",prop:\"content\"}},[a(\"el-radio-group\",{model:{value:e.ModelForm.status,callback:function(t){e.$set(e.ModelForm,\"status\",t)},expression:\"ModelForm.status\"}},[a(\"el-radio\",{attrs:{label:1}},[e._v(\"显示\")]),a(\"el-radio\",{attrs:{label:0}},[e._v(\"隐藏\")])],1)],1)],1),a(\"span\",{staticStyle:{\"padding-right\":\"20px\"},attrs:{slot:\"footer\"},slot:\"footer\"},[a(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(t){return e.addModelSubmit(\"ModelForm\")}}},[e._v(\"确定\"+e._s(\"编辑装机型号\"===e.dialogTitle?\"编辑\":\"添加\"))])],1)],1)],1)},n=[],o=a(\"2909\"),i=a(\"1da1\"),l=(a(\"96cf\"),a(\"b0c0\"),a(\"a434\"),a(\"99af\"),a(\"b363\")),s=a(\"1d6e\"),c={components:{uploadImg:s[\"a\"]},data:function(){return{dataList:[],dataConfig:{pageNo:1,pageSize:20,total:0,loading:!0},queryData:{name:\"\"},dialogTitle:\"添加装机型号\",dialogVisible:!1,ModelForm:{modelName:\"\",coverImage:\"\",type:1,simpleDesc:\"\",status:1},rules:{modelName:[{required:!0,message:\"请输入装机型号的名称\",trigger:\"blur\"}],coverImage:[{required:!0,message:\"请上传封面图\",trigger:\"upload\"}],simpleDesc:[{required:!0,message:\"请输入描述\",trigger:\"blur\"}]}}},created:function(){this.getDataListFn()},methods:{getDataListFn:function(){var e=this;return Object(i[\"a\"])(regeneratorRuntime.mark((function t(){var a,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.dataConfig.loading=!0,t.next=3,Object(l[\"j\"])({name:e.queryData.name||void 0,pageNo:e.dataConfig.pageNo,pageSize:e.dataConfig.pageSize});case 3:r=t.sent,n=e.resDataFn(r),e.dataConfig.total=n.total,(a=e.dataList).splice.apply(a,[0,e.dataList.length].concat(Object(o[\"a\"])(n.records)));case 7:case\"end\":return t.stop()}}),t)})))()},handleSizeChange:function(e){this.dataConfig.pageSize=e,this.getDataListFn()},currentChangeFn:function(e){this.dataConfig.pageNo=e,this.getDataListFn()},queryDataFn:function(){this.dataConfig.pageNo=1,this.dataConfig.pageSize=20,this.getDataListFn()},resSetQueryFn:function(){this.dataConfig.pageNo=1,this.dataConfig.pageSize=20,this.getDataListFn()},uploadSucFn:function(e){this.ModelForm.coverImage=e},addModel:function(e,t){var a=this;return Object(i[\"a\"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:for(n in a.dialogTitle=\"添加装机型号\",a.ModelForm)\"number\"===typeof a.ModelForm[n]?a.ModelForm[n]=1:a.ModelForm[n]=\"\";\"edit\"===e&&(a.dialogTitle=\"编辑装机型号\",a.ModelForm=t),a.dialogVisible=!0;case 4:case\"end\":return r.stop()}}),r)})))()},addModelSubmit:function(e){var t=this;return Object(i[\"a\"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.$refs[e].validate(function(){var e=Object(i[\"a\"])(regeneratorRuntime.mark((function e(a){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a){e.next=4;break}return e.abrupt(\"return\",!1);case 4:return\"添加装机型号\"===t.dialogTitle&&delete t.ModelForm.id,delete t.ModelForm.createTime,e.next=8,Object(l[\"d\"])(t.ModelForm);case 8:r=e.sent,\"000\"===r.code&&(t.$message({type:\"success\",message:\"操作成功!\"}),t.dialogVisible=!1,t.getDataListFn());case 10:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case\"end\":return a.stop()}}),a)})))()},classifyDel:function(e,t){var a=this;this.$confirm(\"此操作将永久删除该条资讯, 是否继续?\",\"提示\",{confirmButtonText:\"确定\",cancelButtonText:\"取消\",type:\"warning\"}).then(Object(i[\"a\"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Object(l[\"b\"])({id:t.id});case 2:n=r.sent,\"000\"===n.code&&(a.$message({type:\"success\",message:\"删除成功!\"}),a.dataList.splice(e,1));case 4:case\"end\":return r.stop()}}),r)})))).catch((function(){}))}}},u=c,d=(a(\"a54a\"),a(\"2877\")),p=Object(d[\"a\"])(u,r,n,!1,null,\"ec8530fa\",null);t[\"default\"]=p.exports},e6831:function(e,t,a){}}]);","extractedComments":[]}