{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-0c7fbb9b\"],{\"67c6\":function(t,e,a){\"use strict\";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"content_box\"},[a(\"first-title\",{attrs:{title:\"商品管理\"}}),a(\"div\",{staticClass:\"select_view\"},[t._v(\" 筛选： \"),a(\"el-input\",{staticClass:\"mg_r15 mg_t10\",staticStyle:{width:\"200px\"},attrs:{placeholder:\"请输入商品名称\"},model:{value:t.queryData.title,callback:function(e){t.$set(t.queryData,\"title\",e)},expression:\"queryData.title\"}}),a(\"el-select\",{staticClass:\"mg_r15 mg_t10\",staticStyle:{width:\"200px\"},attrs:{placeholder:\"请选择商品状态\"},model:{value:t.queryData.isShelves,callback:function(e){t.$set(t.queryData,\"isShelves\",e)},expression:\"queryData.isShelves\"}},t._l(t.isShelves,(function(t){return a(\"el-option\",{key:t.val,attrs:{label:t.name,value:t.val}})})),1),a(\"el-cascader\",{staticClass:\"mg_r15 mg_t10\",class:{el_cascader:\"\"!=t.queryData.categoryId},staticStyle:{width:\"300px\"},attrs:{placeholder:\"请选择商品分类\",\"expand-trigger\":\"hover\",props:t.categoryList,\"show-all-levels\":!1},model:{value:t.queryData.categoryId,callback:function(e){t.$set(t.queryData,\"categoryId\",e)},expression:\"queryData.categoryId\"}}),a(\"el-button\",{staticClass:\"mg_t10\",attrs:{type:\"primary\"},on:{click:t.queryDataListFn}},[t._v(\"查询\")]),a(\"el-button\",{staticClass:\"mg_t10 mg_r15\",attrs:{type:\"danger\"},on:{click:t.resSetQueryFn}},[t._v(\"重置查询\")]),a(\"el-link\",{attrs:{href:\"#/product/product-detail\"}},[a(\"el-button\",{attrs:{type:\"primary\"}},[a(\"i\",{staticClass:\"el-icon-plus\"}),t._v(\"添加商品\")])],1)],1),a(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:t.dataConfig.loading,expression:\"dataConfig.loading\"}],staticClass:\"list\",attrs:{border:\"\",data:t.dataList,\"header-cell-style\":{color:\"#666\"}}},[a(\"el-table-column\",{attrs:{label:\"ID\",fixed:\"\",width:\"60\",align:\"center\",\"header-align\":\"center\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[a(\"span\",[t._v(t._s(e.row.id))])]}}])}),a(\"el-table-column\",{attrs:{label:\"商品标题\",fixed:\"\",width:\"160\",align:\"left\",\"header-align\":\"center\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[a(\"span\",[t._v(t._s(e.row.title))])]}}])}),a(\"el-table-column\",{attrs:{label:\"供应商\",fixed:\"\",width:\"160\",align:\"left\",\"header-align\":\"center\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[a(\"span\",[t._v(t._s(e.row.supplierName))])]}}])}),a(\"el-table-column\",{attrs:{label:\"商品分类\",align:\"center\",\"header-align\":\"center\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[a(\"span\",[t._v(t._s(e.row.categoryName))])]}}])}),a(\"el-table-column\",{attrs:{label:\"简述\",align:\"center\",\"header-align\":\"center\",\"show-overflow-tooltip\":!0},scopedSlots:t._u([{key:\"default\",fn:function(e){return[a(\"span\",[t._v(t._s(e.row.simpleDesc))])]}}])}),a(\"el-table-column\",{attrs:{label:\"商品型号\",align:\"center\",\"header-align\":\"center\",width:\"110px\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[a(\"span\",[t._v(t._s(e.row.mode))])]}}])}),a(\"el-table-column\",{attrs:{label:\"封面图片\",width:\"110\",align:\"center\",\"header-align\":\"center\"},scopedSlots:t._u([{key:\"default\",fn:function(t){return[a(\"el-image\",{staticStyle:{width:\"80px\",height:\"80px\"},attrs:{src:t.row.coverImage,fit:\"cover\",\"preview-src-list\":[t.row.coverImage]}})]}}])}),a(\"el-table-column\",{attrs:{label:\"参考价\",align:\"center\",\"header-align\":\"center\",width:\"100px\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[a(\"span\",[t._v(t._s(e.row.price))])]}}])}),a(\"el-table-column\",{attrs:{label:\"总库存\",align:\"center\",\"header-align\":\"center\",width:\"84px\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[a(\"span\",[t._v(t._s(e.row.inventory))])]}}])}),a(\"el-table-column\",{attrs:{label:\"剩余库存\",align:\"center\",\"header-align\":\"center\",width:\"84px\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[a(\"span\",[t._v(t._s(e.row.lastInventory))])]}}])}),a(\"el-table-column\",{attrs:{label:\"是否多规格\",align:\"center\",\"header-align\":\"center\",width:\"98px\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[a(\"span\",[t._v(t._s(1==e.row.isExistManySpec?\"是\":\"否\"))])]}}])}),a(\"el-table-column\",{attrs:{label:\"创建时间\",align:\"center\",\"header-align\":\"center\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[a(\"span\",[t._v(t._s(e.row.createTime))])]}}])}),a(\"el-table-column\",{attrs:{label:\"上/下架\",fixed:\"right\",align:\"center\",\"header-align\":\"center\",width:\"100\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[a(\"el-switch\",{on:{change:function(a){return t.statusChangeFn(a,e.$index)}},model:{value:e.row.isShelves,callback:function(a){t.$set(e.row,\"isShelves\",a)},expression:\"scope.row.isShelves\"}})]}}])}),a(\"el-table-column\",{attrs:{label:\"操作\",fixed:\"right\",width:\"180\",align:\"center\",\"header-align\":\"center\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[a(\"router-link\",{staticStyle:{\"margin-right\":\"10px\"},attrs:{to:{name:\"ProductDetail\",query:{id:e.row.id,pageNo:t.dataConfig.pageNo,pageSize:t.dataConfig.pageSize}}}},[a(\"el-button\",{attrs:{type:\"primary\",size:\"small\"}},[t._v(\"编辑\")])],1),a(\"el-button\",{attrs:{size:\"small\",type:\"danger\"},on:{click:function(a){return t.delProductFn(e)}}},[t._v(\"删除\")])]}}])})],1),a(\"div\",{staticClass:\"el_pagination\"},[a(\"el-pagination\",{attrs:{background:\"\",layout:\"prev, pager, next,total,sizes\",\"current-page\":t.dataConfig.pageNo,total:t.dataConfig.total,\"page-sizes\":[20,30,40,50],\"page-size\":t.dataConfig.pageSize},on:{\"current-change\":t.currentChangeFn,\"size-change\":t.handleSizeChange}})],1)],1)},r=[],i=a(\"2909\"),o=(a(\"d81d\"),a(\"b0c0\"),a(\"a9e3\"),a(\"a434\"),a(\"159b\"),a(\"99af\"),a(\"c4c8\")),l={name:\"ProductList\",data:function(){return{dataList:[],dataConfig:{pageNo:1,pageSize:20,total:0,loading:!0},isShelves:[{name:\"上架\",val:1},{name:\"下架\",val:0}],isExistManySpec:[{name:\"是\",val:1},{name:\"否\",val:0}],queryData:{categoryId:\"\",isShelves:\"\",title:\"\"},productBrandList:[],categoryList:{lazy:!0,checkStrictly:!0,lazyLoad:function(t,e){Object(o[\"l\"])({pid:t.value||0}).then((function(t){var a=t.data,n=a.map((function(t){return{value:t.id,label:t.name}}));e(n)}))}}}},beforeMount:function(){this.$route.query.pageNo&&(this.dataConfig.pageNo=Number(this.$route.query.pageNo)),this.$route.query.pageSize&&(this.dataConfig.pageSize=Number(this.$route.query.pageSize)),this.getDataListFn()},computed:{realcategoryId:function(){return this.queryData.categoryId?this.queryData.categoryId.pop():0}},methods:{delProductFn:function(t){var e=this;this.deleteAlert().then((function(){var e=Object(o[\"c\"])({id:t.row.id});return e})).then((function(a){var n=e.resDataFn(a);\"000\"==n&&e.dataList.splice(t.$index,1)}))},statusChangeFn:function(t,e){var a=this;Object(o[\"k\"])({id:this.dataList[e].id,status:t?1:0}).then((function(n){\"000\"==n.code?a.$message({showClose:!0,message:\"操作成功！\",type:\"success\"}):a.dataList[e].isShelves=!t})).catch((function(){a.dataList[e].isShelves=!t}))},getDataListFn:function(){var t=this;Object(o[\"n\"])({pageNo:this.dataConfig.pageNo,pageSize:this.dataConfig.pageSize,categoryId:this.realcategoryId,isShelves:this.queryData.isShelves,title:this.queryData.title}).then((function(e){var a,n=t.resDataFn(e);t.dataConfig.total=n.total,n.records.forEach((function(t){t.isShelves=1==t.isShelves})),(a=t.dataList).splice.apply(a,[0,t.dataList.length].concat(Object(i[\"a\"])(n.records)))}))},resSetQueryFn:function(){this.dataConfig={pageNo:1,pageSize:20,total:0,loading:!0},this.queryData={categoryId:0,isShelves:\"\",title:\"\"},this.getDataListFn()},queryDataListFn:function(){this.dataConfig={pageNo:1,pageSize:20,total:0,loading:!0},this.getDataListFn()},handleSizeChange:function(t){this.dataConfig.pageSize=t,this.getDataListFn()},currentChangeFn:function(t){this.dataConfig.pageNo=t,this.getDataListFn()}}},s=l,u=a(\"2877\"),c=Object(u[\"a\"])(s,n,r,!1,null,null,null);e[\"default\"]=c.exports},c4c8:function(t,e,a){\"use strict\";a.d(e,\"l\",(function(){return r})),a.d(e,\"m\",(function(){return i})),a.d(e,\"e\",(function(){return o})),a.d(e,\"b\",(function(){return l})),a.d(e,\"n\",(function(){return s})),a.d(e,\"k\",(function(){return u})),a.d(e,\"c\",(function(){return c})),a.d(e,\"h\",(function(){return d})),a.d(e,\"f\",(function(){return p})),a.d(e,\"j\",(function(){return g})),a.d(e,\"p\",(function(){return f})),a.d(e,\"a\",(function(){return h})),a.d(e,\"o\",(function(){return m})),a.d(e,\"g\",(function(){return y})),a.d(e,\"d\",(function(){return b})),a.d(e,\"i\",(function(){return v}));var n=a(\"b775\");a(\"cb5c\");function r(t){return Object(n[\"a\"])({url:\"/admin/product/queryProductCategory\",method:\"get\",params:t})}function i(t){return Object(n[\"a\"])({url:\"/admin/product/queryProductFittingCategory\",method:\"get\",params:t})}function o(t){return Object(n[\"a\"])({url:\"/admin/product/editProductCategory\",method:\"post\",data:t})}function l(t){return Object(n[\"a\"])({url:\"/admin/product/delProductCategory\",method:\"get\",params:t})}function s(t){return Object(n[\"a\"])({url:\"/admin/product/queryProduct\",method:\"post\",data:t})}function u(t){return Object(n[\"a\"])({url:\"/admin/product/handleProductDropOff\",method:\"get\",params:t})}function c(t){return Object(n[\"a\"])({url:\"/admin/product/delProduct\",method:\"get\",params:t})}function d(t){return Object(n[\"a\"])({url:\"/admin/product/getProductDetail\",method:\"get\",params:t})}function p(t){return Object(n[\"a\"])({url:\"/admin/product/editProduct\",method:\"post\",data:t})}function g(t){return Object(n[\"a\"])({url:\"/admin/product/queryRecommendProduct\",method:\"get\",params:t})}function f(t){return Object(n[\"a\"])({url:\"/admin/product/updateRecommendProduct \",method:\"post\",data:t})}function h(t){return Object(n[\"a\"])({url:\"/admin/product/dataAcquisition\",method:\"post\",data:t})}function m(t){return Object(n[\"a\"])({url:\"/admin/supplier/querySupplierList\",method:\"post\",data:t})}function y(t){return Object(n[\"a\"])({url:\"/admin/supplier/editSupplier\",method:\"post\",data:t})}function b(t){return Object(n[\"a\"])({url:\"/admin/supplier/deleteSupplier\",method:\"get\",params:t})}function v(t){return Object(n[\"a\"])({url:\"/admin/supplier/getSupplier\",method:\"get\",params:t})}}}]);","extractedComments":[]}