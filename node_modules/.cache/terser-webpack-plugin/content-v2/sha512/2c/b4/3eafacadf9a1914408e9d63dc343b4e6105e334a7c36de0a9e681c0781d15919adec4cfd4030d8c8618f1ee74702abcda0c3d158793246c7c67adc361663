{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-d26c2702\"],{\"1e35\":function(t,e,n){},\"27bf\":function(t,e,n){\"use strict\";n.d(e,\"d\",(function(){return a})),n.d(e,\"g\",(function(){return o})),n.d(e,\"l\",(function(){return r})),n.d(e,\"e\",(function(){return l})),n.d(e,\"h\",(function(){return s})),n.d(e,\"m\",(function(){return c})),n.d(e,\"f\",(function(){return u})),n.d(e,\"i\",(function(){return d})),n.d(e,\"k\",(function(){return m})),n.d(e,\"j\",(function(){return f})),n.d(e,\"a\",(function(){return p})),n.d(e,\"b\",(function(){return h})),n.d(e,\"c\",(function(){return b}));var i=n(\"b775\");n(\"cb5c\");function a(t){return Object(i[\"a\"])({url:\"/admin/talentPool/editOfflineTraining\",method:\"post\",data:t})}function o(t){return Object(i[\"a\"])({url:\"/admin/talentPool/getOfflineTraining?id=\".concat(t),method:\"get\"})}function r(t){return Object(i[\"a\"])({url:\"/admin/talentPool/queryPartnerlList\",method:\"post\",data:t})}function l(t){return Object(i[\"a\"])({url:\"/admin/talentPool/editPartnerlInfo\",method:\"post\",data:t})}function s(t){return Object(i[\"a\"])({url:\"/admin/talentPool/getPartnerlInfo?id=\".concat(t),method:\"get\"})}function c(t){return Object(i[\"a\"])({url:\"/admin/talentPool/queryPersonnelList\",method:\"post\",data:t})}function u(t){return Object(i[\"a\"])({url:\"/admin/talentPool/editPersonnelInfo\",method:\"post\",data:t})}function d(t){return Object(i[\"a\"])({url:\"/admin/talentPool/getPersonnelInfo?id=\".concat(t),method:\"get\"})}function m(t){return Object(i[\"a\"])({url:\"/admin/talentPool/queryOfflineTrainingList\",method:\"post\",data:t})}function f(t){return Object(i[\"a\"])({url:\"/admin/talentPool/queryOfflineApply\",method:\"post\",data:t})}function p(t){return Object(i[\"a\"])({url:\"/admin/talentPool/deleteOfflineApply?id=\".concat(t),method:\"get\"})}function h(t){return Object(i[\"a\"])({url:\"/admin/talentPool/deletePartnerlInfo?id=\".concat(t),method:\"get\"})}function b(t){return Object(i[\"a\"])({url:\"/admin/talentPool/deletePersonnelInfo?id=\".concat(t),method:\"get\"})}},7920:function(t,e,n){\"use strict\";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticClass:\"content_box\"},[n(\"first-title\",{attrs:{title:0===t.parentId?\"新增(学院/企业)\":\"编辑(学院/企业)\"}}),n(\"div\",{staticClass:\"bg-white\",staticStyle:{padding:\"50px 20px\"}},[n(\"el-form\",{ref:\"form\",attrs:{rules:t.rules,\"label-width\":\"180px\",model:t.formdata}},[n(\"el-form-item\",{attrs:{label:\"学院/企业名称：\",prop:\"title\"}},[n(\"el-input\",{staticStyle:{width:\"250px\"},attrs:{placeholder:\"请输入学院/企业名称\"},model:{value:t.formdata.title,callback:function(e){t.$set(t.formdata,\"title\",e)},expression:\"formdata.title\"}})],1),n(\"el-form-item\",{attrs:{label:\"学院/企业主要方向：\",prop:\"title\"}},[n(\"el-input\",{staticStyle:{width:\"350px\"},attrs:{placeholder:\"请输入学院/企业主要方向(多个以/隔开)\"},model:{value:t.formdata.label,callback:function(e){t.$set(t.formdata,\"label\",e)},expression:\"formdata.label\"}})],1),n(\"el-form-item\",{staticClass:\"float_item\",staticStyle:{height:\"auto\"},attrs:{label:\"列表小图:\",prop:\"coverImage\"}},[n(\"upload-img\",{attrs:{width:\"80px\",height:\"80px\",img:t.formdata.coverImage},on:{uploadSuc:t.uploadSucFn}})],1),n(\"el-form-item\",{staticClass:\"float_item\",staticStyle:{height:\"auto\"},attrs:{label:\"详情大图:\",prop:\"coverImage\"}},[n(\"upload-img\",{attrs:{width:\"80px\",height:\"80px\",img:t.formdata.inImage},on:{uploadSuc:t.uploadSucFnbig}})],1),n(\"el-form-item\",{attrs:{label:\"添加类型(学院/企业)：\",prop:\"type\"}},[n(\"el-select\",{attrs:{placeholder:\"请选择添加类型\"},model:{value:t.formdata.type,callback:function(e){t.$set(t.formdata,\"type\",e)},expression:\"formdata.type\"}},[n(\"el-option\",{attrs:{label:\"学院\",value:1}}),n(\"el-option\",{attrs:{label:\"企业\",value:2}})],1)],1),n(\"el-form-item\",{attrs:{label:\"观看次数：\",prop:\"watchedNum\"}},[n(\"el-input\",{staticStyle:{width:\"250px\"},attrs:{min:\"0\",type:\"number\",placeholder:\"请输入观看次数\"},model:{value:t.formdata.watchedNum,callback:function(e){t.$set(t.formdata,\"watchedNum\",e)},expression:\"formdata.watchedNum\"}})],1),n(\"el-form-item\",{attrs:{label:\"排序(越小越前)：\",prop:\"sort\"}},[n(\"el-input\",{staticStyle:{width:\"250px\"},attrs:{min:\"0\",type:\"number\",placeholder:\"请输入排序数\"},model:{value:t.formdata.sort,callback:function(e){t.$set(t.formdata,\"sort\",e)},expression:\"formdata.sort\"}})],1),n(\"el-form-item\",{staticStyle:{clear:\"both\"},attrs:{label:\"学院/企业就业学员信息：\"}},[n(\"el-table\",{staticClass:\"list_table\",staticStyle:{width:\"800px\"},attrs:{data:t.formdata.workInfo,border:\"\"}},[n(\"el-table-column\",{attrs:{label:\"就业类型名称(例如:数控)\",width:\"250\",align:\"center\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[n(\"el-input\",{staticClass:\"spec_name\",attrs:{placeholder:\"填写就业类型名称\"},model:{value:e.row.name,callback:function(n){t.$set(e.row,\"name\",n)},expression:\"scope.row.name\"}})]}}])}),n(\"el-table-column\",{attrs:{label:\"就业数量\",width:\"200\",align:\"center\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[n(\"el-input\",{staticClass:\"spec_name\",attrs:{type:\"number\",placeholder:\"填写就业数量\"},model:{value:e.row.num,callback:function(n){t.$set(e.row,\"num\",n)},expression:\"scope.row.num\"}})]}}])}),n(\"el-table-column\",{attrs:{label:\"操作\",align:\"center\",\"header-align\":\"center\",\"min-width\":\"300\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[n(\"el-button\",{attrs:{size:\"small\",type:\"danger\"},on:{click:function(n){return t.delListFn(e.$index)}}},[t._v(\"删除\")])]}}])})],1),n(\"el-button\",{staticStyle:{\"margin-top\":\"15px\"},attrs:{size:\"small\",icon:\"el-icon-plus\",type:\"primary\"},on:{click:t.addListItemFn}},[t._v(\"添加就业类型信息\")])],1),n(\"el-form-item\",{staticStyle:{clear:\"both\"},attrs:{label:\"描述：\",prop:\"content\"}},[n(\"tinymce\",{ref:\"ppp\",attrs:{width:650,id:\"parentdetail_\"+t.parentId,height:400},model:{value:t.formdata.content,callback:function(e){t.$set(t.formdata,\"content\",e)},expression:\"formdata.content\"}})],1),n(\"el-form-item\",{attrs:{label:\"\"}},[n(\"el-button\",{staticClass:\"mr10\",attrs:{type:\"primary\",plain:\"\"},on:{click:function(e){return t.$router.push({name:\"editPartnerlInfo\"})}}},[t._v(\"取消\")]),n(\"el-button\",{attrs:{type:\"primary\",disabled:t.submitIng},on:{click:t.submit}},[t._v(t._s(t.submitIng?\"提交中...\":\"确认提交\"))]),n(\"span\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.submitIng,expression:\"submitIng\"}],staticStyle:{\"margin-left\":\"15px\",color:\"#f56c6c\"}},[t._v(\"提交中,请勿重复点击!\")])],1)],1)],1)],1)},a=[],o=n(\"5530\"),r=(n(\"a9e3\"),n(\"a434\"),n(\"27bf\")),l=n(\"1d6e\"),s=n(\"8256\"),c={name:\"\",components:{Tinymce:s[\"a\"],uploadImg:l[\"a\"]},props:{},data:function(){return{parentId:\"\",submitIng:!1,typeList:[{type:0,name:\"学院\"},{type:1,name:\"企业\"}],formdata:{label:\"\",inImage:\"\",content:\"\",coverImage:\"\",sort:\"\",title:\"\",type:\"\",watchedNum:\"\",workInfo:[]},rules:{}}},mounted:function(){var t=this.$route.query.parentId;this.parentId=Number(t),0!==Number(t)&&this.getPartnerDetail()},created:function(){},activated:function(){},watch:{parentId:function(t){0!==t&&this.$refs.ppp.setContent(\"\")}},methods:{addListItemFn:function(){this.formdata.workInfo.push({name:\"\",num:\"\"})},delListFn:function(t){this.formdata.workInfo.splice(t,1)},submit:function(){var t=this,e=Object(o[\"a\"])({},this.formdata);e.workInfo=JSON.stringify(e.workInfo),e.id=this.parentId,e.sort=Number(e.sort),e.type=Number(e.type),e.watchedNum=Number(e.watchedNum),this.submitIng=!0,Object(r[\"e\"])(e).then((function(e){setTimeout((function(){t.submitIng=!1}),1e3),\"000\"==e.code&&(t.$message({showClose:!0,message:0===t.parentId?\"新增成功！\":\"编辑成功！\",type:\"success\"}),t.$router.go(-1))})).catch((function(){setTimeout((function(){t.submitIng=!1}),1e3)}))},getPartnerDetail:function(){var t=this;0!=this.parentId&&Object(r[\"h\"])(this.parentId).then((function(e){var n=t.resDataFn(e);t.formdata.workInfo=n.list,t.formdata.content=n.content,t.formdata.inImage=n.inImage,t.formdata.label=n.label,t.formdata.coverImage=n.coverImage,t.formdata.sort=n.sort,t.formdata.title=n.title,t.formdata.type=n.type,t.formdata.watchedNum=n.watchedNum}))},uploadSucFn:function(t){this.formdata.coverImage=t},uploadSucFnbig:function(t){this.formdata.inImage=t}}},u=c,d=n(\"2877\"),m=Object(d[\"a\"])(u,i,a,!1,null,null,null);e[\"default\"]=m.exports},8256:function(t,e,n){\"use strict\";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticClass:\"tinymce-container\",class:{fullscreen:t.fullscreen},style:{width:t.containerWidth}},[n(\"textarea\",{staticClass:\"tinymce-textarea\",attrs:{id:t.tinymceId}}),t._v(\" \"),n(\"div\",{staticClass:\"editor-custom-btn-container\"},[n(\"editorImage\",{staticClass:\"editor-upload-btn\",attrs:{color:\"#1890ff\"},on:{successCBK:t.imageSuccessCBK}})],1)])},a=[],o=(n(\"b680\"),n(\"a9e3\"),n(\"159b\"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticClass:\"upload-container\"},[n(\"el-button\",{style:{background:t.color,borderColor:t.color},attrs:{icon:\"el-icon-upload\",size:\"mini\",type:\"primary\"},on:{click:function(e){t.dialogVisible=!0}}},[t._v(\" 上传图片 \")]),n(\"el-dialog\",{attrs:{visible:t.dialogVisible,\"append-to-body\":!0},on:{\"update:visible\":function(e){t.dialogVisible=e}}},[n(\"el-upload\",{ref:\"uploadImg\",staticClass:\"editor-slide-upload\",attrs:{multiple:!0,\"file-list\":t.fileList,\"show-file-list\":!0,\"before-upload\":t.beforeUpload,action:t.qiniuHost,\"list-type\":\"picture-card\",\"http-request\":t.httpRequestFn},scopedSlots:t._u([{key:\"file\",fn:function(e){var i=e.file;return n(\"div\",{staticClass:\"show_img_box\"},[n(\"img\",{staticClass:\"el-upload-list__item-thumbnail\",attrs:{src:i.url,alt:\"\"}}),n(\"div\",{staticClass:\"progress\"},[parseInt(t.fileProgress[i.uid])>=100?n(\"span\",{staticClass:\"delete_icon\",on:{click:function(e){return t.handleRemove(i)}}},[n(\"i\",{staticClass:\"el-icon-delete\"})]):t._e(),parseInt(t.fileProgress[i.uid])<100?n(\"el-progress\",{staticStyle:{color:\"#FFFFFF\"},attrs:{type:\"circle\",percentage:parseInt(t.fileProgress[i.uid])}}):t._e()],1)])}}])},[n(\"i\",{staticClass:\"el-icon-plus\",attrs:{slot:\"default\"},slot:\"default\"})]),n(\"el-button\",{on:{click:function(e){t.dialogVisible=!1}}},[t._v(\" 取消 \")]),n(\"el-button\",{attrs:{type:\"primary\"},on:{click:t.handleSubmit}},[t._v(\" 确认 \")])],1)],1)}),r=[],l=n(\"5530\"),s=(n(\"b64b\"),n(\"d81d\"),n(\"c740\"),n(\"a434\"),n(\"d3b7\"),n(\"3ca3\"),n(\"ddb0\"),n(\"2b3d\"),n(\"cb5c\")),c=n(\"2f62\"),u=n(\"8593\"),d={name:\"EditorSlideUpload\",props:{color:{type:String,default:\"#1890ff\"}},data:function(){return{qiniuHost:s[\"qiniuHost\"],dialogVisible:!1,listObj:{},fileList:[]}},computed:Object(l[\"a\"])(Object(l[\"a\"])({},Object(c[\"c\"])([\"token\"])),{},{fileProgress:function(){return this.$store.state.user.fileProgress}}),methods:{checkAllSuccess:function(){var t=this;return Object.keys(this.listObj).every((function(e){return t.listObj[e].hasSuccess}))},httpRequestFn:function(t){var e=this,n=this.$loading({text:\"上传中..\"}),i=new FormData;i.append(\"file\",t.file),Object(u[\"a\"])(i).then((function(i){console.log(i),e.$emit(\"uploadSuc\",i),e.handleSuccess(i.data,t.file),e.checkAllSuccess()&&(n.close(),e.$message({showClose:!0,message:\"图片上传成功！点击确认插入文本编辑器\",type:\"success\"}))})).catch((function(){e.$message({showClose:!0,message:\"文件上传失败！\",type:\"warning\"}),n.close()}))},handleSubmit:function(){var t=this,e=Object.keys(this.listObj).map((function(e){return t.listObj[e]}));this.checkAllSuccess()?(console.log(e),this.$emit(\"successCBK\",e),this.listObj={},this.fileList=[],this.dialogVisible=!1):this.$message(\"请等待图片上传成功。如果出现网络问题，请刷新页面并重新上传！\")},handleSuccess:function(t,e){for(var n=e.uid,i=Object.keys(this.listObj),a=0,o=i.length;a<o;a++)if(this.listObj[i[a]].uid===n)return this.listObj[i[a]].url=t,void(this.listObj[i[a]].hasSuccess=!0)},handleRemove:function(t){var e=this.$refs.uploadImg.uploadFiles,n=e.findIndex((function(e){return e.uid===t.uid}));e.splice(n,1);var i=t.uid;delete this.listObj[i]},beforeUpload:function(t){var e=this,n=window.URL||window.webkitURL,i=t.uid;return this.listObj[i]={},new Promise((function(a,o){var r=new Image;r.src=n.createObjectURL(t),r.onload=function(){e.listObj[i]={hasSuccess:!1,uid:t.uid,width:this.width,height:this.height}},a(!0)}))}}},m=d,f=(n(\"8502\"),n(\"2877\")),p=Object(f[\"a\"])(m,o,r,!1,null,null,null),h=p.exports,b=[\"advlist anchor autolink autosave code codesample colorpicker colorpicker contextmenu directionality emoticons fullscreen hr image imagetools insertdatetime link lists media nonbreaking noneditable pagebreak paste preview print save searchreplace spellchecker tabfocus table template textcolor textpattern visualblocks visualchars wordcount\"],g=b,y=[\"searchreplace bold italic underline strikethrough alignleft aligncenter alignright outdent indent  blockquote undo redo removeformat subscript superscript code codesample\",\"hr bullist numlist link image charmap preview anchor pagebreak insertdatetime media table emoticons forecolor backcolor fullscreen\"],v=y,w=n(\"b85c\"),I=[];function _(){return window.tinymce}var k=function(t,e){var n=document.getElementById(t),i=e||function(){};if(!n){var a=document.createElement(\"script\");a.src=t,a.id=t,document.body.appendChild(a),I.push(i);var o=\"onload\"in a?r:l;o(a)}function r(e){e.onload=function(){this.onerror=this.onload=null;var t,n=Object(w[\"a\"])(I);try{for(n.s();!(t=n.n()).done;){var i=t.value;i(null,e)}}catch(a){n.e(a)}finally{n.f()}I=null},e.onerror=function(){this.onerror=this.onload=null,i(new Error(t+\"加载失败\"),e)}}function l(t){t.onreadystatechange=function(){if(\"complete\"===this.readyState||\"loaded\"===this.readyState){this.onreadystatechange=null;var e,n=Object(w[\"a\"])(I);try{for(n.s();!(e=n.n()).done;){var i=e.value;i(null,t)}}catch(a){n.e(a)}finally{n.f()}I=null}}}n&&i&&(_()?i(null,n):I.push(i))},S=k,j=\"https://snk-1305456087.cos.ap-guangzhou.myqcloud.com/js/tinymce%404.9.3.min.js\",O={name:\"Tinymce\",components:{editorImage:h},props:{id:{type:String,default:function(){return\"vue-tinymce-\"+ +new Date+(1e3*Math.random()).toFixed(0)}},value:{type:String,default:\"\"},toolbar:{type:Array,required:!1,default:function(){return[]}},menubar:{type:String,default:\"file edit insert view format table\"},height:{type:[Number,String],required:!1,default:360},width:{type:[Number,String],required:!1,default:\"auto\"}},data:function(){return{hasChange:!1,hasInit:!1,tinymceId:this.id,fullscreen:!1,languageTypeList:{en:\"en\",zh:\"zh_CN\",es:\"es_MX\",ja:\"ja\"}}},computed:{language:function(){return this.languageTypeList[\"zh\"]},containerWidth:function(){var t=this.width;return/^[\\d]+(\\.[\\d]+)?$/.test(t)?\"\".concat(t,\"px\"):t}},watch:{value:function(t){var e=this;!this.hasChange&&this.hasInit&&this.$nextTick((function(){return window.tinymce.get(e.tinymceId).setContent(t||\"\")}))},language:function(){var t=this;this.destroyTinymce(),this.$nextTick((function(){return t.initTinymce()}))}},mounted:function(){this.init()},activated:function(){window.tinymce&&this.initTinymce()},deactivated:function(){this.destroyTinymce()},destroyed:function(){this.destroyTinymce()},methods:{init:function(){var t=this;S(j,(function(e){e?t.$message.error(e.message):t.initTinymce()}))},initTinymce:function(){var t=this,e=this;window.tinymce.init({language:this.language,selector:\"#\".concat(this.tinymceId),height:this.height,body_class:\"panel-body \",object_resizing:!1,toolbar:this.toolbar.length>0?this.toolbar:v,menubar:this.menubar,plugins:g,end_container_on_empty_block:!0,powerpaste_word_import:\"clean\",code_dialog_height:450,code_dialog_width:1e3,advlist_bullet_styles:\"square\",advlist_number_styles:\"default\",imagetools_cors_hosts:[\"www.tinymce.com\",\"codepen.io\"],default_link_target:\"_blank\",link_title:!1,nonbreaking_force_tab:!0,init_instance_callback:function(n){e.value&&n.setContent(e.value),e.hasInit=!0,n.on(\"NodeChange Change KeyUp SetContent\",(function(){t.hasChange=!0,t.$emit(\"input\",n.getContent())}))},setup:function(t){t.on(\"FullscreenStateChanged\",(function(t){e.fullscreen=t.state}))},convert_urls:!1})},destroyTinymce:function(){var t=window.tinymce.get(this.tinymceId);this.fullscreen&&t.execCommand(\"mceFullScreen\"),t&&t.destroy()},setContent:function(t){window.tinymce.get(this.tinymceId).setContent(t)},getContent:function(){window.tinymce.get(this.tinymceId).getContent()},imageSuccessCBK:function(t){var e=this;t.forEach((function(t){window.tinymce.get(e.tinymceId).insertContent('<img class=\"wscnph\" src=\"'.concat(t.url,'\" >'))}))}}},C=O,x=(n(\"d075\"),Object(f[\"a\"])(C,i,a,!1,null,\"6957a58d\",null));e[\"a\"]=x.exports},8502:function(t,e,n){\"use strict\";n(\"1e35\")},d075:function(t,e,n){\"use strict\";n(\"f9eb\")},f9eb:function(t,e,n){}}]);","extractedComments":[]}