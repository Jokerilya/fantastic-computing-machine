{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-60654604\"],{\"07eb\":function(t,e,i){\"use strict\";i(\"d54e\")},\"1e35\":function(t,e,i){},8256:function(t,e,i){\"use strict\";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(\"div\",{staticClass:\"tinymce-container\",class:{fullscreen:t.fullscreen},style:{width:t.containerWidth}},[i(\"textarea\",{staticClass:\"tinymce-textarea\",attrs:{id:t.tinymceId}}),t._v(\" \"),i(\"div\",{staticClass:\"editor-custom-btn-container\"},[i(\"editorImage\",{staticClass:\"editor-upload-btn\",attrs:{color:\"#1890ff\"},on:{successCBK:t.imageSuccessCBK}})],1)])},s=[],o=(i(\"b680\"),i(\"a9e3\"),i(\"159b\"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(\"div\",{staticClass:\"upload-container\"},[i(\"el-button\",{style:{background:t.color,borderColor:t.color},attrs:{icon:\"el-icon-upload\",size:\"mini\",type:\"primary\"},on:{click:function(e){t.dialogVisible=!0}}},[t._v(\" 上传图片 \")]),i(\"el-dialog\",{attrs:{visible:t.dialogVisible,\"append-to-body\":!0},on:{\"update:visible\":function(e){t.dialogVisible=e}}},[i(\"el-upload\",{ref:\"uploadImg\",staticClass:\"editor-slide-upload\",attrs:{multiple:!0,\"file-list\":t.fileList,\"show-file-list\":!0,\"before-upload\":t.beforeUpload,action:t.qiniuHost,\"list-type\":\"picture-card\",\"http-request\":t.httpRequestFn},scopedSlots:t._u([{key:\"file\",fn:function(e){var n=e.file;return i(\"div\",{staticClass:\"show_img_box\"},[i(\"img\",{staticClass:\"el-upload-list__item-thumbnail\",attrs:{src:n.url,alt:\"\"}}),i(\"div\",{staticClass:\"progress\"},[parseInt(t.fileProgress[n.uid])>=100?i(\"span\",{staticClass:\"delete_icon\",on:{click:function(e){return t.handleRemove(n)}}},[i(\"i\",{staticClass:\"el-icon-delete\"})]):t._e(),parseInt(t.fileProgress[n.uid])<100?i(\"el-progress\",{staticStyle:{color:\"#FFFFFF\"},attrs:{type:\"circle\",percentage:parseInt(t.fileProgress[n.uid])}}):t._e()],1)])}}])},[i(\"i\",{staticClass:\"el-icon-plus\",attrs:{slot:\"default\"},slot:\"default\"})]),i(\"el-button\",{on:{click:function(e){t.dialogVisible=!1}}},[t._v(\" 取消 \")]),i(\"el-button\",{attrs:{type:\"primary\"},on:{click:t.handleSubmit}},[t._v(\" 确认 \")])],1)],1)}),a=[],r=i(\"5530\"),c=(i(\"b64b\"),i(\"d81d\"),i(\"c740\"),i(\"a434\"),i(\"d3b7\"),i(\"3ca3\"),i(\"ddb0\"),i(\"2b3d\"),i(\"cb5c\")),u=i(\"2f62\"),l=i(\"8593\"),d={name:\"EditorSlideUpload\",props:{color:{type:String,default:\"#1890ff\"}},data:function(){return{qiniuHost:c[\"qiniuHost\"],dialogVisible:!1,listObj:{},fileList:[]}},computed:Object(r[\"a\"])(Object(r[\"a\"])({},Object(u[\"c\"])([\"token\"])),{},{fileProgress:function(){return this.$store.state.user.fileProgress}}),methods:{checkAllSuccess:function(){var t=this;return Object.keys(this.listObj).every((function(e){return t.listObj[e].hasSuccess}))},httpRequestFn:function(t){var e=this,i=this.$loading({text:\"上传中..\"}),n=new FormData;n.append(\"file\",t.file),Object(l[\"a\"])(n).then((function(n){console.log(n),e.$emit(\"uploadSuc\",n),e.handleSuccess(n.data,t.file),e.checkAllSuccess()&&(i.close(),e.$message({showClose:!0,message:\"图片上传成功！点击确认插入文本编辑器\",type:\"success\"}))})).catch((function(){e.$message({showClose:!0,message:\"文件上传失败！\",type:\"warning\"}),i.close()}))},handleSubmit:function(){var t=this,e=Object.keys(this.listObj).map((function(e){return t.listObj[e]}));this.checkAllSuccess()?(console.log(e),this.$emit(\"successCBK\",e),this.listObj={},this.fileList=[],this.dialogVisible=!1):this.$message(\"请等待图片上传成功。如果出现网络问题，请刷新页面并重新上传！\")},handleSuccess:function(t,e){for(var i=e.uid,n=Object.keys(this.listObj),s=0,o=n.length;s<o;s++)if(this.listObj[n[s]].uid===i)return this.listObj[n[s]].url=t,void(this.listObj[n[s]].hasSuccess=!0)},handleRemove:function(t){var e=this.$refs.uploadImg.uploadFiles,i=e.findIndex((function(e){return e.uid===t.uid}));e.splice(i,1);var n=t.uid;delete this.listObj[n]},beforeUpload:function(t){var e=this,i=window.URL||window.webkitURL,n=t.uid;return this.listObj[n]={},new Promise((function(s,o){var a=new Image;a.src=i.createObjectURL(t),a.onload=function(){e.listObj[n]={hasSuccess:!1,uid:t.uid,width:this.width,height:this.height}},s(!0)}))}}},h=d,m=(i(\"8502\"),i(\"2877\")),f=Object(m[\"a\"])(h,o,a,!1,null,null,null),p=f.exports,g=[\"advlist anchor autolink autosave code codesample colorpicker colorpicker contextmenu directionality emoticons fullscreen hr image imagetools insertdatetime link lists media nonbreaking noneditable pagebreak paste preview print save searchreplace spellchecker tabfocus table template textcolor textpattern visualblocks visualchars wordcount\"],b=g,y=[\"searchreplace bold italic underline strikethrough alignleft aligncenter alignright outdent indent  blockquote undo redo removeformat subscript superscript code codesample\",\"hr bullist numlist link image charmap preview anchor pagebreak insertdatetime media table emoticons forecolor backcolor fullscreen\"],v=y,w=i(\"b85c\"),j=[];function _(){return window.tinymce}var C=function(t,e){var i=document.getElementById(t),n=e||function(){};if(!i){var s=document.createElement(\"script\");s.src=t,s.id=t,document.body.appendChild(s),j.push(n);var o=\"onload\"in s?a:r;o(s)}function a(e){e.onload=function(){this.onerror=this.onload=null;var t,i=Object(w[\"a\"])(j);try{for(i.s();!(t=i.n()).done;){var n=t.value;n(null,e)}}catch(s){i.e(s)}finally{i.f()}j=null},e.onerror=function(){this.onerror=this.onload=null,n(new Error(t+\"加载失败\"),e)}}function r(t){t.onreadystatechange=function(){if(\"complete\"===this.readyState||\"loaded\"===this.readyState){this.onreadystatechange=null;var e,i=Object(w[\"a\"])(j);try{for(i.s();!(e=i.n()).done;){var n=e.value;n(null,t)}}catch(s){i.e(s)}finally{i.f()}j=null}}}i&&n&&(_()?n(null,i):j.push(n))},O=C,k=\"https://snk-1305456087.cos.ap-guangzhou.myqcloud.com/js/tinymce%404.9.3.min.js\",S={name:\"Tinymce\",components:{editorImage:p},props:{id:{type:String,default:function(){return\"vue-tinymce-\"+ +new Date+(1e3*Math.random()).toFixed(0)}},value:{type:String,default:\"\"},toolbar:{type:Array,required:!1,default:function(){return[]}},menubar:{type:String,default:\"file edit insert view format table\"},height:{type:[Number,String],required:!1,default:360},width:{type:[Number,String],required:!1,default:\"auto\"}},data:function(){return{hasChange:!1,hasInit:!1,tinymceId:this.id,fullscreen:!1,languageTypeList:{en:\"en\",zh:\"zh_CN\",es:\"es_MX\",ja:\"ja\"}}},computed:{language:function(){return this.languageTypeList[\"zh\"]},containerWidth:function(){var t=this.width;return/^[\\d]+(\\.[\\d]+)?$/.test(t)?\"\".concat(t,\"px\"):t}},watch:{value:function(t){var e=this;!this.hasChange&&this.hasInit&&this.$nextTick((function(){return window.tinymce.get(e.tinymceId).setContent(t||\"\")}))},language:function(){var t=this;this.destroyTinymce(),this.$nextTick((function(){return t.initTinymce()}))}},mounted:function(){this.init()},activated:function(){window.tinymce&&this.initTinymce()},deactivated:function(){this.destroyTinymce()},destroyed:function(){this.destroyTinymce()},methods:{init:function(){var t=this;O(k,(function(e){e?t.$message.error(e.message):t.initTinymce()}))},initTinymce:function(){var t=this,e=this;window.tinymce.init({language:this.language,selector:\"#\".concat(this.tinymceId),height:this.height,body_class:\"panel-body \",object_resizing:!1,toolbar:this.toolbar.length>0?this.toolbar:v,menubar:this.menubar,plugins:b,end_container_on_empty_block:!0,powerpaste_word_import:\"clean\",code_dialog_height:450,code_dialog_width:1e3,advlist_bullet_styles:\"square\",advlist_number_styles:\"default\",imagetools_cors_hosts:[\"www.tinymce.com\",\"codepen.io\"],default_link_target:\"_blank\",link_title:!1,nonbreaking_force_tab:!0,init_instance_callback:function(i){e.value&&i.setContent(e.value),e.hasInit=!0,i.on(\"NodeChange Change KeyUp SetContent\",(function(){t.hasChange=!0,t.$emit(\"input\",i.getContent())}))},setup:function(t){t.on(\"FullscreenStateChanged\",(function(t){e.fullscreen=t.state}))},convert_urls:!1})},destroyTinymce:function(){var t=window.tinymce.get(this.tinymceId);this.fullscreen&&t.execCommand(\"mceFullScreen\"),t&&t.destroy()},setContent:function(t){window.tinymce.get(this.tinymceId).setContent(t)},getContent:function(){window.tinymce.get(this.tinymceId).getContent()},imageSuccessCBK:function(t){var e=this;t.forEach((function(t){window.tinymce.get(e.tinymceId).insertContent('<img class=\"wscnph\" src=\"'.concat(t.url,'\" >'))}))}}},x=S,I=(i(\"d075\"),Object(m[\"a\"])(x,n,s,!1,null,\"6957a58d\",null));e[\"a\"]=I.exports},8502:function(t,e,i){\"use strict\";i(\"1e35\")},\"923e\":function(t,e,i){\"use strict\";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(\"div\",{staticClass:\"prod_imgs\"},[t._l(t.imgs,(function(e,n){return i(\"div\",{key:n,staticClass:\"img\",class:{border_radius:t.radius},style:{width:t.width,height:t.height}},[i(\"div\",{staticClass:\"delete\",on:{click:function(e){return t.deleteImg(n)}}},[i(\"i\",{staticClass:\"el-icon-delete\"})]),e?i(\"el-image\",{style:{width:\"100%\",height:\"100%\"},attrs:{src:e,fit:\"cover\",\"preview-src-list\":t.imgs}}):t._e()],1)})),i(\"el-upload\",{staticClass:\"img\",class:{border_radius:t.radius},staticStyle:{float:\"left\"},style:{width:t.width,height:t.height},attrs:{action:\"\",\"show-file-list\":!1,\"http-request\":t.httpRequestFn,limit:t.max,\"file-list\":t.imgList,\"on-exceed\":t.exceedFn}},[i(\"div\",{staticClass:\"el_upload\",style:{width:t.width,height:t.height},attrs:{slot:\"trigger\"},slot:\"trigger\"},[i(\"i\",{staticClass:\"el-icon-plus\"})])])],2)},s=[],o=(i(\"a9e3\"),i(\"d81d\"),i(\"8593\")),a={props:{max:{type:Number,default:9},imgs:{type:Array,default:function(){return[]}},width:{type:String,default:\"80px\"},height:{type:String,default:\"80px\"},radius:{type:Boolean,default:!1}},data:function(){return{choseLength:0,imgList:[]}},watch:{imgs:function(t){this.imgList=t.map((function(t){return{name:\"\",url:t}}))}},methods:{exceedFn:function(){this.$message({showClose:!0,message:\"最多只能上传\".concat(this.max,\"张图片哦！\"),type:\"warning\"})},httpRequestFn:function(t){var e=this;if(console.log(this.imgs),this.imgs.length+1>this.max)this.$message({showClose:!0,message:\"最多只能上传\".concat(this.max,\"张图片哦！\"),type:\"warning\"});else{var i=this.$loading({text:\"上传中..\"}),n=new FormData;n.append(\"file\",t.file),Object(o[\"a\"])(n).then((function(t){e.$emit(\"uploadSuc\",t.data),e.$message({showClose:!0,message:\"图片上传成功！\",type:\"success\"}),i.close()})).catch((function(){e.$message({showClose:!0,message:\"文件上传失败！\",type:\"warning\"}),i.close()}))}},deleteImg:function(t){console.log(t),this.choseLength-=1,this.$emit(\"deleteImg\",t)}}},r=a,c=(i(\"07eb\"),i(\"2877\")),u=Object(c[\"a\"])(r,n,s,!1,null,null,null);e[\"a\"]=u.exports},a15b:function(t,e,i){\"use strict\";var n=i(\"23e7\"),s=i(\"e330\"),o=i(\"44ad\"),a=i(\"fc6a\"),r=i(\"a640\"),c=s([].join),u=o!=Object,l=r(\"join\",\",\");n({target:\"Array\",proto:!0,forced:u||!l},{join:function(t){return c(a(this),void 0===t?\",\":t)}})},c4c8:function(t,e,i){\"use strict\";i.d(e,\"l\",(function(){return s})),i.d(e,\"m\",(function(){return o})),i.d(e,\"e\",(function(){return a})),i.d(e,\"b\",(function(){return r})),i.d(e,\"n\",(function(){return c})),i.d(e,\"k\",(function(){return u})),i.d(e,\"c\",(function(){return l})),i.d(e,\"h\",(function(){return d})),i.d(e,\"f\",(function(){return h})),i.d(e,\"j\",(function(){return m})),i.d(e,\"p\",(function(){return f})),i.d(e,\"a\",(function(){return p})),i.d(e,\"o\",(function(){return g})),i.d(e,\"g\",(function(){return b})),i.d(e,\"d\",(function(){return y})),i.d(e,\"i\",(function(){return v}));var n=i(\"b775\");i(\"cb5c\");function s(t){return Object(n[\"a\"])({url:\"/admin/product/queryProductCategory\",method:\"get\",params:t})}function o(t){return Object(n[\"a\"])({url:\"/admin/product/queryProductFittingCategory\",method:\"get\",params:t})}function a(t){return Object(n[\"a\"])({url:\"/admin/product/editProductCategory\",method:\"post\",data:t})}function r(t){return Object(n[\"a\"])({url:\"/admin/product/delProductCategory\",method:\"get\",params:t})}function c(t){return Object(n[\"a\"])({url:\"/admin/product/queryProduct\",method:\"post\",data:t})}function u(t){return Object(n[\"a\"])({url:\"/admin/product/handleProductDropOff\",method:\"get\",params:t})}function l(t){return Object(n[\"a\"])({url:\"/admin/product/delProduct\",method:\"get\",params:t})}function d(t){return Object(n[\"a\"])({url:\"/admin/product/getProductDetail\",method:\"get\",params:t})}function h(t){return Object(n[\"a\"])({url:\"/admin/product/editProduct\",method:\"post\",data:t})}function m(t){return Object(n[\"a\"])({url:\"/admin/product/queryRecommendProduct\",method:\"get\",params:t})}function f(t){return Object(n[\"a\"])({url:\"/admin/product/updateRecommendProduct \",method:\"post\",data:t})}function p(t){return Object(n[\"a\"])({url:\"/admin/product/dataAcquisition\",method:\"post\",data:t})}function g(t){return Object(n[\"a\"])({url:\"/admin/supplier/querySupplierList\",method:\"post\",data:t})}function b(t){return Object(n[\"a\"])({url:\"/admin/supplier/editSupplier\",method:\"post\",data:t})}function y(t){return Object(n[\"a\"])({url:\"/admin/supplier/deleteSupplier\",method:\"get\",params:t})}function v(t){return Object(n[\"a\"])({url:\"/admin/supplier/getSupplier\",method:\"get\",params:t})}},d075:function(t,e,i){\"use strict\";i(\"f9eb\")},d54e:function(t,e,i){},f9eb:function(t,e,i){}}]);","extractedComments":[]}