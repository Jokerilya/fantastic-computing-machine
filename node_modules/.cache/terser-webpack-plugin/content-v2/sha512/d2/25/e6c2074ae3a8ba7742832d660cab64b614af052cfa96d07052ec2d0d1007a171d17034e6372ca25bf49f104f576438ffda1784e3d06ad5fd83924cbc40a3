{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-0008c734\"],{\"05d8\":function(t,e,n){},\"1e35\":function(t,e,n){},\"27bf\":function(t,e,n){\"use strict\";n.d(e,\"d\",(function(){return a})),n.d(e,\"g\",(function(){return o})),n.d(e,\"l\",(function(){return s})),n.d(e,\"e\",(function(){return r})),n.d(e,\"h\",(function(){return l})),n.d(e,\"m\",(function(){return c})),n.d(e,\"f\",(function(){return d})),n.d(e,\"i\",(function(){return u})),n.d(e,\"k\",(function(){return f})),n.d(e,\"j\",(function(){return m})),n.d(e,\"a\",(function(){return p})),n.d(e,\"b\",(function(){return h})),n.d(e,\"c\",(function(){return g}));var i=n(\"b775\");n(\"cb5c\");function a(t){return Object(i[\"a\"])({url:\"/admin/talentPool/editOfflineTraining\",method:\"post\",data:t})}function o(t){return Object(i[\"a\"])({url:\"/admin/talentPool/getOfflineTraining?id=\".concat(t),method:\"get\"})}function s(t){return Object(i[\"a\"])({url:\"/admin/talentPool/queryPartnerlList\",method:\"post\",data:t})}function r(t){return Object(i[\"a\"])({url:\"/admin/talentPool/editPartnerlInfo\",method:\"post\",data:t})}function l(t){return Object(i[\"a\"])({url:\"/admin/talentPool/getPartnerlInfo?id=\".concat(t),method:\"get\"})}function c(t){return Object(i[\"a\"])({url:\"/admin/talentPool/queryPersonnelList\",method:\"post\",data:t})}function d(t){return Object(i[\"a\"])({url:\"/admin/talentPool/editPersonnelInfo\",method:\"post\",data:t})}function u(t){return Object(i[\"a\"])({url:\"/admin/talentPool/getPersonnelInfo?id=\".concat(t),method:\"get\"})}function f(t){return Object(i[\"a\"])({url:\"/admin/talentPool/queryOfflineTrainingList\",method:\"post\",data:t})}function m(t){return Object(i[\"a\"])({url:\"/admin/talentPool/queryOfflineApply\",method:\"post\",data:t})}function p(t){return Object(i[\"a\"])({url:\"/admin/talentPool/deleteOfflineApply?id=\".concat(t),method:\"get\"})}function h(t){return Object(i[\"a\"])({url:\"/admin/talentPool/deletePartnerlInfo?id=\".concat(t),method:\"get\"})}function g(t){return Object(i[\"a\"])({url:\"/admin/talentPool/deletePersonnelInfo?id=\".concat(t),method:\"get\"})}},8256:function(t,e,n){\"use strict\";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticClass:\"tinymce-container\",class:{fullscreen:t.fullscreen},style:{width:t.containerWidth}},[n(\"textarea\",{staticClass:\"tinymce-textarea\",attrs:{id:t.tinymceId}}),t._v(\" \"),n(\"div\",{staticClass:\"editor-custom-btn-container\"},[n(\"editorImage\",{staticClass:\"editor-upload-btn\",attrs:{color:\"#1890ff\"},on:{successCBK:t.imageSuccessCBK}})],1)])},a=[],o=(n(\"b680\"),n(\"a9e3\"),n(\"159b\"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticClass:\"upload-container\"},[n(\"el-button\",{style:{background:t.color,borderColor:t.color},attrs:{icon:\"el-icon-upload\",size:\"mini\",type:\"primary\"},on:{click:function(e){t.dialogVisible=!0}}},[t._v(\" 上传图片 \")]),n(\"el-dialog\",{attrs:{visible:t.dialogVisible,\"append-to-body\":!0},on:{\"update:visible\":function(e){t.dialogVisible=e}}},[n(\"el-upload\",{ref:\"uploadImg\",staticClass:\"editor-slide-upload\",attrs:{multiple:!0,\"file-list\":t.fileList,\"show-file-list\":!0,\"before-upload\":t.beforeUpload,action:t.qiniuHost,\"list-type\":\"picture-card\",\"http-request\":t.httpRequestFn},scopedSlots:t._u([{key:\"file\",fn:function(e){var i=e.file;return n(\"div\",{staticClass:\"show_img_box\"},[n(\"img\",{staticClass:\"el-upload-list__item-thumbnail\",attrs:{src:i.url,alt:\"\"}}),n(\"div\",{staticClass:\"progress\"},[parseInt(t.fileProgress[i.uid])>=100?n(\"span\",{staticClass:\"delete_icon\",on:{click:function(e){return t.handleRemove(i)}}},[n(\"i\",{staticClass:\"el-icon-delete\"})]):t._e(),parseInt(t.fileProgress[i.uid])<100?n(\"el-progress\",{staticStyle:{color:\"#FFFFFF\"},attrs:{type:\"circle\",percentage:parseInt(t.fileProgress[i.uid])}}):t._e()],1)])}}])},[n(\"i\",{staticClass:\"el-icon-plus\",attrs:{slot:\"default\"},slot:\"default\"})]),n(\"el-button\",{on:{click:function(e){t.dialogVisible=!1}}},[t._v(\" 取消 \")]),n(\"el-button\",{attrs:{type:\"primary\"},on:{click:t.handleSubmit}},[t._v(\" 确认 \")])],1)],1)}),s=[],r=n(\"5530\"),l=(n(\"b64b\"),n(\"d81d\"),n(\"c740\"),n(\"a434\"),n(\"d3b7\"),n(\"3ca3\"),n(\"ddb0\"),n(\"2b3d\"),n(\"cb5c\")),c=n(\"2f62\"),d=n(\"8593\"),u={name:\"EditorSlideUpload\",props:{color:{type:String,default:\"#1890ff\"}},data:function(){return{qiniuHost:l[\"qiniuHost\"],dialogVisible:!1,listObj:{},fileList:[]}},computed:Object(r[\"a\"])(Object(r[\"a\"])({},Object(c[\"c\"])([\"token\"])),{},{fileProgress:function(){return this.$store.state.user.fileProgress}}),methods:{checkAllSuccess:function(){var t=this;return Object.keys(this.listObj).every((function(e){return t.listObj[e].hasSuccess}))},httpRequestFn:function(t){var e=this,n=this.$loading({text:\"上传中..\"}),i=new FormData;i.append(\"file\",t.file),Object(d[\"a\"])(i).then((function(i){console.log(i),e.$emit(\"uploadSuc\",i),e.handleSuccess(i.data,t.file),e.checkAllSuccess()&&(n.close(),e.$message({showClose:!0,message:\"图片上传成功！点击确认插入文本编辑器\",type:\"success\"}))})).catch((function(){e.$message({showClose:!0,message:\"文件上传失败！\",type:\"warning\"}),n.close()}))},handleSubmit:function(){var t=this,e=Object.keys(this.listObj).map((function(e){return t.listObj[e]}));this.checkAllSuccess()?(console.log(e),this.$emit(\"successCBK\",e),this.listObj={},this.fileList=[],this.dialogVisible=!1):this.$message(\"请等待图片上传成功。如果出现网络问题，请刷新页面并重新上传！\")},handleSuccess:function(t,e){for(var n=e.uid,i=Object.keys(this.listObj),a=0,o=i.length;a<o;a++)if(this.listObj[i[a]].uid===n)return this.listObj[i[a]].url=t,void(this.listObj[i[a]].hasSuccess=!0)},handleRemove:function(t){var e=this.$refs.uploadImg.uploadFiles,n=e.findIndex((function(e){return e.uid===t.uid}));e.splice(n,1);var i=t.uid;delete this.listObj[i]},beforeUpload:function(t){var e=this,n=window.URL||window.webkitURL,i=t.uid;return this.listObj[i]={},new Promise((function(a,o){var s=new Image;s.src=n.createObjectURL(t),s.onload=function(){e.listObj[i]={hasSuccess:!1,uid:t.uid,width:this.width,height:this.height}},a(!0)}))}}},f=u,m=(n(\"8502\"),n(\"2877\")),p=Object(m[\"a\"])(f,o,s,!1,null,null,null),h=p.exports,g=[\"advlist anchor autolink autosave code codesample colorpicker colorpicker contextmenu directionality emoticons fullscreen hr image imagetools insertdatetime link lists media nonbreaking noneditable pagebreak paste preview print save searchreplace spellchecker tabfocus table template textcolor textpattern visualblocks visualchars wordcount\"],b=g,y=[\"searchreplace bold italic underline strikethrough alignleft aligncenter alignright outdent indent  blockquote undo redo removeformat subscript superscript code codesample\",\"hr bullist numlist link image charmap preview anchor pagebreak insertdatetime media table emoticons forecolor backcolor fullscreen\"],v=y,w=n(\"b85c\"),k=[];function _(){return window.tinymce}var O=function(t,e){var n=document.getElementById(t),i=e||function(){};if(!n){var a=document.createElement(\"script\");a.src=t,a.id=t,document.body.appendChild(a),k.push(i);var o=\"onload\"in a?s:r;o(a)}function s(e){e.onload=function(){this.onerror=this.onload=null;var t,n=Object(w[\"a\"])(k);try{for(n.s();!(t=n.n()).done;){var i=t.value;i(null,e)}}catch(a){n.e(a)}finally{n.f()}k=null},e.onerror=function(){this.onerror=this.onload=null,i(new Error(t+\"加载失败\"),e)}}function r(t){t.onreadystatechange=function(){if(\"complete\"===this.readyState||\"loaded\"===this.readyState){this.onreadystatechange=null;var e,n=Object(w[\"a\"])(k);try{for(n.s();!(e=n.n()).done;){var i=e.value;i(null,t)}}catch(a){n.e(a)}finally{n.f()}k=null}}}n&&i&&(_()?i(null,n):k.push(i))},j=O,C=\"https://snk-1305456087.cos.ap-guangzhou.myqcloud.com/js/tinymce%404.9.3.min.js\",I={name:\"Tinymce\",components:{editorImage:h},props:{id:{type:String,default:function(){return\"vue-tinymce-\"+ +new Date+(1e3*Math.random()).toFixed(0)}},value:{type:String,default:\"\"},toolbar:{type:Array,required:!1,default:function(){return[]}},menubar:{type:String,default:\"file edit insert view format table\"},height:{type:[Number,String],required:!1,default:360},width:{type:[Number,String],required:!1,default:\"auto\"}},data:function(){return{hasChange:!1,hasInit:!1,tinymceId:this.id,fullscreen:!1,languageTypeList:{en:\"en\",zh:\"zh_CN\",es:\"es_MX\",ja:\"ja\"}}},computed:{language:function(){return this.languageTypeList[\"zh\"]},containerWidth:function(){var t=this.width;return/^[\\d]+(\\.[\\d]+)?$/.test(t)?\"\".concat(t,\"px\"):t}},watch:{value:function(t){var e=this;!this.hasChange&&this.hasInit&&this.$nextTick((function(){return window.tinymce.get(e.tinymceId).setContent(t||\"\")}))},language:function(){var t=this;this.destroyTinymce(),this.$nextTick((function(){return t.initTinymce()}))}},mounted:function(){this.init()},activated:function(){window.tinymce&&this.initTinymce()},deactivated:function(){this.destroyTinymce()},destroyed:function(){this.destroyTinymce()},methods:{init:function(){var t=this;j(C,(function(e){e?t.$message.error(e.message):t.initTinymce()}))},initTinymce:function(){var t=this,e=this;window.tinymce.init({language:this.language,selector:\"#\".concat(this.tinymceId),height:this.height,body_class:\"panel-body \",object_resizing:!1,toolbar:this.toolbar.length>0?this.toolbar:v,menubar:this.menubar,plugins:b,end_container_on_empty_block:!0,powerpaste_word_import:\"clean\",code_dialog_height:450,code_dialog_width:1e3,advlist_bullet_styles:\"square\",advlist_number_styles:\"default\",imagetools_cors_hosts:[\"www.tinymce.com\",\"codepen.io\"],default_link_target:\"_blank\",link_title:!1,nonbreaking_force_tab:!0,init_instance_callback:function(n){e.value&&n.setContent(e.value),e.hasInit=!0,n.on(\"NodeChange Change KeyUp SetContent\",(function(){t.hasChange=!0,t.$emit(\"input\",n.getContent())}))},setup:function(t){t.on(\"FullscreenStateChanged\",(function(t){e.fullscreen=t.state}))},convert_urls:!1})},destroyTinymce:function(){var t=window.tinymce.get(this.tinymceId);this.fullscreen&&t.execCommand(\"mceFullScreen\"),t&&t.destroy()},setContent:function(t){window.tinymce.get(this.tinymceId).setContent(t)},getContent:function(){window.tinymce.get(this.tinymceId).getContent()},imageSuccessCBK:function(t){var e=this;t.forEach((function(t){window.tinymce.get(e.tinymceId).insertContent('<img class=\"wscnph\" src=\"'.concat(t.url,'\" >'))}))}}},S=I,x=(n(\"d075\"),Object(m[\"a\"])(S,i,a,!1,null,\"6957a58d\",null));e[\"a\"]=x.exports},8502:function(t,e,n){\"use strict\";n(\"1e35\")},bf67:function(t,e,n){},d075:function(t,e,n){\"use strict\";n(\"f9eb\")},d862:function(t,e,n){\"use strict\";n(\"05d8\")},dbfe:function(t,e,n){\"use strict\";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticClass:\"content_box\"},[n(\"first-title\",{attrs:{title:0===t.offlineId?\"新增培训\":\"编辑培训\"}}),n(\"div\",{staticClass:\"bg-white\",staticStyle:{padding:\"50px 20px\"}},[n(\"el-form\",{ref:\"form\",attrs:{rules:t.rules,\"label-width\":\"130px\",model:t.formdata}},[n(\"el-form-item\",{attrs:{label:\"标题：\",prop:\"title\"}},[n(\"el-input\",{staticStyle:{width:\"250px\"},attrs:{placeholder:\"请输入标题\"},model:{value:t.formdata.title,callback:function(e){t.$set(t.formdata,\"title\",e)},expression:\"formdata.title\"}})],1),n(\"el-form-item\",{staticClass:\"float_item\",staticStyle:{height:\"auto\"},attrs:{label:\"封面图:\",prop:\"coverImage\"}},[n(\"upload-img\",{attrs:{width:\"80px\",height:\"80px\",img:t.formdata.coverImage},on:{uploadSuc:t.uploadSucFn}})],1),n(\"el-form-item\",{attrs:{label:\"电话：\",prop:\"phone\"}},[n(\"el-input\",{staticStyle:{width:\"250px\"},attrs:{placeholder:\"请输入电话\"},model:{value:t.formdata.phone,callback:function(e){t.$set(t.formdata,\"phone\",e)},expression:\"formdata.phone\"}})],1),n(\"el-form-item\",{attrs:{label:\"邮箱：\",prop:\"email\"}},[n(\"el-input\",{staticStyle:{width:\"250px\"},attrs:{placeholder:\"请输入邮箱\"},model:{value:t.formdata.email,callback:function(e){t.$set(t.formdata,\"email\",e)},expression:\"formdata.email\"}})],1),n(\"el-form-item\",{attrs:{label:\"地理位置：\",prop:\"address\"}},[n(\"el-input\",{staticClass:\"inputcursor\",staticStyle:{width:\"350px\"},attrs:{readonly:\"\",placeholder:\"点击打开地图选择地理位置\"},nativeOn:{click:function(e){t.openmapdialog=!0}},model:{value:t.formdata.address,callback:function(e){t.$set(t.formdata,\"address\",e)},expression:\"formdata.address\"}})],1),n(\"el-form-item\",{staticStyle:{clear:\"both\"},attrs:{label:\"线下培训描述：\",prop:\"content\"}},[n(\"tinymce\",{ref:\"ppp\",attrs:{width:650,id:\"offline_\"+t.offlineId,height:400},model:{value:t.formdata.content,callback:function(e){t.$set(t.formdata,\"content\",e)},expression:\"formdata.content\"}})],1),n(\"el-form-item\",{attrs:{label:\"\"}},[n(\"el-button\",{staticClass:\"mr10\",attrs:{type:\"primary\",plain:\"\"},on:{click:function(e){return t.$router.push({name:\"offlinetrainingList\"})}}},[t._v(\"取消\")]),n(\"el-button\",{attrs:{type:\"primary\",disabled:t.submitIng},on:{click:t.submit}},[t._v(t._s(t.submitIng?\"提交中...\":\"确认提交\"))]),n(\"span\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.submitIng,expression:\"submitIng\"}],staticStyle:{\"margin-left\":\"15px\",color:\"#f56c6c\"}},[t._v(\"提交中,请勿重复点击!\")])],1)],1)],1),n(\"gdmap\",{attrs:{openmapdialog:t.openmapdialog},on:{getaddress:t.getaddress,close:function(e){t.openmapdialog=!1}}})],1)},a=[],o=n(\"5530\"),s=(n(\"a9e3\"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",[n(\"el-dialog\",{attrs:{title:\"搜索或在地图上点击均可获取地理位置，记得点击确定哦！\",visible:t.dialogVisible,width:\"600px\"},on:{\"update:visible\":function(e){t.dialogVisible=e},close:function(e){return t.$emit(\"close\")}}},[n(\"div\",{staticClass:\"amap-page-container\",staticStyle:{width:\"100%\",height:\"500px\"}},[n(\"el-amap-search-box\",{staticClass:\"search-box\",attrs:{\"search-option\":t.searchOption,\"on-search-result\":t.onSearchResult}}),n(\"el-amap\",{ref:\"map\",staticClass:\"amap-demo\",attrs:{vid:\"amapDemo\",\"amap-manager\":t.amapManager,center:t.center,zoom:t.zoom,plugin:t.plugin,events:t.events}})],1),n(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[n(\"el-button\",{on:{click:function(e){return t.$emit(\"close\")}}},[t._v(\"取 消\")]),n(\"el-button\",{attrs:{type:\"primary\"},on:{click:t.returnaddress}},[t._v(\"确 定\")])],1)])],1)}),r=[],l=n(\"ade3\"),c=(n(\"b0c0\"),n(\"8f9b\")),d=new c[\"AMapManager\"],u={props:{openmapdialog:{type:Boolean,default:!1}},data:function(){var t=this;return Object(l[\"a\"])({dialogVisible:!1,searchOption:{city:\"\",citylimit:!1},lng:\"\",lat:\"\",address:\"\",marker:\"\",amapManager:d,zoom:12,center:[113.751884,23.021016],events:{init:function(t){t.getCity((function(t){}));var e=document.getElementsByClassName(\"search-box-wrapper\")[0];e.firstChild.setAttribute(\"placeholder\",\"在这里输入要搜索的地址哦\")},moveend:function(){},zoomchange:function(){},click:function(e){t.lng=e.lnglat.lng,t.lat=e.lnglat.lat,t.center=[t.lng,t.lat];var n=d.getMap();t.marker||(t.marker=new AMap.Marker({position:e.lnglat}),t.marker.setMap(n)),t.marker.setPosition(e.lnglat);var i=new AMap.Geocoder({});i.getAddress(e.lnglat,(function(e,n){\"complete\"===e&&n.regeocode?t.address=n.regeocode.formattedAddress:log.error(\"根据经纬度查询地址失败\")}))}},plugin:[\"ToolBar\",{pName:\"MapType\",defaultType:0,events:{init:function(t){}}}]},\"plugin\",[{pName:\"Geolocation\",events:{init:function(e){e.getCurrentPosition((function(e,n){if(n&&n.position){t.lng=n.position.lng,t.lat=n.position.lat,t.address=n.formattedAddress,t.center=[t.lng,t.lat];var i=d.getMap();t.marker||(t.marker=new AMap.Marker({position:t.center}),t.marker.setMap(i)),t.marker.setPosition(t.center)}}))}}}])},methods:{onSearchResult:function(t){if(t.length>0){var e=t[0],n=e.lng,i=e.lat,a=(e.name,e.location),o=[n,i];this.lng=n,this.lat=i,this.center=[n,i];var s=d.getMap();this.marker||(this.marker=new AMap.Marker({position:o}),this.marker.setMap(s)),this.marker.setPosition(o);var r=new AMap.Geocoder({}),l=this;r.getAddress(a,(function(t,e){console.log(t,e),\"complete\"===t&&e.regeocode?l.address=e.regeocode.formattedAddress:console.log(\"根据经纬度查询地址失败\")}))}},returnaddress:function(){var t=this;t.$emit(\"getaddress\",{address:t.address,lat:t.lat,lng:t.lng}),setTimeout((function(){t.$emit(\"close\")}),200)}},watch:{openmapdialog:function(t){this.dialogVisible=t}}},f=u,m=(n(\"d862\"),n(\"2877\")),p=Object(m[\"a\"])(f,s,r,!1,null,\"60d1e6bb\",null),h=p.exports,g=n(\"27bf\"),b=n(\"1d6e\"),y=n(\"8256\"),v={name:\"\",components:{Tinymce:y[\"a\"],uploadImg:b[\"a\"],gdmap:h},props:{},data:function(){return{openmapdialog:!1,offlineId:\"\",submitIng:!1,formdata:{address:\"\",content:\"\",coverImage:\"\",email:\"\",latitude:\"\",longitude:\"\",phone:\"\",title:\"\"},rules:{}}},mounted:function(){var t=this.$route.query.offlineId;this.offlineId=Number(t),0!==Number(t)&&this.getofflineDetail()},created:function(){},activated:function(){},watch:{},methods:{submit:function(){var t=this,e=Object(o[\"a\"])({},this.formdata);delete e.delFlag,e.id=this.offlineId,this.submitIng=!0,Object(g[\"d\"])(e).then((function(e){setTimeout((function(){t.submitIng=!1}),1e3),\"000\"==e.code&&(t.$message({showClose:!0,message:0===t.offlineId?\"新增成功！\":\"编辑成功！\",type:\"success\"}),t.$router.go(-1))})).catch((function(){setTimeout((function(){t.submitIng=!1}),1e3)}))},getofflineDetail:function(){var t=this;0!=this.offlineId&&Object(g[\"g\"])(this.offlineId).then((function(e){var n=t.resDataFn(e);t.formdata=Object.assign(t.formdata,n)}))},uploadSucFn:function(t){this.formdata.coverImage=t},getaddress:function(t){this.formdata.address=t.address,this.formdata.latitude=t.lat,this.formdata.longitude=t.lng}}},w=v,k=(n(\"dd7e0\"),Object(m[\"a\"])(w,i,a,!1,null,null,null));e[\"default\"]=k.exports},dd7e0:function(t,e,n){\"use strict\";n(\"bf67\")},f9eb:function(t,e,n){}}]);","extractedComments":[]}