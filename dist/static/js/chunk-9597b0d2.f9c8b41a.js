(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9597b0d2"],{"7fb4":function(e,t,a){"use strict";a("e79e")},c3ed:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"manage-top"},[a("el-form",{ref:"ruleForm",staticClass:"rule-form",attrs:{model:e.queryData,"label-width":"88px","label-position":"right"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"订单类型"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.queryData.orderType,callback:function(t){e.$set(e.queryData,"orderType",t)},expression:"queryData.orderType"}},e._l(e.orderTypeOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"订单状态"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.queryData.status,callback:function(t){e.$set(e.queryData,"status",t)},expression:"queryData.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"提交时间"}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.queryData.queryTime,callback:function(t){e.$set(e.queryData,"queryTime",t)},expression:"queryData.queryTime"}})],1)],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-form-item",[a("el-col",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.getDataListFn}},[e._v("查询")]),a("el-button",{attrs:{type:"danger"},on:{click:e.resSetQueryFn}},[e._v("重置")])],1)],1)],1)],1)],1),a("div",{staticStyle:{height:"16px"}}),a("div",{staticClass:"manage-table"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.dataConfig.loading,expression:"dataConfig.loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.dataList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{label:"退款订单编号",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.refundCode)+" ")]}}])}),a("el-table-column",{attrs:{prop:"nickName",label:"用户昵称",width:"160",align:"center"}}),a("el-table-column",{attrs:{label:"订单类型",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.orderType?a("span",{staticStyle:{color:"#409EFF"}},[e._v("星选")]):e._e(),2===t.row.orderType?a("span",{staticStyle:{color:"#67C23A"}},[e._v("拼团")]):e._e(),3===t.row.orderType?a("span",{staticStyle:{color:"chocolate"}},[e._v("装机")]):e._e()]}}])}),a("el-table-column",{attrs:{label:"商品名称",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.title))])]}}])}),a("el-table-column",{attrs:{label:"商品规格",width:"150",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.skuName))])]}}])}),a("el-table-column",{attrs:{prop:"refundMoney",label:"退款金额",width:"140",align:"center"}}),a("el-table-column",{attrs:{label:"退款状态",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.status?a("el-tag",{attrs:{type:"info"}},[e._v("已取消")]):e._e(),1===t.row.status?a("el-tag",[e._v("待审核")]):e._e(),2===t.row.status?a("el-tag",{attrs:{type:"success"}},[e._v("审核通过")]):e._e(),3===t.row.status?a("el-tag",{attrs:{type:"danger"}},[e._v("审核失败")]):e._e()]}}])}),a("el-table-column",{attrs:{label:"提交时间",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.createTime))])]}}])}),a("el-table-column",{attrs:{label:"退款原因",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.refundReason))])]}}])}),a("el-table-column",{attrs:{label:"处理时间",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.examineTime))])]}}])}),a("el-table-column",{attrs:{label:"操作",width:"150",align:"center",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"infor"},on:{click:function(a){return e.detailFn(t.row.id)}}},[e._v("查看详情")]),1===t.row.status?a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.refundCheckHandle(t.row.id)}}},[e._v("退款审核")]):e._e()]}}])})],1)],1),a("div",{staticStyle:{height:"16px"}}),a("div",{directives:[{name:"show",rawName:"v-show",value:e.dataList.length>0,expression:"dataList.length > 0"}],staticClass:"table-block"},[a("el-pagination",{attrs:{background:"","current-page":e.dataConfig.pageNo,"page-size":e.dataConfig.pageSize,"page-sizes":[20,30,50,100],layout:"total,sizes, prev, pager, next",total:e.dataConfig.total},on:{"size-change":e.handleSizeChange,"current-change":e.currentChangeFn,"update:currentPage":function(t){return e.$set(e.dataConfig,"pageNo",t)},"update:current-page":function(t){return e.$set(e.dataConfig,"pageNo",t)}}})],1),a("el-dialog",{attrs:{title:"订单详情",visible:e.dialogVisible,width:"1050px","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticClass:"order-detail-step"},[a("el-steps",{attrs:{active:e.step,"process-status":"finish","align-center":""}},[a("el-step",{attrs:{title:"提交订单",description:e.details.createTime}}),a("el-step",{attrs:{title:"支付订单",description:e.details.payTime}}),a("el-step",{attrs:{title:"平台发货",description:e.details.shipTime}}),a("el-step",{attrs:{title:"确认收货",description:e.details.confirmTime}})],1)],1),a("div",{staticStyle:{height:"20px"}}),a("div",{staticClass:"order-status"},[a("div",{staticClass:"order-status-left"},[e._v(" 订单状态： "),-1===e.details.status?a("span",[e._v("已取消")]):e._e(),-10===e.details.status?a("span",[e._v("已退款")]):e._e(),0===e.details.status?a("span",[e._v("待支付")]):e._e(),5===e.details.status?a("span",[e._v("待发货")]):e._e(),10===e.details.status?a("span",[e._v("已发货")]):e._e(),20===e.details.status?a("span",[e._v("已完成")]):e._e()]),a("div",{staticClass:"order-status-right"},[a("el-button",{attrs:{type:"primary",size:"medium"}},[e._v("修改收货人信息")]),a("el-button",{attrs:{type:"primary",size:"medium"}},[e._v("修改收费信息")]),a("el-button",{attrs:{type:"danger",size:"medium"}},[e._v("关闭订单")])],1)]),a("div",{staticClass:"order-info"},[a("div",{staticClass:"order-info-title"},[a("span",[e._v("基本信息")])]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.orderInfo,border:"",size:"mini","header-cell-style":{background:"#eee",color:"#454545"}}},[a("el-table-column",{attrs:{prop:"orderSn",label:"订单编号",width:"180",align:"center"}}),a("el-table-column",{attrs:{prop:"phone",label:"手机号",width:"180",align:"center"}}),a("el-table-column",{attrs:{label:"订单类型",width:"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.orderType?a("span",[e._v("星选")]):e._e(),2===t.row.orderType?a("span",[e._v("拼团")]):e._e(),3===t.row.orderType?a("span",[e._v("装机")]):e._e()]}}])}),a("el-table-column",{attrs:{label:"订单状态",width:"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[-1===t.row.status?a("span",[e._v("已取消")]):e._e(),-10===t.row.status?a("span",[e._v("已退款")]):e._e(),0===t.row.status?a("span",[e._v("待支付")]):e._e(),5===t.row.status?a("span",[e._v("待发货")]):e._e(),10===t.row.status?a("span",[e._v("已发货")]):e._e(),20===t.row.status?a("span",[e._v("已完成")]):e._e()]}}])}),a("el-table-column",{attrs:{label:"配送方式",width:"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.details.expNo?a("span",[e._v("物流配送")]):a("span",[e._v("未发货")])]}}])}),a("el-table-column",{attrs:{prop:"date",label:"物流单号",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.details.expNo?a("span",[e._v("物流配送")]):a("span",[e._v("未发货")])]}}])})],1),a("div",{staticClass:"order-info-title"},[a("span",[e._v("收货人信息")])]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.expDetail,border:"",size:"mini","header-cell-style":{background:"#eee",color:"#454545"}}},[a("el-table-column",{attrs:{prop:"receiver",label:"收货人",align:"center"}}),a("el-table-column",{attrs:{prop:"phone",label:"手机号",align:"center"}}),a("el-table-column",{attrs:{prop:"addressDetail",label:"收货地址",align:"center"}})],1),a("div",{staticClass:"order-info-title"},[a("span",[e._v("11商品信息")])]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.details.list,border:"",size:"mini","header-cell-style":{background:"#eee",color:"#454545"}}},[a("el-table-column",{attrs:{prop:"productName",label:"商品",align:"center"}}),a("el-table-column",{attrs:{prop:"skuName",label:"规格",align:"center"}}),a("el-table-column",{attrs:{prop:"quantity",label:"数量",align:"center"}}),a("el-table-column",{attrs:{prop:"price",label:"小计",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v("￥"+e._s(t.row.price))])]}}])})],1),a("div",{staticStyle:{display:"flex","justify-content":"flex-end",padding:"8px 0"}},[a("span",{staticStyle:{flex:"0 0 25%","text-align":"center"}},[e._v("合计："),a("span",{staticStyle:{color:"red"}},[e._v("￥"+e._s(e.priceSum.toFixed(2)||0))])])]),a("div",{staticClass:"order-info-title"},[a("span",[e._v("费用信息")])]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.costInfo,border:"",size:"mini","header-cell-style":{background:"#eee",color:"#454545"}}},[a("el-table-column",{attrs:{prop:"priceSum",label:"商品合计",align:"center"}}),a("el-table-column",{attrs:{prop:"expMoney",label:"运费",align:"center"}}),a("el-table-column",{attrs:{prop:"coupon",label:"优惠券",align:"center"}}),a("el-table-column",{attrs:{prop:"totalAmount",label:"应付金额",align:"center"}})],1)],1)]),a("el-dialog",{attrs:{title:"退款审核",visible:e.refundCheckVisible,width:"600px"},on:{"update:visible":function(t){e.refundCheckVisible=t}}},[a("el-form",{attrs:{"label-width":"90px"}},[a("el-form-item",{attrs:{label:"审核选项"}},[a("el-radio-group",{model:{value:e.refundCheckIndex,callback:function(t){e.refundCheckIndex=t},expression:"refundCheckIndex"}},e._l(e.refundCheckOptions,(function(t){return a("el-radio",{key:t.id,attrs:{label:t.id}},[e._v(e._s(t.value))])})),1)],1),a("el-form-item",{attrs:{label:"审核原因"}},[a("el-input",{attrs:{placeholder:"请填写审核原因",type:"textarea",rows:3,resize:"none"},model:{value:e.refundCheckReason,callback:function(t){e.refundCheckReason=t},expression:"refundCheckReason"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.refundCheckVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.refundCheckConfirm}},[e._v("确 定")])],1)],1)],1)},r=[],l=a("2909"),s=a("1da1"),i=(a("96cf"),a("a434"),a("99af"),a("159b"),a("f8b7")),o={data:function(){return{dataList:[],handleSelectionList:[],dataConfig:{pageNo:1,pageSize:20,total:0,loading:!0},queryData:{orderType:"",status:"",queryTime:"",orderSn:"",phone:"",userName:""},orderTypeOptions:[{id:1,name:"装机"},{id:2,name:"拼团"},{id:3,name:"星选"}],statusOptions:[{id:-1,name:"已取消"},{id:-10,name:"已退款"},{id:0,name:"待支付"},{id:5,name:"待发货"},{id:10,name:"已发货"},{id:20,name:"交易完成"}],dialogVisible:!1,step:0,details:{},orderInfo:[],expDetail:[],costInfo:[],priceSum:0,refundCheckVisible:!1,refundCheckId:"",refundCheckOptions:[{value:"同意",id:2},{value:"拒绝",id:3}],refundCheckIndex:2,refundCheckReason:""}},created:function(){this.getDataListFn()},methods:{handleSelectionChange:function(e){this.handleSelectionList=e},getDataListFn:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.dataConfig.loading=!0,t.next=3,Object(i["Hb"])({pageNo:e.dataConfig.pageNo,pageSize:e.dataConfig.pageSize,phone:e.queryData.phone||void 0,status:e.queryData.status,orderSn:e.queryData.orderSn||void 0,orderType:e.queryData.orderType||void 0,queryTime:0===e.queryData.queryTime.length?"":e.queryData.queryTime[0]+"/"+e.queryData.queryTime[1]});case 3:n=t.sent,r=e.resDataFn(n),e.dataConfig.total=r.total,(a=e.dataList).splice.apply(a,[0,e.dataList.length].concat(Object(l["a"])(r.records)));case 7:case"end":return t.stop()}}),t)})))()},handleSizeChange:function(e){this.dataConfig.pageSize=e,this.getDataListFn()},currentChangeFn:function(e){this.dataConfig.pageNo=e,this.getDataListFn()},queryDataFn:function(){this.dataConfig.pageNo=1,this.dataConfig.pageSize=20,this.getDataListFn()},resSetQueryFn:function(){this.dataConfig.pageNo=1,this.dataConfig.pageSize=20,this.queryData={deliveryType:"",status:"",queryTime:"",orderSn:"",phone:"",userName:""},this.getDataListFn()},refundCheckHandle:function(e){this.refundCheckId=e,this.refundCheckVisible=!0},refundCheckConfirm:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.refundCheckReason){t.next=3;break}return e.$message.error("请输入审核原因"),t.abrupt("return");case 3:return t.next=5,Object(i["X"])({id:e.refundCheckId,remark:e.refundCheckReason,status:e.refundCheckIndex});case 5:a=t.sent,"000"===a.code&&(e.refundCheckVisible=!1,e.$message({message:"操作成功！",type:"success"}),e.getDataListFn()),"001"===a.code&&(e.refundCheckVisible=!1);case 8:case"end":return t.stop()}}),t)})))()},detailFn:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.step=0,t.orderInfo=[],t.expDetail=[],t.priceSum=0,t.costInfo=[],a.next=7,Object(i["H"])({orderId:0,returnOrderId:e});case 7:n=a.sent,"000"===n.code&&(t.dialogVisible=!0,t.details=n.data,t.details.payTime&&(t.step=1),t.details.shipTime&&(t.step=2),t.details.confirmTime&&(t.step=3),t.orderInfo.push({orderSn:t.details.orderSn,phone:t.details.phone,orderType:t.details.orderType,status:t.details.status,expNo:t.details.expNo}),t.expDetail.push({receiver:t.details.expDetail.receiver,phone:t.details.expDetail.phone,addressDetail:t.details.expDetail.addressDetail}),0,0,t.details.list.forEach((function(e){t.priceSum+=e.price*e.quantity})),t.costInfo.push({priceSum:t.priceSum,expMoney:0,coupon:0,totalAmount:t.details.totalAmount}));case 9:case"end":return a.stop()}}),a)})))()}}},c=o,d=(a("7fb4"),a("2877")),u=Object(d["a"])(c,n,r,!1,null,null,null);t["default"]=u.exports},e79e:function(e,t,a){}}]);