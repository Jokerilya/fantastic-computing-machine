(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0ebfad04"],{"3ca9":function(e,s,t){"use strict";t.r(s);var o=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"logisticsDetails"},[t("div",{staticClass:"topOperate"},[t("el-button",{on:{click:e.openSynchronousDialog}},[e._v("同步物流信息")])],1),t("div",{staticClass:"logisticsDetails_steps"},[1==e.model?t("el-card",{staticStyle:{flex:"1","margin-right":"10px"}},[t("div",{staticClass:"logisticsDetails_steps_right"},[t("div",{staticClass:"logisticsDetails_steps_title"},[e._v(" 客户 "),t("span",{staticStyle:{"font-weight":"400",margin:"10px"}},[e._v("——")]),e._v(" 供应商 ")]),e.collectLogistics&&e.collectLogistics.expVo&&e.collectLogistics.expVo.expNo?t("div",{staticClass:"logisticsDetails_steps_Title"},[t("div",[e._v(e._s(e.collectLogistics.expVo.expName)+"快递:")]),t("div",[e._v(e._s(e.collectLogistics.expVo.expNo))])]):e._e(),e.collectLogistics&&e.collectLogistics.expVo&&e.collectLogistics.expVo.expNo?t("el-steps",{attrs:{direction:"vertical",active:0,space:80}},e._l(e.collectLogistics.expVo.list,(function(e){return t("el-step",{key:e.time,attrs:{title:e.time,description:e.remark,icon:"el-icon-truck"}})})),1):t("div",{staticClass:"collectLogistics-none"},[t("div",{staticStyle:{"margin-bottom":"15px"}},[e._v("此配件暂未同步物流信息")]),t("div",[e._v("点按钮同步")])])],1)]):e._e(),t("el-card",{staticStyle:{flex:"1"}},[t("div",{staticClass:"logisticsDetails_steps_left"},[t("div",{staticClass:"logisticsDetails_steps_title"},[e._v(" 供应商 "),t("span",{staticStyle:{"font-weight":"400",margin:"10px"}},[e._v("——")]),e._v(" 客户 ")]),e.sendLogistics&&e.sendLogistics.expVo&&e.sendLogistics.expVo.expNo?t("div",{staticClass:"logisticsDetails_steps_Title"},[t("div",[e._v(e._s(e.sendLogistics.expVo.expName)+"快递:")]),t("div",[e._v(e._s(e.sendLogistics.expVo.expNo))])]):e._e(),e.sendLogistics&&e.sendLogistics.expVo&&e.sendLogistics.expVo.expNo?t("el-steps",{attrs:{direction:"vertical",active:0,space:80}},e._l(e.sendLogistics.expVo.list,(function(e){return t("el-step",{key:e.time,attrs:{title:e.time,description:e.remark,icon:"el-icon-truck"}})})),1):t("div",{staticClass:"sendLogistics-none"},[t("div",[e._v("此配件暂未同步物流信息")]),t("div",{staticStyle:{margin:"15px 0"}},[e._v("点按钮同步")])])],1)])],1),t("el-dialog",{attrs:{title:"物流同步",width:"30%",center:"","close-on-click-modal":!1,visible:e.logisticsSynchronousDialogShow,"before-close":e.closeSynchronousDialog}},[t("el-form",{ref:"logisticsSynchronousRef",attrs:{"label-width":"80px",model:e.synchronousParmas,rules:e.logisticsSynchronousRules,"label-position":"left"}},[t("el-form-item",{attrs:{label:"发货方",prop:"type"}},[t("el-select",{attrs:{placeholder:"请选择发货方"},model:{value:e.synchronousParmas.type,callback:function(s){e.$set(e.synchronousParmas,"type",s)},expression:"synchronousParmas.type"}},[1==e.model?t("el-option",{attrs:{label:"客户",value:1}}):e._e(),t("el-option",{attrs:{label:"供应商",value:2}})],1)],1),t("el-form-item",{attrs:{label:"快递公司",prop:"expCom"}},[t("el-select",{attrs:{placeholder:"请选择快递公司"},on:{change:e.changeExp},model:{value:e.synchronousParmas.expCom,callback:function(s){e.$set(e.synchronousParmas,"expCom",s)},expression:"synchronousParmas.expCom"}},e._l(e.logisticsCompanyList,(function(e){return t("el-option",{key:e.id,attrs:{label:e.expName,value:e.expCom}})})),1)],1),t("el-form-item",{attrs:{label:"快递单号",prop:"logisticsNumber"}},[t("el-input",{attrs:{placeholder:"请填写快递单号"},model:{value:e.synchronousParmas.logisticsNumber,callback:function(s){e.$set(e.synchronousParmas,"logisticsNumber","string"===typeof s?s.trim():s)},expression:"synchronousParmas.logisticsNumber"}})],1),t("el-form-item",{attrs:{label:"手机号码",prop:"phone"}},[t("el-input",{attrs:{placeholder:"请填写手机号码"},model:{value:e.synchronousParmas.phone,callback:function(s){e.$set(e.synchronousParmas,"phone","string"===typeof s?s.trim():s)},expression:"synchronousParmas.phone"}})],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:e.closeSynchronousDialog}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.comfirmSynchronous}},[e._v("确 定")])],1)],1)],1)},i=[],n=t("5530"),c=t("1da1"),r=(t("96cf"),t("159b"),t("f8b7")),a={data:function(){return{model:null,synchronousParmas:{type:null,expCom:null,phone:null,logisticsNumber:null,expName:null},sendLogistics:[],collectLogistics:[],option:null,logisticsCompanyList:[],logisticsSynchronousDialogShow:!1,logisticsSynchronousRules:{expCom:[{required:!0,message:"请选择快递公司",trigger:"blur"}],phone:[{required:!0,message:"请填写手机号码",trigger:"blur"},{pattern:/^1[3456789]\d{9}$/,message:"输入的手机号必须是11位数字",trigger:"blur"}],logisticsNumber:[{required:!0,message:"请填写快递单号",trigger:"blur"}],type:[{required:!0,message:"请选择发货方",trigger:"blur"}]}}},methods:{changeExp:function(){var e=this;this.logisticsCompanyList.forEach((function(s){s.expCom==e.synchronousParmas.expCom&&(e.synchronousParmas.expName=s.expName)}))},comfirmSynchronous:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function s(){var t,o;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,e.$refs.logisticsSynchronousRef.validate();case 2:return t=Object(n["a"])(Object(n["a"])({},e.synchronousParmas),e.option),delete t.model,s.next=6,Object(r["Yb"])(t);case 6:o=s.sent,"操作成功"==o.message&&e.$message({message:"同步成功",type:"success"}),e.closeSynchronousDialog(),e.queryLogistics(e.option);case 10:case"end":return s.stop()}}),s)})))()},queryOrderBasicFn:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function s(){var t;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,Object(r["Gb"])();case 2:t=s.sent,e.logisticsCompanyList=t.data;case 4:case"end":return s.stop()}}),s)})))()},closeSynchronousDialog:function(){this.$refs.logisticsSynchronousRef.resetFields(),this.logisticsSynchronousDialogShow=!1},openSynchronousDialog:function(){this.logisticsSynchronousDialogShow=!0},queryLogistics:function(e){var s=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(r["ub"])(e);case 2:o=t.sent,o.data&&o.data.forEach((function(e){1==e.type?s.collectLogistics=e:s.sendLogistics=e}));case 4:case"end":return t.stop()}}),t)})))()}},created:function(){this.option=this.$route.query,this.model=this.option.model,this.queryLogistics(this.option),this.queryOrderBasicFn()}},l=a,u=(t("57d8"),t("2877")),p=Object(u["a"])(l,o,i,!1,null,"1df392fc",null);s["default"]=p.exports},"57d8":function(e,s,t){"use strict";t("a840")},a840:function(e,s,t){}}]);