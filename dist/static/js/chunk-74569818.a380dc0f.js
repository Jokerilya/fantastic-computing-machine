(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-74569818"],{"532e":function(t,e,r){"use strict";r.r(e);var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"activityProductOrderList"},[r("div",{staticClass:"activityProductOrderList_btnline"},[r("div",{staticClass:"activityProductOrderList_btnline_left"},[r("el-input",{staticStyle:{"margin-right":"10px"},attrs:{placeholder:"请输入订单编号"},model:{value:t.queryActivityOrderListParams.orderSn,callback:function(e){t.$set(t.queryActivityOrderListParams,"orderSn",e)},expression:"queryActivityOrderListParams.orderSn"}}),r("el-select",{attrs:{placeholder:"请选择类型"},model:{value:t.queryActivityOrderListParams.orderType,callback:function(e){t.$set(t.queryActivityOrderListParams,"orderType",e)},expression:"queryActivityOrderListParams.orderType"}},t._l(t.orderTypeOptions,(function(t){return r("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),r("div",[r("el-button",{on:{click:t.searchQueryActivityOrderList}},[t._v("搜索")]),r("el-button",{on:{click:t.resetQueryActivityOrderListParams}},[t._v("重置")])],1)]),r("el-card",[r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.activityProductOrderList}},[r("el-table-column",{attrs:{align:"center",prop:"payTime",label:"支付时间",width:"150"}}),r("el-table-column",{attrs:{align:"center",prop:"orderSn",label:"订单编号",width:"150"}}),r("el-table-column",{attrs:{align:"center",prop:"realName",label:"下单用户"}}),r("el-table-column",{attrs:{align:"center",label:"订单类型"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[t._v(" "+t._s(1==r.type?"保养卡":2==r.type?"维修月卡":"维修次卡")+" ")]}}])}),r("el-table-column",{attrs:{align:"center",prop:"title",label:"商品标题"}}),r("el-table-column",{attrs:{align:"center",prop:"notQty",label:"未核销"}}),r("el-table-column",{attrs:{align:"center",prop:"waitUseQty",label:"待核销"}}),r("el-table-column",{attrs:{align:"center",prop:"useQty",label:"已核销"}}),r("el-table-column",{attrs:{align:"center",prop:"returnQty",label:"已退款"}}),r("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[r("el-button",{attrs:{type:"text"},on:{click:function(e){return t.openActivityOrderDetailDialog(i.orderSn)}}},[t._v("详情")])]}}])})],1),r("div",{staticClass:"activityProductOrderList_pagination"},[r("el-pagination",{attrs:{layout:"prev, pager, next",total:t.activityProductOrderListTotal,"page-size":t.queryActivityOrderListParams.pageSize},on:{"current-change":t.changeParamsPageSize}})],1)],1),r("el-dialog",{attrs:{title:"详情",width:"65%",visible:t.activityOrderDetailVisible,"before-close":t.closeActivityOrderDetailDialog,"close-on-click-modal":!1,center:""}},[r("el-tabs",{on:{"tab-click":t.changeActivityOrderDetailTab},model:{value:t.activeOrderDetail,callback:function(e){t.activeOrderDetail=e},expression:"activeOrderDetail"}},t._l(t.activityOrderDetailList,(function(e,i){return r("el-tab-pane",{key:i,attrs:{name:e.orderSn}},[r("div",{attrs:{slot:"label"},slot:"label"},[t._v("核销订单"+t._s(i+1))]),r("el-descriptions",{staticClass:"margin-top",attrs:{title:"",column:5,direction:"vertical",border:""}},[t.activityOrderDetailItem.masterRealName||t.activityOrderDetailItem.applyRefundTime?t._e():r("template",{slot:"extra"},[r("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(r){return t.openDesignateMasterDialog(e.orderSn)}}},[t._v("指派师傅")])],1),r("el-descriptions-item",{attrs:{label:"联系人"}},[t._v(t._s(t.activityOrderDetailItem.maintenancePeople))]),r("el-descriptions-item",{attrs:{label:"联系电话"}},[t._v(t._s(t.activityOrderDetailItem.maintenancePhone))]),r("el-descriptions-item",{attrs:{label:"订单号"}},[t._v(t._s(t.activityOrderDetailItem.orderSn))]),r("el-descriptions-item",{attrs:{label:"企业名称"}},[t._v(t._s(t.activityOrderDetailItem.enterpriseName))]),r("el-descriptions-item",{attrs:{label:"创建时间"}},[t._v(t._s(t.activityOrderDetailItem.createTime))]),r("el-descriptions-item",{attrs:{label:"预约时间"}},[t._v(" "+t._s(t.activityOrderDetailItem.reservationTime?t.activityOrderDetailItem.reservationTime:"未预约"))]),r("el-descriptions-item",{attrs:{label:"核销时间"}},[t._v(t._s(t.activityOrderDetailItem.verificationTime?t.activityOrderDetailItem.verificationTime:"未核销"))]),r("el-descriptions-item",{attrs:{label:"申请退款时间"}},[r("span",{style:{color:t.activityOrderDetailItem.applyRefundTime?"red":""}},[t._v(t._s(t.activityOrderDetailItem.applyRefundTime?t.activityOrderDetailItem.applyRefundTime:"未退款"))])]),r("el-descriptions-item",{attrs:{label:"师傅名称"}},[t._v(t._s(t.activityOrderDetailItem.masterRealName?t.activityOrderDetailItem.masterRealName:"未指派"))]),r("el-descriptions-item",{attrs:{label:"预约数量"}},[t._v(t._s(t.activityOrderDetailItem.qty))]),r("el-descriptions-item",{attrs:{label:"核销状态"}},[t._v(t._s(0==t.activityOrderDetailItem.status?"未核销":"已核销"))]),r("el-descriptions-item",{attrs:{label:"企业地址"}},[t._v(t._s(t.activityOrderDetailItem.enterpriseAddress))])],2)],1)})),1)],1),r("el-dialog",{attrs:{visible:t.designateMasterVisible,title:"指派师傅",width:"45%","show-close":!1,"close-on-click-modal":!1,center:""}},[r("div",{staticClass:"designateMasterDialog"},[r("div",{staticClass:"designateMasterDialog_topBtn"},[r("el-input",{attrs:{placeholder:"请输入师傅名称"},model:{value:t.getMasterListParams.realName,callback:function(e){t.$set(t.getMasterListParams,"realName",e)},expression:"getMasterListParams.realName"}}),r("el-button",{staticClass:"designateMasterDialog_topBtn_search",on:{click:t.searchMasterList}},[t._v("搜索")])],1),r("el-table",{attrs:{data:t.masterList,"highlight-current-row":""},on:{"current-change":t.changeMaster}},[r("el-table-column",{attrs:{label:"师傅姓名",prop:"realName",align:"center"}}),r("el-table-column",{attrs:{label:"师傅电话",prop:"phone",align:"center"}}),r("el-table-column",{attrs:{label:"等级",prop:"levelName",align:"center"}})],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:t.closeDesignateMasterDialog}},[t._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:t.confirmHandleActivityOrderAssign}},[t._v("确 定")])],1)])],1)},a=[],n=r("1da1"),s=(r("96cf"),r("ca41")),c=r("c24f"),o={data:function(){return{activityProductOrderList:[],queryActivityOrderListParams:{pageNo:1,pageSize:10,orderSn:null,orderType:null},activityProductOrderListPages:null,activityProductOrderListTotal:null,orderTypeOptions:[{value:1,label:"保养卡"},{value:2,label:"维修月卡"},{value:3,label:"维修次卡"}],activityOrderDetailVisible:!1,activityOrderDetailList:[],activityOrderDetailItem:[],activeOrderDetail:null,relationOrderSn:null,designateMasterVisible:!1,getMasterListParams:{pageNo:1,pageSize:5,realName:null},masterList:[],handleActivityOrderAssignParams:{orderSn:null,uid:null}}},methods:{confirmHandleActivityOrderAssign:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(s["m"])(t.handleActivityOrderAssignParams);case 2:r=e.sent,"操作成功"==r.message&&(t.$message({message:"指派成功",type:"success"}),t.queryActivityOrderDetail(),t.closeDesignateMasterDialog());case 4:case"end":return e.stop()}}),e)})))()},closeDesignateMasterDialog:function(){this.handleActivityOrderAssignParams={orderSn:null,uid:null},this.getMasterListParams={pageNo:1,pageSize:5,realName:null},this.masterList=[],this.designateMasterVisible=!1},changeMaster:function(t){this.handleActivityOrderAssignParams.uid=t.uid},searchMasterList:function(){this.getMasterListParams.pageNo=1,this.getMasterList()},getMasterList:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["d"])(t.getMasterListParams);case 2:r=e.sent,t.masterList=r.data.records,t.masterListTotal=r.data.total;case 5:case"end":return e.stop()}}),e)})))()},openDesignateMasterDialog:function(t){this.getMasterList(),this.handleActivityOrderAssignParams.orderSn=t,this.designateMasterVisible=!0},changeActivityOrderDetailTab:function(t){this.activeOrderDetail=this.activityOrderDetailList[t.index].orderSn,this.activityOrderDetailItem=this.activityOrderDetailList[t.index]},closeActivityOrderDetailDialog:function(){this.activityOrderDetailVisible=!1,this.activityOrderDetailList=[],this.activeOrderDetail=null,this.activityOrderDetailItem=[]},queryActivityOrderDetail:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(s["n"])(t.relationOrderSn);case 2:r=e.sent,r.data&&(t.activityOrderDetailList=r.data,t.activeOrderDetail=r.data[0].orderSn,t.activityOrderDetailItem=r.data[0]);case 4:case"end":return e.stop()}}),e)})))()},openActivityOrderDetailDialog:function(t){this.relationOrderSn=t,this.queryActivityOrderDetail(),this.activityOrderDetailVisible=!0},changeParamsPageSize:function(t){this.queryActivityOrderListParams.pageNo=t,this.queryActivityOrderList()},searchQueryActivityOrderList:function(){this.queryActivityOrderListParams.pageNo=1,this.queryActivityOrderList()},resetQueryActivityOrderListParams:function(){this.queryActivityOrderListParams={pageNo:1,pageSize:10,orderSn:null,orderType:null},this.queryActivityOrderList()},queryActivityOrderList:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(s["o"])(t.queryActivityOrderListParams);case 2:r=e.sent,t.activityProductOrderList=r.data.records,t.activityProductOrderListPages=r.data.pages,t.activityProductOrderListTotal=r.data.total;case 6:case"end":return e.stop()}}),e)})))()}},created:function(){this.queryActivityOrderList()}},l=o,u=(r("611d"),r("2877")),d=Object(u["a"])(l,i,a,!1,null,"1a4f42a0",null);e["default"]=d.exports},"611d":function(t,e,r){"use strict";r("de1d")},c24f:function(t,e,r){"use strict";r.d(e,"g",(function(){return a})),r.d(e,"t",(function(){return n})),r.d(e,"k",(function(){return s})),r.d(e,"a",(function(){return c})),r.d(e,"u",(function(){return o})),r.d(e,"d",(function(){return l})),r.d(e,"n",(function(){return u})),r.d(e,"f",(function(){return d})),r.d(e,"e",(function(){return m})),r.d(e,"c",(function(){return p})),r.d(e,"v",(function(){return y})),r.d(e,"l",(function(){return v})),r.d(e,"m",(function(){return f})),r.d(e,"p",(function(){return O})),r.d(e,"q",(function(){return b})),r.d(e,"o",(function(){return h})),r.d(e,"h",(function(){return g})),r.d(e,"b",(function(){return D})),r.d(e,"s",(function(){return L})),r.d(e,"r",(function(){return A})),r.d(e,"i",(function(){return j})),r.d(e,"j",(function(){return P}));var i=r("b775");r("cb5c");function a(t){return Object(i["a"])({url:"/admin/maintenance/handleCommission",method:"post",data:t})}function n(t){return Object(i["a"])({url:"/admin/business/querySalesmanList",method:"post",data:t})}function s(t){return Object(i["a"])({url:"/admin/business/handleSalesmanChatMapperBind",method:"post",data:t})}function c(t){return Object(i["a"])({url:"/admin/maintenance/bindUserAccount",method:"post",data:t})}function o(t){return Object(i["a"])({url:"/admin/userInfo/queryUserInfo",method:"post",data:t})}function l(t){return Object(i["a"])({url:"/admin/maintenance/queryMasterList",method:"get",params:t})}function u(t){return Object(i["a"])({url:"/admin/maintenance/queryAssignableMasterList",method:"post",data:t})}function d(t){return Object(i["a"])({url:"/admin/maintenance/handleAssignMaster",method:"post",data:t})}function m(t){return Object(i["a"])({url:"/admin/maintenance/getRepairOrderDetail",method:"get",params:t})}function p(t){return Object(i["a"])({url:"/admin/maintenance/queryEnterpriseList",method:"post",data:t})}function y(t){return Object(i["a"])({url:"/admin/userInfo/queryWithdrawal",method:"post",data:t})}function v(t){return Object(i["a"])({url:"/admin/userInfo/handleWithdrawalExamine",method:"post",data:t})}function f(t){return Object(i["a"])({url:"/admin/userInfo/handleWithdrawalExport",method:"post",responseType:"blob",data:t})}function O(t){return Object(i["a"])({url:"/admin/business/queryCustomerPool",method:"post",data:t})}function b(t){return Object(i["a"])({url:"/admin/business/queryCustomerVisitList",method:"post",data:t})}function h(t){return Object(i["a"])({url:"/admin/business/queryCustomerApplyVisitList",method:"post",data:t})}function g(t){return Object(i["a"])({url:"/admin/business/handleCustomerApplyVisit",method:"post",data:t})}function D(t){return Object(i["a"])({url:"/admin/userInfo/getAccountMoney?uid="+t,method:"get"})}function L(t){return Object(i["a"])({url:"/admin/userInfo/queryMoneyList",method:"post",data:t})}function A(t){return Object(i["a"])({url:"/admin/business/queryEnterpriseWechatList",method:"post",data:t})}function j(t){return Object(i["a"])({url:"/admin/business/handleEnterpriseWechatBind",method:"post",data:t})}function P(){return Object(i["a"])({url:"/admin/business/handleRepairOrderBind",method:"post"})}},ca41:function(t,e,r){"use strict";r.d(e,"q",(function(){return a})),r.d(e,"h",(function(){return n})),r.d(e,"c",(function(){return s})),r.d(e,"t",(function(){return c})),r.d(e,"j",(function(){return o})),r.d(e,"r",(function(){return l})),r.d(e,"i",(function(){return u})),r.d(e,"v",(function(){return d})),r.d(e,"d",(function(){return m})),r.d(e,"b",(function(){return p})),r.d(e,"l",(function(){return y})),r.d(e,"u",(function(){return v})),r.d(e,"k",(function(){return f})),r.d(e,"f",(function(){return O})),r.d(e,"g",(function(){return b})),r.d(e,"p",(function(){return h})),r.d(e,"w",(function(){return g})),r.d(e,"o",(function(){return D})),r.d(e,"n",(function(){return L})),r.d(e,"m",(function(){return A})),r.d(e,"a",(function(){return j})),r.d(e,"s",(function(){return P})),r.d(e,"e",(function(){return _}));var i=r("b775");r("cb5c");function a(t){return Object(i["a"])({url:"/admin/operation/queryOperationAd",method:"post",data:t})}function n(t){return Object(i["a"])({url:"/admin/operation/editOperationAd",method:"post",data:t})}function s(t){return Object(i["a"])({url:"/admin/operation/delOperationAd",method:"get",params:t})}function c(t){return Object(i["a"])({url:"/admin/operation/queryOperation",method:"post",data:t})}function o(t){return Object(i["a"])({url:"/admin/operation/editOperation",method:"post",data:t})}function l(t){return Object(i["a"])({url:"/admin/coupon/list",method:"post",data:t})}function u(t){return Object(i["a"])({url:"/admin/coupon/addOrUpdate",method:"post",data:t})}function d(t){return Object(i["a"])({url:"/admin/coupon/receiveRecords",method:"post",data:t})}function m(t){return Object(i["a"])({url:"/admin/coupon/delete?couponId="+t,method:"get"})}function p(t){return Object(i["a"])({url:"/admin/coupon/detail",method:"get",params:t})}function y(t){return Object(i["a"])({url:"/admin/coupon/give",method:"post",data:t})}function v(t){return Object(i["a"])({url:"/admin/base/queryPartner",method:"post",data:t})}function f(t){return Object(i["a"])({url:"/admin/base/editPartner",method:"post",data:t})}function O(t){return Object(i["a"])({url:"/admin/base/deletePartner",method:"get",params:t})}function b(t){return Object(i["a"])({url:"/admin/activity/editActivityProduct",method:"post",data:t})}function h(){return Object(i["a"])({url:"/admin/activity/queryActivityProductList",method:"get"})}function g(t){return Object(i["a"])({url:"/admin/activity/shelvesActivityProduct",method:"post",data:t})}function D(t){return Object(i["a"])({url:"/admin/activity/queryActivityOrderList",method:"post",data:t})}function L(t){return Object(i["a"])({url:"/admin/activity/queryActivityOrderDetail?relationOrderSn=".concat(t),method:"get"})}function A(t){return Object(i["a"])({url:"/admin/activity/handleActivityOrderAssign",method:"post",data:t})}function j(t){return Object(i["a"])({url:"/admin/activity/bindExternalCombo",method:"post",data:t})}function P(t){return Object(i["a"])({url:"/admin/activity/queryExternalComboList",method:"get"})}function _(t){return Object(i["a"])({url:"/admin/activity/deleteExternalCombo",method:"delete",params:{id:t}})}},de1d:function(t,e,r){}}]);