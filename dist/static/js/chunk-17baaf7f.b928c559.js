(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-17baaf7f"],{"7db0":function(t,e,r){"use strict";var i=r("23e7"),n=r("b727").find,a=r("44d2"),o="find",l=!0;o in[]&&Array(1)[o]((function(){l=!1})),i({target:"Array",proto:!0,forced:l},{find:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),a(o)},"8ba4":function(t,e,r){var i=r("23e7"),n=r("eac5");i({target:"Number",stat:!0},{isInteger:n})},"9edb":function(t,e,r){"use strict";r("aac2")},a15b:function(t,e,r){"use strict";var i=r("23e7"),n=r("e330"),a=r("44ad"),o=r("fc6a"),l=r("a640"),s=n([].join),c=a!=Object,u=l("join",",");i({target:"Array",proto:!0,forced:c||!u},{join:function(t){return s(o(this),void 0===t?",":t)}})},aac2:function(t,e,r){},b65f:function(t,e,r){var i=r("23e7"),n=r("b42e");i({target:"Math",stat:!0},{trunc:n})},b792:function(t,e,r){"use strict";r.r(e);var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"activityProductList"},[r("first-title",{attrs:{title:"机将卡"}}),r("div",{staticClass:"select_view flexBox"},[r("div"),r("div",[r("el-button",{attrs:{type:"primary"},on:{click:t.openAddEditActivityProductDialog}},[r("i",{staticClass:"el-icon-plus"}),t._v("添加机将卡")]),r("el-button",{attrs:{type:"primary"},on:{click:t.openActivateCardDialog}},[t._v("绑定外部套餐")]),r("el-button",{attrs:{type:"warning"},on:{click:t.goToBindActivateOrder}},[r("i",{staticClass:"el-icon-tickets"}),t._v("查看绑定订单")])],1)]),r("el-card",[r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.activityProductList}},[r("el-table-column",{attrs:{align:"center",prop:"createTime",label:"创建时间"}}),r("el-table-column",{attrs:{align:"center",label:"类型"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[t._v(" "+t._s(1==r.type?"保养卡":2==r.type?"维修月卡":"维修次卡")+" ")]}}])}),r("el-table-column",{attrs:{align:"center",prop:"title",label:"标题"}}),r("el-table-column",{attrs:{align:"center",label:"主图"},scopedSlots:t._u([{key:"default",fn:function(t){var e=t.row;return[r("el-image",{staticStyle:{width:"120px",height:"120px"},attrs:{src:e.coverImage,"preview-src-list":[e.coverImage]}})]}}])}),r("el-table-column",{attrs:{align:"center",label:"轮播图"},scopedSlots:t._u([{key:"default",fn:function(t){var e=t.row;return[r("el-image",{staticStyle:{width:"120px",height:"120px"},attrs:{src:e.images&&e.images[0],"preview-src-list":e.images}})]}}])}),r("el-table-column",{attrs:{align:"center",label:"内容"},scopedSlots:t._u([{key:"default",fn:function(t){var e=t.row;return[r("el-image",{staticStyle:{width:"120px",height:"120px"},attrs:{src:e.content,fit:"cover","preview-src-list":[e.content]}})]}}])}),r("el-table-column",{attrs:{align:"center",prop:"price",label:"价格"}}),r("el-table-column",{attrs:{align:"center",prop:"simpleDesc",label:"描述"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[t._v(" "+t._s(r.simpleDesc?r.simpleDesc:"/")+" ")]}}])}),r("el-table-column",{attrs:{align:"center",width:"80",prop:"sort",label:"排序"}}),r("el-table-column",{attrs:{align:"center",width:"80",prop:"saleNum",label:"销售数量"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[t._v(" "+t._s(r.saleNum?r.saleNum:0)+" ")]}}])}),r("el-table-column",{attrs:{align:"center",label:"更多"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[r("el-button",{attrs:{type:"text"},on:{click:function(e){return t.unmountProductFn(i)}}},[t._v(t._s(0==i.isShelves?"上架":"下架"))]),r("el-button",{attrs:{type:"text"},on:{click:function(e){return t.openAddEditActivityProductDialog(i)}}},[t._v("编辑")])]}}])})],1)],1),r("el-dialog",{attrs:{"close-on-click-modal":!1,title:"绑定外部套餐",visible:t.activateCardVisible,"show-close":!1,center:"",width:"70%"}},[r("el-form",{attrs:{"label-width":"100px","label-position":"left"}},[r("el-form-item",{attrs:{label:"第三方订单号"}},[r("el-input",{attrs:{placeholder:"请输入第三方订单号"},model:{value:t.bindExternalComboParams.orderSn,callback:function(e){t.$set(t.bindExternalComboParams,"orderSn",e)},expression:"bindExternalComboParams.orderSn"}})],1),r("el-form-item",{attrs:{label:"支付时间"}},[r("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime",placeholder:"选择支付时间"},model:{value:t.bindExternalComboParams.payTime,callback:function(e){t.$set(t.bindExternalComboParams,"payTime",e)},expression:"bindExternalComboParams.payTime"}})],1),r("el-form-item",{attrs:{label:"激活机将卡"}},[r("div",{staticStyle:{"text-align":"right"}},[r("el-button",{attrs:{type:"primary"},on:{click:t.addActivateCard}},[t._v("新增")])],1)]),r("el-form-item",[r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.bindExternalComboParams.list,border:""}},[r("el-table-column",{attrs:{label:"卡类型",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[r("el-select",{attrs:{placeholder:"请选择卡类型"},on:{change:function(e){return t.changeCardType(i)}},model:{value:i.type,callback:function(e){t.$set(i,"type",e)},expression:"row.type"}},t._l(t.cardList,(function(t){return r("el-option",{key:t.type,attrs:{label:t.text,value:t.type}})})),1)]}}])}),r("el-table-column",{attrs:{label:"卡名称",width:"230"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[r("el-select",{attrs:{placeholder:"请选择卡类型"},on:{change:function(e){return t.changeCradName(i)}},model:{value:i.name,callback:function(e){t.$set(i,"name",e)},expression:"row.name"}},t._l(i.nameList,(function(t){return r("el-option",{key:t.id,attrs:{label:t.title,value:t.title}})})),1)]}}])}),r("el-table-column",{attrs:{label:"数量",width:"145"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[r("el-input-number",{staticStyle:{width:"120px"},attrs:{min:1,max:100},model:{value:i.num,callback:function(e){t.$set(i,"num",e)},expression:"row.num"}})]}}])}),r("el-table-column",{attrs:{label:"有效月数",width:"145"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[2==i.type?r("div",[r("el-input-number",{staticStyle:{width:"120px"},attrs:{min:1,max:100},model:{value:i.month,callback:function(e){t.$set(i,"month",e)},expression:"row.month"}})],1):r("div",[t._v("/")])]}}])}),r("el-table-column",{attrs:{label:"机台码,多个请用&隔开"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[2==i.type?r("div",[r("el-input",{attrs:{placeholder:"请填写机台码,多个请用&隔开"},model:{value:i.no,callback:function(e){t.$set(i,"no",e)},expression:"row.no"}})],1):r("div",[t._v("/")])]}}])}),r("el-table-column",{attrs:{label:"总价",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[r("el-input",{attrs:{type:"number",placeholder:"请填写购买总价"},model:{value:i.totalAmount,callback:function(e){t.$set(i,"totalAmount",e)},expression:"row.totalAmount"}})]}}])}),r("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.$index;return[r("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.delActivateCard(i)}}},[t._v("删除")])]}}])})],1)],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:t.closeActivateCardDialog}},[t._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:t.bindExternalCombo}},[t._v("确 定")])],1)],1),r("el-dialog",{attrs:{"close-on-click-modal":!1,title:t.activityProductDialogTitle,visible:t.activityProductDialogVisible,"show-close":!1,center:"",width:"50%"}},[r("el-form",{ref:"queryActivityProductListRef",attrs:{"label-width":"100px","label-position":"left",model:t.queryActivityProductListParams,rules:t.queryActivityProductListRules}},[r("el-form-item",{attrs:{label:"类型",prop:"type"}},[r("el-radio-group",{model:{value:t.queryActivityProductListParams.type,callback:function(e){t.$set(t.queryActivityProductListParams,"type",e)},expression:"queryActivityProductListParams.type"}},t._l(t.cardList,(function(e){return r("el-radio",{key:e.type,attrs:{label:e.type}},[t._v(t._s(e.text))])})),1)],1),r("el-form-item",{attrs:{label:"标题",prop:"title"}},[r("el-input",{attrs:{placeholder:"请输入标题"},model:{value:t.queryActivityProductListParams.title,callback:function(e){t.$set(t.queryActivityProductListParams,"title",e)},expression:"queryActivityProductListParams.title"}})],1),r("el-form-item",{attrs:{label:"价格",prop:"price"}},[r("el-input",{attrs:{type:"number",placeholder:"请输入价格"},model:{value:t.queryActivityProductListParams.price,callback:function(e){t.$set(t.queryActivityProductListParams,"price",e)},expression:"queryActivityProductListParams.price"}})],1),r("el-form-item",{attrs:{label:"描述",prop:"simpleDesc"}},[r("el-input",{attrs:{placeholder:"请输入描述"},model:{value:t.queryActivityProductListParams.simpleDesc,callback:function(e){t.$set(t.queryActivityProductListParams,"simpleDesc",e)},expression:"queryActivityProductListParams.simpleDesc"}})],1),r("el-form-item",{attrs:{label:"排序"}},[r("div",{staticStyle:{color:"#999","font-size":"18px"}},[t._v(" Tip:数字越低,排序越靠前 ")]),r("el-input",{attrs:{type:"number",placeholder:"请输入排序的顺序"},model:{value:t.queryActivityProductListParams.sort,callback:function(e){t.$set(t.queryActivityProductListParams,"sort",e)},expression:"queryActivityProductListParams.sort"}})],1),r("el-form-item",{attrs:{label:"封面图",prop:"coverImage"}},[r("div",{staticStyle:{color:"#999","font-size":"18px"}},[t._v(" Tip:封面图的尺寸最佳比例:宽 1486像素 : 高 1486像素 ")]),r("el-upload",{ref:"uploadCoverImageRef",attrs:{action:"#","list-type":"picture-card",multiple:!1,"file-list":t.coverImageFileList,"http-request":t.uploadCoverImageFileList,"on-remove":t.delCoverImage,limit:1}},[r("i",{staticClass:"el-icon-plus"})])],1),r("el-form-item",{attrs:{label:"轮播图",prop:"images"}},[r("div",{staticStyle:{color:"#999","font-size":"18px"}},[t._v(" Tip:轮播图的尺寸最佳比例:宽 1486 像素 : 高 1486 像素 ")]),r("el-upload",{ref:"uploadImageRef",attrs:{action:"#","list-type":"picture-card",limit:5,multiple:"","file-list":t.imagesFileList,"http-request":t.uploadImagesFileList,"on-remove":t.delImages}},[r("i",{staticClass:"el-icon-plus"})])],1),r("el-form-item",{attrs:{label:"内容图",prop:"content"}},[r("div",{staticStyle:{color:"#999","font-size":"26px"}},[t._v(" 轮播图的尺寸最佳比例:宽750像素 ")]),r("el-upload",{ref:"uploadContentRef",attrs:{action:"#","list-type":"picture-card",multiple:!1,"file-list":t.contentFileList,"http-request":t.uploadContentFileList,"on-remove":t.delContent,limit:1}},[r("i",{staticClass:"el-icon-plus"})])],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:t.closeActivityProductDialog}},[t._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:t.confirmActivityProduct}},[t._v("确 定")])],1)],1)],1)},n=[],a=r("5530");r("a4d3"),r("b64b");function o(t,e){if(null==t)return{};var r,i,n={},a=Object.keys(t);for(i=0;i<a.length;i++)r=a[i],e.indexOf(r)>=0||(n[r]=t[r]);return n}function l(t,e){if(null==t)return{};var r,i,n=o(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var s=r("2909"),c=r("1da1"),u=(r("96cf"),r("7db0"),r("b0c0"),r("ac1f"),r("1276"),r("4d90"),r("fb6a"),r("d3b7"),r("25f0"),r("8ba4"),r("a9e3"),r("b65f"),r("b680"),r("d81d"),r("a434"),r("c740"),r("159b"),r("a15b"),r("4de4"),r("8593")),d=r("ca41"),m={data:function(){return{activityProductList:[],activityProductDialogVisible:!1,activityProductDialogTitle:"新增活动产品",queryActivityProductListParams:{type:null,title:null,price:null,images:null,coverImage:null,content:null,sort:null,simpleDesc:null},coverImageFileList:[],contentFileList:[],imagesFileList:[],cardList:[{type:1,text:"保养卡",list:[]},{type:2,text:"维修月卡",list:[]},{type:3,text:"维修次卡",list:[]}],queryActivityProductListRules:{type:[{required:!0,message:"请选择类型",trigger:"change"}],title:[{required:!0,message:"请输入标题",trigger:"blur"}],price:[{required:!0,message:"请输入价格",trigger:"blur"}],coverImage:[{required:!0,message:"请上传封面图",trigger:"change"}],content:[{required:!0,message:"请上传内容图",trigger:"change"}],images:[{required:!0,message:"请上传轮播图",trigger:"change"}]},activateCardVisible:!1,activateCardList:[],bindExternalComboParams:{orderSn:null,code:null,payTime:null,totalAmount:null,list:[{type:null,name:null,num:1,month:1,no:null,nameList:[],totalAmount:null,productId:null}]}}},methods:{changeCradName:function(t){var e=t.nameList.find((function(e){return e.title===t.name}));t.productId=e.id},goToBindActivateOrder:function(){var t=this.$router.resolve({name:"bindActivateOrder"});window.open(t.href,"_blank")},validateBindExternalComboParams:function(t){if(!t.orderSn)return"订单号不能为空";if(!t.payTime)return"支付时间不能为空";if(!Array.isArray(t.list)||0===t.list.length)return"卡列表不能为空";for(var e=0;e<t.list.length;e++){var r=t.list[e];if(null==r.type)return"第"+(e+1)+"项：卡类型不能为空";if(!r.name)return"第"+(e+1)+"项：卡名称不能为空";if(null==r.num||r.num<=0)return"第"+(e+1)+"项：数量必须为正数";if(null==r.totalAmount||r.totalAmount<0)return"第"+(e+1)+"项：单张卡总价不能为负";if(2===r.type){if(!r.month||r.month<=0)return"第"+(e+1)+"项：月份不能为空且须为正数（仅限机台卡）";if(!r.no)return"第"+(e+1)+"项：机台码不能为空（仅限机台卡）";var i=r.no.split("&");if(i.length!=r.num)return"第"+(e+1)+"项：机台码台数和数量不一致"}}return!0},bindExternalCombo:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var r,i,n,a,o,u,m,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=t.validateBindExternalComboParams(t.bindExternalComboParams),!0===r?(n=((null===(i=t.bindExternalComboParams.orderSn)||void 0===i?void 0:i.toString())||"").slice(-6).padStart(6,"0"),a=String(Date.now()).slice(-6),t.bindExternalComboParams.code=n+a,o=n+a,u=t.bindExternalComboParams.list.reduce((function(t,e){return t+(parseFloat(e.totalAmount)||0)}),0),m=Math.round(100*u)/100,Number.isInteger(m)?t.bindExternalComboParams.totalAmount=Math.trunc(m):t.bindExternalComboParams.totalAmount=Number(m.toFixed(2)),p=Object(s["a"])(t.bindExternalComboParams.list),p=p.map((function(t){t.nameList;var e=l(t,["nameList"]);return e})),t.$confirm("请确认订单总价为【￥".concat(t.bindExternalComboParams.totalAmount,"】,无误后点击确定?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(c["a"])(regeneratorRuntime.mark((function e(){var r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={orderSn:t.bindExternalComboParams.orderSn,code:t.bindExternalComboParams.code,payTime:t.bindExternalComboParams.payTime,totalAmount:t.bindExternalComboParams.totalAmount,comboContent:JSON.stringify(p)},e.next=3,Object(d["a"])(r);case 3:i=e.sent,"000"==i.code&&(t.closeActivateCardDialog(),t.$alert("已为您生成激活码【".concat(o,"】,点击下方按钮复制即可"),"生成激活码",{confirmButtonText:"复制",callback:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,navigator.clipboard.writeText(o);case 2:t.$message({message:"复制成功",type:"success"});case 3:case"end":return e.stop()}}),e)})));function r(t){return e.apply(this,arguments)}return r}()}));case 5:case"end":return e.stop()}}),e)}))))):t.$message({message:r,type:"warning"});case 2:case"end":return e.stop()}}),e)})))()},delActivateCard:function(t){this.bindExternalComboParams.list.splice(t,1)},addActivateCard:function(){this.bindExternalComboParams.list.push({type:null,name:null,num:1,month:1,no:null,nameList:[],totalAmount:null,productId:null})},changeCardType:function(t){t.nameList=this.cardList[t.type-1].list,t.name=null,t.productId=null,t.num=null,t.month=null,t.no=null},closeActivateCardDialog:function(){this.bindExternalComboParams={orderSn:null,code:null,list:[{type:null,name:null,num:1,month:1,no:null,nameList:[],totalAmount:null,productId:null}]},this.activateCardVisible=!1},openActivateCardDialog:function(){this.activateCardVisible=!0},unmountProductFn:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){var i,n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,e.$confirm("您是否".concat(0==t.isShelves?"上架":"下架","该活动产品"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});case 2:if(i=r.sent,"confirm"!=i){r.next=9;break}return n=0==t.isShelves?1:0,r.next=7,Object(d["w"])({id:t.id,isShelves:n});case 7:a=r.sent,"操作成功"==a.message&&(e.$message({message:a.message,type:"success"}),e.queryActivityProductList());case 9:case"end":return r.stop()}}),r)})))()},confirmActivityProduct:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$refs["queryActivityProductListRef"].validate();case 2:return e.next=4,Object(d["g"])(t.queryActivityProductListParams);case 4:r=e.sent,"操作成功"==r.message&&(t.$message({message:r.message,type:"success"}),t.queryActivityProductList(),t.closeActivityProductDialog());case 6:case"end":return e.stop()}}),e)})))()},closeActivityProductDialog:function(){this.activityProductDialogVisible=!1,this.queryActivityProductListParams={type:null,title:null,price:null,images:null,coverImage:null,content:null,simpleDesc:null},this.coverImageFileList=[],this.contentFileList=[],this.imagesFileList=[],this.$refs.uploadImageRef.$children[1].$el.style.display="",this.$refs.uploadContentRef.$children[1].$el.style.display="",this.$refs.uploadCoverImageRef.$children[1].$el.style.display="",this.$refs["queryActivityProductListRef"].resetFields()},delImages:function(t){var e=this.imagesFileList.findIndex((function(e){return e.url==t.url}));this.imagesFileList.splice(e,1);var r=[];this.imagesFileList.forEach((function(t){r.push(t.url)})),this.queryActivityProductListParams.images=r.join(","),this.$refs.queryActivityProductListRef.validateField("images"),this.$refs.uploadImageRef.$children[1].$el.style.display=""},uploadImagesFileList:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){var i,n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return i=new FormData,i.append("file",t.file),r.next=4,Object(u["a"])(i);case 4:n=r.sent,e.imagesFileList.push({url:n.data}),a=[],e.imagesFileList.forEach((function(t){a.push(t.url)})),e.queryActivityProductListParams.images=a.join(","),e.$refs.queryActivityProductListRef.validateField("images"),e.imagesFileList.length>=5&&(e.$refs.uploadImageRef.$children[1].$el.style.display="none");case 11:case"end":return r.stop()}}),r)})))()},delContent:function(){this.contentFileList=[],this.queryActivityProductListParams.content=null,this.$refs.queryActivityProductListRef.validateField("content"),this.$refs.uploadContentRef.$children[1].$el.style.display=""},uploadContentFileList:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){var i,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return i=new FormData,i.append("file",t.file),r.next=4,Object(u["a"])(i);case 4:n=r.sent,e.contentFileList=[{url:n.data}],e.queryActivityProductListParams.content=n.data,e.$refs.queryActivityProductListRef.validateField("content"),1==e.contentFileList.length&&(e.$refs.uploadContentRef.$children[1].$el.style.display="none");case 9:case"end":return r.stop()}}),r)})))()},delCoverImage:function(t){this.coverImageFileList=[],this.queryActivityProductListParams.coverImage=null,this.$refs.queryActivityProductListRef.validateField("coverImage"),this.$refs.uploadCoverImageRef.$children[1].$el.style.display=""},uploadCoverImageFileList:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){var i,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return i=new FormData,i.append("file",t.file),r.next=4,Object(u["a"])(i);case 4:n=r.sent,e.coverImageFileList=[{url:n.data}],e.queryActivityProductListParams.coverImage=n.data,e.$refs.queryActivityProductListRef.validateField("coverImage"),1==e.coverImageFileList.length&&(e.$refs.uploadCoverImageRef.$children[1].$el.style.display="none");case 9:case"end":return r.stop()}}),r)})))()},openAddEditActivityProductDialog:function(t){var e=this;if(t){if(this.activityProductDialogTitle="编辑活动产品",this.activityProductDialogVisible=!0,this.queryActivityProductListParams=Object(a["a"])({},t),this.queryActivityProductListParams.coverImage&&(this.coverImageFileList=[{url:this.queryActivityProductListParams.coverImage}],setTimeout((function(){e.$refs.uploadCoverImageRef.$children[1].$el.style.display="none"}),300)),this.queryActivityProductListParams.content&&(this.contentFileList=[{url:this.queryActivityProductListParams.content}],setTimeout((function(){e.$refs.uploadContentRef.$children[1].$el.style.display="none"}),300)),this.queryActivityProductListParams.images){var r=[],i=[];this.queryActivityProductListParams.images.forEach((function(t){r.push({url:t}),i.push(t)})),this.queryActivityProductListParams.images=i.join(","),this.imagesFileList=r,this.imagesFileList.length>=5&&setTimeout((function(){e.$refs.uploadContentRef.$children[1].$el.style.display="none"}),300)}}else this.activityProductDialogVisible=!0,this.activityProductDialogTitle="新增活动产品"},queryActivityProductList:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var r,i,n,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(d["p"])();case 2:r=e.sent,r.data.forEach((function(t){t.images&&(t.images=t.images.split(","))})),t.activityProductList=r.data,i=function(t,e){return t.filter((function(t){return t.type===e&&1===t.isShelves}))},n=i(t.activityProductList,1),t.cardList[0].list=n,a=i(t.activityProductList,2),t.cardList[1].list=a,o=i(t.activityProductList,3),t.cardList[2].list=o;case 12:case"end":return e.stop()}}),e)})))()}},created:function(){this.queryActivityProductList()}},p=m,f=(r("9edb"),r("2877")),v=Object(f["a"])(p,i,n,!1,null,"49eb880d",null);e["default"]=v.exports},ca41:function(t,e,r){"use strict";r.d(e,"q",(function(){return n})),r.d(e,"h",(function(){return a})),r.d(e,"c",(function(){return o})),r.d(e,"t",(function(){return l})),r.d(e,"j",(function(){return s})),r.d(e,"r",(function(){return c})),r.d(e,"i",(function(){return u})),r.d(e,"v",(function(){return d})),r.d(e,"d",(function(){return m})),r.d(e,"b",(function(){return p})),r.d(e,"l",(function(){return f})),r.d(e,"u",(function(){return v})),r.d(e,"k",(function(){return y})),r.d(e,"f",(function(){return b})),r.d(e,"g",(function(){return h})),r.d(e,"p",(function(){return g})),r.d(e,"w",(function(){return P})),r.d(e,"o",(function(){return L})),r.d(e,"n",(function(){return x})),r.d(e,"a",(function(){return A})),r.d(e,"s",(function(){return w})),r.d(e,"e",(function(){return C})),r.d(e,"m",(function(){return $}));var i=r("b775");r("cb5c");function n(t){return Object(i["a"])({url:"/admin/operation/queryOperationAd",method:"post",data:t})}function a(t){return Object(i["a"])({url:"/admin/operation/editOperationAd",method:"post",data:t})}function o(t){return Object(i["a"])({url:"/admin/operation/delOperationAd",method:"get",params:t})}function l(t){return Object(i["a"])({url:"/admin/operation/queryOperation",method:"post",data:t})}function s(t){return Object(i["a"])({url:"/admin/operation/editOperation",method:"post",data:t})}function c(t){return Object(i["a"])({url:"/admin/coupon/list",method:"post",data:t})}function u(t){return Object(i["a"])({url:"/admin/coupon/addOrUpdate",method:"post",data:t})}function d(t){return Object(i["a"])({url:"/admin/coupon/receiveRecords",method:"post",data:t})}function m(t){return Object(i["a"])({url:"/admin/coupon/delete?couponId="+t,method:"get"})}function p(t){return Object(i["a"])({url:"/admin/coupon/detail",method:"get",params:t})}function f(t){return Object(i["a"])({url:"/admin/coupon/give",method:"post",data:t})}function v(t){return Object(i["a"])({url:"/admin/base/queryPartner",method:"post",data:t})}function y(t){return Object(i["a"])({url:"/admin/base/editPartner",method:"post",data:t})}function b(t){return Object(i["a"])({url:"/admin/base/deletePartner",method:"get",params:t})}function h(t){return Object(i["a"])({url:"/admin/activity/editActivityProduct",method:"post",data:t})}function g(){return Object(i["a"])({url:"/admin/activity/queryActivityProductList",method:"get"})}function P(t){return Object(i["a"])({url:"/admin/activity/shelvesActivityProduct",method:"post",data:t})}function L(t){return Object(i["a"])({url:"/admin/activity/queryActivityOrderList",method:"post",data:t})}function x(t){return Object(i["a"])({url:"/admin/activity/queryActivityOrderDetail?relationOrderSn=".concat(t),method:"get"})}function A(t){return Object(i["a"])({url:"/admin/activity/bindExternalCombo",method:"post",data:t})}function w(t){return Object(i["a"])({url:"/admin/activity/queryExternalComboList",method:"get"})}function C(t){return Object(i["a"])({url:"/admin/activity/deleteExternalCombo",method:"delete",params:{id:t}})}function $(t){return Object(i["a"])({url:"/admin/activity/handleOrderRefund",method:"post",data:t})}},eac5:function(t,e,r){var i=r("861d"),n=Math.floor;t.exports=Number.isInteger||function(t){return!i(t)&&isFinite(t)&&n(t)===t}}}]);