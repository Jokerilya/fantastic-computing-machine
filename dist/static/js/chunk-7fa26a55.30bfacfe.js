(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7fa26a55"],{1067:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"enterpriseWechatList"},[a("first-title",{attrs:{title:"企业微信群列表"}}),a("div",{staticClass:"topTool"},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"群名称:"}},[a("el-input",{staticClass:"toolInput",staticStyle:{width:"120px"},attrs:{placeholder:"支持模糊查询"},model:{value:e.queryEnterpriseWechatListParams.chatName,callback:function(t){e.$set(e.queryEnterpriseWechatListParams,"chatName",t)},expression:"queryEnterpriseWechatListParams.chatName"}})],1),a("el-form-item",{attrs:{label:"业务员:"}},[a("el-select",{staticClass:"toolInput",staticStyle:{width:"120px"},attrs:{filterable:"","remote-method":e.remoteMethod,remote:"",placeholder:"请选择"},model:{value:e.queryEnterpriseWechatListParams.salesmanId,callback:function(t){e.$set(e.queryEnterpriseWechatListParams,"salesmanId",t)},expression:"queryEnterpriseWechatListParams.salesmanId"}},e._l(e.salesmanOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.realName,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"内部联系人昵称:"}},[a("el-input",{staticClass:"toolInput",staticStyle:{width:"120px"},attrs:{placeholder:"支持模糊查询"},model:{value:e.queryEnterpriseWechatListParams.internalUsername,callback:function(t){e.$set(e.queryEnterpriseWechatListParams,"internalUsername",t)},expression:"queryEnterpriseWechatListParams.internalUsername"}})],1),a("el-form-item",{attrs:{label:"业务员绑定状态:"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.queryEnterpriseWechatListParams.bindSalesmanFlag,callback:function(t){e.$set(e.queryEnterpriseWechatListParams,"bindSalesmanFlag",t)},expression:"queryEnterpriseWechatListParams.bindSalesmanFlag"}},[a("el-option",{attrs:{label:"全部",value:null}}),a("el-option",{attrs:{label:"仅查询绑定业务员的群",value:!0}}),a("el-option",{attrs:{label:"仅查询未绑定业务员的群",value:!1}})],1)],1)],1),a("div",[a("el-button",{staticClass:"toolBtn",on:{click:e.searchFn}},[e._v("查询")]),a("el-button",{staticClass:"toolBtn",on:{click:e.resetFn}},[e._v("重置")]),a("el-button",{staticClass:"toolBtn",on:{click:e.batchBindSalesman}},[e._v(" 批量绑定业务员")]),a("el-button",{staticClass:"toolBtn",on:{click:e.handleRepairOrderBind}},[e._v(" 同步维修订单")])],1)],1),a("el-card",[a("div",{staticClass:"customerManagementlList"},[a("el-table",{ref:"customerManagementlListTable",staticStyle:{width:"100%"},attrs:{"cell-style":{"text-align":"center"},data:e.enterpriseWechatList,"header-cell-style":{background:"#f6f8fc",color:"#707070","text-align":"center"}},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{label:"群创建时间",prop:"createTime"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.createTime?a.createTime:"/")+" ")]}}])}),a("el-table-column",{attrs:{label:"企业微信群名称",prop:"chatName"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.chatName?a.chatName:"/")+" ")]}}])}),a("el-table-column",{attrs:{label:"外部联系人昵称",prop:"externalUsername"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.externalUsername?a.externalUsername:"/")+" ")]}}])}),a("el-table-column",{attrs:{label:"内部联系人昵称",prop:"internalUsername"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.internalUsername?a.internalUsername:"/")+" ")]}}])}),a("el-table-column",{attrs:{label:"业务员",prop:"salesmanId"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.salesmanName?a.salesmanName:"/")+" ")]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.openEnterpriseWechatBind(n)}}},[e._v("修改")])]}}])})],1)],1),a("div",{staticClass:"tableContent_footer"},[a("el-pagination",{attrs:{layout:"jumper, prev, pager, next,total","page-size":e.queryEnterpriseWechatListParams.pageSize,total:e.queryEnterpriseWechatListTotal,"current-page":e.queryEnterpriseWechatListParams.pageNo},on:{"current-change":e.currentChangeFn}})],1)]),a("el-dialog",{attrs:{visible:e.enterpriseWechatBindVisible,"before-close":e.closeEnterpriseWechatBind,title:"群绑定业务员","close-on-click-modal":!1,width:"30%"},on:{"update:visible":function(t){e.enterpriseWechatBindVisible=t}}},[a("el-form",[a("el-form-item",{attrs:{label:"绑定群名:"}},[e._v(" "+e._s(e.handleEnterpriseWechatBindParams.chatName)+" ")]),a("el-form-item",{attrs:{label:"业务员:"}},[a("el-select",{attrs:{filterable:"","remote-method":e.remoteMethod,remote:"",placeholder:"请输入业务员"},model:{value:e.handleEnterpriseWechatBindParams.salesmanId,callback:function(t){e.$set(e.handleEnterpriseWechatBindParams,"salesmanId",t)},expression:"handleEnterpriseWechatBindParams.salesmanId"}},e._l(e.salesmanOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.realName,value:e.id}})})),1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.closeEnterpriseWechatBind}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.handleEnterpriseWechatBind}},[e._v("确 定")])],1)],1)],1)},r=[],s=a("1da1"),i=(a("159b"),a("fb6a"),a("96cf"),a("c24f")),l={data:function(){return{enterpriseWechatList:[],queryEnterpriseWechatListParams:{pageNo:1,pageSize:10,chatName:null,salesmanId:null,internalUsername:null,bindSalesmanFlag:null},handleEnterpriseWechatBindParams:{salesmanId:"",chatIds:"",chatName:null},queryEnterpriseWechatListTotal:0,salesmanOptions:[],enterpriseWechatBindVisible:!1}},methods:{searchFn:function(){this.queryEnterpriseWechatListParams.pageNo=1,this.queryEnterpriseWechatList()},handleRepairOrderBind:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(i["j"])();case 2:a=t.sent,"000"==a.code&&(e.$message({message:"操作成功",type:"success"}),e.queryEnterpriseWechatList());case 4:case"end":return t.stop()}}),t)})))()},batchBindSalesman:function(){this.enterpriseWechatBindVisible=!0},resetFn:function(){this.queryEnterpriseWechatListParams={pageNo:1,pageSize:10,chatName:null,salesmanId:null,internalUsername:null,bindSalesmanFlag:null},this.salesmanOptions=[],this.$refs.customerManagementlListTable.clearSelection(),this.queryEnterpriseWechatList()},handleSelectionChange:function(e){if(e.length>0){var t="",a="";e.forEach((function(e){t+=e.id+",",a+=e.chatName+","})),this.handleEnterpriseWechatBindParams.chatIds=t.slice(0,-1),this.handleEnterpriseWechatBindParams.chatName=a.slice(0,-1)}else this.handleEnterpriseWechatBindParams.chatIds="",this.handleEnterpriseWechatBindParams.chatName=null},handleEnterpriseWechatBind:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(i["i"])(e.handleEnterpriseWechatBindParams);case 2:a=t.sent,"000"==a.code&&(e.$message({message:"操作成功",type:"success"}),e.closeEnterpriseWechatBind(),e.queryEnterpriseWechatList(),e.$refs.customerManagementlListTable.clearSelection());case 4:case"end":return t.stop()}}),t)})))()},openEnterpriseWechatBind:function(e){this.enterpriseWechatBindVisible=!0,this.handleEnterpriseWechatBindParams.chatIds=e.id,this.handleEnterpriseWechatBindParams.chatName=e.chatName?e.chatName:"/"},closeEnterpriseWechatBind:function(){this.enterpriseWechatBindVisible=!1,this.handleEnterpriseWechatBindParams={salesmanId:"",chatIds:""}},remoteMethod:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n={pageNo:1,pageSize:999,realName:e},a.next=3,Object(i["t"])(n);case 3:r=a.sent,"000"==r.code&&(t.salesmanOptions=r.data.records);case 5:case"end":return a.stop()}}),a)})))()},currentChangeFn:function(e){this.queryEnterpriseWechatListParams.pageNo=e,this.queryEnterpriseWechatList()},queryEnterpriseWechatList:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(i["r"])(e.queryEnterpriseWechatListParams);case 2:a=t.sent,"000"==a.code&&(e.enterpriseWechatList=a.data.records,e.queryEnterpriseWechatListTotal=a.data.total);case 4:case"end":return t.stop()}}),t)})))()}},created:function(){this.queryEnterpriseWechatList()}},c=l,o=(a("ea88"),a("2877")),u=Object(o["a"])(c,n,r,!1,null,"02e62db6",null);t["default"]=u.exports},"2c8c":function(e,t,a){},c24f:function(e,t,a){"use strict";a.d(t,"g",(function(){return r})),a.d(t,"t",(function(){return s})),a.d(t,"k",(function(){return i})),a.d(t,"a",(function(){return l})),a.d(t,"u",(function(){return c})),a.d(t,"d",(function(){return o})),a.d(t,"n",(function(){return u})),a.d(t,"f",(function(){return d})),a.d(t,"e",(function(){return m})),a.d(t,"c",(function(){return h})),a.d(t,"v",(function(){return p})),a.d(t,"l",(function(){return f})),a.d(t,"m",(function(){return b})),a.d(t,"p",(function(){return y})),a.d(t,"q",(function(){return W})),a.d(t,"o",(function(){return E})),a.d(t,"h",(function(){return g})),a.d(t,"b",(function(){return v})),a.d(t,"s",(function(){return L})),a.d(t,"r",(function(){return q})),a.d(t,"i",(function(){return O})),a.d(t,"j",(function(){return B}));var n=a("b775");a("cb5c");function r(e){return Object(n["a"])({url:"/admin/maintenance/handleCommission",method:"post",data:e})}function s(e){return Object(n["a"])({url:"/admin/business/querySalesmanList",method:"post",data:e})}function i(e){return Object(n["a"])({url:"/admin/business/handleSalesmanChatMapperBind",method:"post",data:e})}function l(e){return Object(n["a"])({url:"/admin/maintenance/bindUserAccount",method:"post",data:e})}function c(e){return Object(n["a"])({url:"/admin/userInfo/queryUserInfo",method:"post",data:e})}function o(e){return Object(n["a"])({url:"/admin/maintenance/queryMasterList",method:"get",params:e})}function u(e){return Object(n["a"])({url:"/admin/maintenance/queryAssignableMasterList",method:"post",data:e})}function d(e){return Object(n["a"])({url:"/admin/maintenance/handleAssignMaster",method:"post",data:e})}function m(e){return Object(n["a"])({url:"/admin/maintenance/getRepairOrderDetail",method:"get",params:e})}function h(e){return Object(n["a"])({url:"/admin/maintenance/queryEnterpriseList",method:"post",data:e})}function p(e){return Object(n["a"])({url:"/admin/userInfo/queryWithdrawal",method:"post",data:e})}function f(e){return Object(n["a"])({url:"/admin/userInfo/handleWithdrawalExamine",method:"post",data:e})}function b(e){return Object(n["a"])({url:"/admin/userInfo/handleWithdrawalExport",method:"post",responseType:"blob",data:e})}function y(e){return Object(n["a"])({url:"/admin/business/queryCustomerPool",method:"post",data:e})}function W(e){return Object(n["a"])({url:"/admin/business/queryCustomerVisitList",method:"post",data:e})}function E(e){return Object(n["a"])({url:"/admin/business/queryCustomerApplyVisitList",method:"post",data:e})}function g(e){return Object(n["a"])({url:"/admin/business/handleCustomerApplyVisit",method:"post",data:e})}function v(e){return Object(n["a"])({url:"/admin/userInfo/getAccountMoney?uid="+e,method:"get"})}function L(e){return Object(n["a"])({url:"/admin/userInfo/queryMoneyList",method:"post",data:e})}function q(e){return Object(n["a"])({url:"/admin/business/queryEnterpriseWechatList",method:"post",data:e})}function O(e){return Object(n["a"])({url:"/admin/business/handleEnterpriseWechatBind",method:"post",data:e})}function B(){return Object(n["a"])({url:"/admin/business/handleRepairOrderBind",method:"post"})}},ea88:function(e,t,a){"use strict";a("2c8c")}}]);