(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-576135b8"],{"0cce":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content_box"},[a("first-title",{attrs:{title:"菜单管理"}}),a("el-row",{staticStyle:{"margin-top":"10px"},attrs:{gutter:10}},[a("el-col",{attrs:{xs:6,sm:4,md:4,lg:4,xl:4}},[a("div",{staticClass:"el_tree"},[a("el-button",{staticStyle:{width:"100%","margin-bottom":"15px"},attrs:{type:"primary",size:"medium"},on:{click:t.addDataFn}},[a("i",{staticClass:"el-icon-plus"}),t._v("添加菜单")]),a("el-button",{staticStyle:{width:"100%","margin-bottom":"15px","margin-left":"0"},attrs:{type:"primary",size:"medium"},on:{click:t.backRootFn}},[a("i",{staticClass:"el-icon-d-arrow-left"}),t._v("返回根菜单")]),a("el-tree",{attrs:{accordion:"",data:t.menuTreeList,props:t.defaultProps},on:{"node-click":t.handleNodeClick},scopedSlots:t._u([{key:"default",fn:function(e){e.node;var i=e.data;return a("span",{},[t._v(t._s(i.name)+"(ID:"+t._s(i.id)+")")])}}])})],1)]),a("el-col",{attrs:{xs:18,sm:20,md:20,lg:20,xl:20}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.dataConfig.loading,expression:"dataConfig.loading"}],staticClass:"list",staticStyle:{"margin-top":"0px","min-height":"800px",padding:"15px"},attrs:{border:"",data:t.dataList}},[a("el-table-column",{attrs:{label:"菜单ID",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.id))])]}}])}),a("el-table-column",{attrs:{label:"父级ID",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.parentId))])]}}])}),a("el-table-column",{attrs:{label:"菜单名称",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.name))])]}}])}),a("el-table-column",{attrs:{label:"授权标识",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.authValue))])]}}])}),a("el-table-column",{attrs:{label:"菜单类型",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(0==e.row.type?"菜单":"按钮"))])]}}])}),a("el-table-column",{attrs:{label:"URL",width:"240"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.url))])]}}])}),a("el-table-column",{attrs:{label:"描述",width:"240",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.description))])]}}])}),a("el-table-column",{attrs:{label:"操作",width:"120px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return t.editDataFn(e.row)}}},[t._v("编辑")])]}}])})],1),a("div",{staticClass:"el_pagination"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next,total,sizes","current-page":t.dataConfig.pageNo,total:t.dataConfig.total,"page-sizes":[20,30,40,50]},on:{"current-change":t.currentChangeFn,"size-change":t.handleSizeChange}})],1)],1)],1),a("el-dialog",{attrs:{title:"添加/编辑菜单",visible:t.dialogVisible,width:"800px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("div",[a("el-form",{ref:"form",attrs:{model:t.editData,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"菜单名称"}},[a("el-input",{model:{value:t.editData.name,callback:function(e){t.$set(t.editData,"name",e)},expression:"editData.name"}})],1),a("el-form-item",{attrs:{label:"菜单类型"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.editData.type,callback:function(e){t.$set(t.editData,"type",e)},expression:"editData.type"}},t._l(t.menuType,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a("el-form-item",{attrs:{label:"菜单URL"}},[a("el-input",{model:{value:t.editData.url,callback:function(e){t.$set(t.editData,"url",e)},expression:"editData.url"}})],1),a("el-form-item",{attrs:{label:"描述"}},[a("el-input",{model:{value:t.editData.description,callback:function(e){t.$set(t.editData,"description",e)},expression:"editData.description"}})],1),a("el-form-item",{attrs:{label:"授权标识"}},[a("el-input",{model:{value:t.editData.authValue,callback:function(e){t.$set(t.editData,"authValue",e)},expression:"editData.authValue"}})],1),a("el-form-item",{attrs:{label:"菜单ID"}},[a("el-input",{attrs:{disabled:"disabled"},model:{value:t.editData.id,callback:function(e){t.$set(t.editData,"id",e)},expression:"editData.id"}})],1),a("el-form-item",{attrs:{label:"父级ID"}},[a("el-input",{model:{value:t.editData.parentId,callback:function(e){t.$set(t.editData,"parentId",e)},expression:"editData.parentId"}})],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.submitFn}},[t._v("确 定")])],1)])],1)},n=[],l=a("2909"),s=a("5530"),o=(a("a434"),a("99af"),a("8593")),r=a("2f62"),u={name:"SetupMenu",data:function(){return{dataList:[],dialogVisible:!1,pid:0,editData:{authValue:"",description:"",icon:"",id:"",name:"",parentId:"",type:"",url:""},menuType:[{value:0,label:"菜单"},{value:1,label:"按钮"}],dataConfig:{pageNo:1,pageSize:50,total:0,loading:!0},defaultProps:{children:"children",label:"name"}}},beforeMount:function(){this["user/actionMenulist"]({menuType:0}),this.menuListFn()},computed:Object(s["a"])({},Object(r["c"])(["menuTreeList"])),methods:Object(s["a"])(Object(s["a"])({},Object(r["b"])(["user/actionMenulist"])),{},{submitFn:function(){var t=this;Object(o["o"])(Object.assign({},this.editData)).then((function(e){var a=t.resDataFn(e);"000"==a&&(t.$message({showClose:!0,message:"操作成功！",type:"success"}),t.dialogVisible=!1,t.menuListFn(),t["user/actionMenulist"]({menuType:0}))}))},editDataFn:function(t){this.dialogVisible=!0,this.editData=Object.assign({},this.editData,t)},addDataFn:function(){this.dialogVisible=!0,this.editData={authValue:"",description:"",icon:"",id:"",name:"",parentId:"",type:"",url:""}},handleNodeClick:function(t){console.log(t),this.dataConfig={pageNo:1,pageSize:50,total:0,loading:!0},this.pid=t.id,this.menuListFn()},menuTreeListFn:function(){var t=this;Object(o["r"])({id:0}).then((function(e){var a,i=t.resDataFn(e);(a=t.menuTreeList).splice.apply(a,[0,t.menuTreeList.length].concat(Object(l["a"])(i)))}))},deleteFn:function(t){var e=this;this.deleteAlert().then((function(){var e=Object(o["q"])({menuId:t.row.id});return e})).then((function(a){var i=e.resDataFn(a);"000"==i&&(e.$message({showClose:!0,message:"操作成功！",type:"success"}),e.dataList.splice(t.$index,1))}))},handleSizeChange:function(t){this.dataConfig.pageSize=t,this.menuListFn()},currentChangeFn:function(t){this.dataConfig.pageNo=t,this.menuListFn()},backRootFn:function(){this.dataConfig.pageNo=1,this.dataConfig.pageSize=20,this.pid=0,this.menuListFn()},menuListFn:function(){var t=this;Object(o["p"])({name:"",pageNo:this.dataConfig.pageNo,pageSize:this.dataConfig.pageSize,parentId:this.pid}).then((function(e){var a,i=t.resDataFn(e);(a=t.dataList).splice.apply(a,[0,t.dataList.length].concat(Object(l["a"])(i.records))),t.dataConfig.total=i.total}))}})},d=u,c=(a("e933"),a("2877")),p=Object(c["a"])(d,i,n,!1,null,null,null);e["default"]=p.exports},e805:function(t,e,a){},e933:function(t,e,a){"use strict";a("e805")}}]);