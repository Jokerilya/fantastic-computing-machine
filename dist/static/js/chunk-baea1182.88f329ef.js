(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-baea1182"],{"17eb":function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"g",(function(){return i})),a.d(t,"i",(function(){return s})),a.d(t,"a",(function(){return o})),a.d(t,"j",(function(){return l})),a.d(t,"n",(function(){return c})),a.d(t,"k",(function(){return u})),a.d(t,"f",(function(){return d})),a.d(t,"d",(function(){return m})),a.d(t,"l",(function(){return p})),a.d(t,"m",(function(){return f})),a.d(t,"h",(function(){return g})),a.d(t,"e",(function(){return v})),a.d(t,"c",(function(){return h}));var r=a("b775");function n(e){return Object(r["a"])({url:"/admin/maintenance/proxy/handleEnterpriseCheck?orderSn="+e,method:"GET"})}function i(e){return Object(r["a"])({url:"/admin/maintenance/proxy/handleProxyConfirmQuotation",method:"post",data:e})}function s(e){return Object(r["a"])({url:"/admin/maintenance/proxy/handleProxyPayment?orderSn="+e,method:"get"})}function o(e){return Object(r["a"])({url:"/admin/maintenance/proxy/handleBatchProxyPayment",method:"post",data:e})}function l(e){return Object(r["a"])({url:"/admin/maintenance/proxy/handleReleaseComment",method:"post",data:e})}function c(e){return Object(r["a"])({url:"/admin/maintenance/proxy/handleTakeOrder",method:"post",data:e})}function u(e){return Object(r["a"])({url:"/admin/maintenance/proxy/handleRemindStarted",method:"post",data:e})}function d(e){return Object(r["a"])({url:"/admin/maintenance/proxy/handlePhotographPunch",method:"post",data:e})}function m(e){return Object(r["a"])({url:"/admin/maintenance/proxy/handleMasterQuotation",method:"post",data:e})}function p(e){return Object(r["a"])({url:"/admin/maintenance/proxy/handleStartService?orderSn="+e,method:"get"})}function f(e){return Object(r["a"])({url:"/admin/maintenance/proxy/handleSubmitAcceptance",method:"post",data:e})}function g(e){return Object(r["a"])({url:"/admin/maintenance/proxy/handleProxyCreateOrder",method:"post",data:e})}function v(e){return Object(r["a"])({url:"/admin/maintenance/proxy/handleOnlineOrder?orderSn="+e,method:"get"})}function h(e){return Object(r["a"])({url:"/admin/maintenance/proxy/handleEnterpriseNegotiatedPrice",method:"post",data:e})}},"2aa9":function(e,t,a){"use strict";a("5849")},"4ec9":function(e,t,a){a("6f48")},"4fad":function(e,t,a){var r=a("d039"),n=a("861d"),i=a("c6b6"),s=a("d86b"),o=Object.isExtensible,l=r((function(){o(1)}));e.exports=l||s?function(e){return!!n(e)&&((!s||"ArrayBuffer"!=i(e))&&(!o||o(e)))}:o},5849:function(e,t,a){},"5add":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{ref:"maintenanceOrderDesc",staticClass:"maintenanceOrderDesc"},[e.masterOrderTrackList.length>0?r("el-card",[r("div",{staticClass:"statusListBox"},[r("div",{staticClass:"goLeftBtn",on:{click:e.scrollLeft}},[r("el-image",{attrs:{src:"https://res.bangwo8.com/osp2016/images/ui/arrow_left_0.svg?v=a556e390"}})],1),r("div",{staticClass:"goRightBtn",on:{click:e.scrollRight}},[r("el-image",{attrs:{src:"https://res.bangwo8.com/osp2016/images/ui/arrow_right_0.svg?v=a23798a7"}})],1),r("div",{staticClass:"statusList"},[r("div",{ref:"statusListFlex",staticClass:"statusListFlex"},e._l(e.masterOrderTrackList[e.chooseMaster],(function(t,a){return r("div",{key:t.subStatus,staticClass:"statusItem",style:{backgroundColor:a==e.masterOrderTrackList[e.chooseMaster].length-1?"#59a2f4":"#fff",color:a==e.masterOrderTrackList[e.chooseMaster].length-1?"#fff":"#000"}},[r("div",[e._v(e._s(t.title))]),r("div",[e._v(e._s(t.createTime))]),a!=e.masterOrderTrackList[e.chooseMaster].length-1?r("div",{staticClass:"statusItem_rightLing",style:{backgroundColor:a==e.masterOrderTrackList[e.chooseMaster].length-1?"#59a2f4":"#fff"}}):e._e()])})),0)])])]):e._e(),r("div",{staticClass:"orderInfo"},[r("el-card",{staticStyle:{flex:"1","margin-right":"10px"}},[r("el-tabs",{model:{value:e.leftTabActiveName,callback:function(t){e.leftTabActiveName=t},expression:"leftTabActiveName"}},[r("el-tab-pane",{attrs:{label:"企业信息",name:"企业信息"}},[r("div",{staticClass:"mainOrderInfo"},[r("div",{staticClass:"mainOrderInfo_item"},[r("div",{staticClass:"label"},[e._v("企业订单号")]),r("div",{staticClass:"value",staticStyle:{display:"flex","justify-content":"space-between","align-items":"center"}},[r("div",{style:{color:e.orderDetail.orderSn.includes("-F-")?"#f56c6c":"#000"}},[e._v(" "+e._s(e.orderDetail.orderSn)+" ")]),r("div",{staticStyle:{color:"#409eff",cursor:"pointer"},on:{click:e.copyOrderInfo}},[e._v(" 复制 ")])])]),e.orderDetail.timeoutFlag?r("div",{staticClass:"mainOrderInfo_item",staticStyle:{color:"red"}},[r("div",{staticClass:"label"},[e._v("超时状态")]),r("div",{staticClass:"value"},[e._v(" "+e._s("2001"==e.orderDetail.timeoutFlag?"指派超时":"2101"==e.orderDetail.timeoutFlag?"接单超时":"2201"==e.orderDetail.timeoutFlag?"打卡超时":"2301"==e.orderDetail.timeoutFlag?"服务中超时":"3001"==e.orderDetail.timeoutFlag?"派发->接单超时 ":"/")+" ")])]):e._e(),r("div",{staticClass:"mainOrderInfo_item"},[r("div",{staticClass:"label"},[e._v("订单类型")]),r("div",{staticClass:"value",staticStyle:{display:"flex","align-items":"center"}},[r("div",[e._v(" "+e._s(1==e.orderDetail.orderType?"散单":2==e.orderDetail.orderType?"年保":"年卡")+" ")]),e.orderDetail.label?r("div",{staticStyle:{color:"red","margin-left":"5px"}},[e._v(" 【"+e._s(e.orderDetail.label)+"】 ")]):e._e()])]),r("div",{staticClass:"mainOrderInfo_item"},[r("div",{staticClass:"label"},[e._v("下单时间")]),r("div",{staticClass:"value"},[e._v(e._s(e.orderDetail.createTime))])]),r("div",{staticClass:"mainOrderInfo_item"},[r("div",{staticClass:"label"},[e._v("下单人")]),r("div",{staticClass:"value"},[e._v(" "+e._s(e.orderDetail.createPeople?e.orderDetail.createPeople:"无")+" ")])]),r("div",{staticClass:"mainOrderInfo_item"},[r("div",{staticClass:"label"},[e._v("负责人")]),r("div",{staticClass:"value"},[e._v(" "+e._s(e.orderDetail.operationPeople?e.orderDetail.operationPeople:"无")+" ")])]),r("div",{staticClass:"mainOrderInfo_item"},[r("div",{staticClass:"label"},[e._v("业务员")]),r("div",{staticClass:"value"},[e._v(" "+e._s(e.orderDetail.salesmanName?e.orderDetail.salesmanName:"未绑定")+" ")])]),r("div",{staticClass:"mainOrderInfo_item"},[r("div",{staticClass:"label"},[e._v("期望时间")]),r("div",{staticClass:"value"},[e._v(e._s(e.orderDetail.serviceTime))])]),r("div",{staticClass:"mainOrderInfo_item"},[r("div",{staticClass:"label"},[e._v("期望时间")]),r("div",{staticClass:"value"},[e._v(" "+e._s(1==e.orderDetail.degree?"一般":2==e.orderDetail.degree?"紧急":"常规")+" ")])]),r("div",{staticClass:"mainOrderInfo_item"},[r("div",{staticClass:"label"},[e._v("故障部位")]),r("div",{staticClass:"value"},[e._v(e._s(e.orderDetail.position))])]),r("div",{staticClass:"mainOrderInfo_item"},[r("div",{staticClass:"label"},[e._v("故障描述")]),r("div",{staticClass:"value"},[e._v(e._s(e.orderDetail.simpleDesc))])]),r("div",{staticClass:"mainOrderInfo_item"},[r("div",{staticClass:"label"},[e._v("故障视图")]),e.orderDetail.pictureList&&e.orderDetail.pictureList.length>0?r("div",{staticClass:"value",staticStyle:{color:"#409eff",cursor:"pointer"},on:{click:function(t){return e.goToVideoUrl(e.orderDetail.videoList?e.orderDetail.videoList[0]:null)}}},[e._v(" 查看视图 "),e.orderDetail.pictureList&&e.orderDetail.pictureList.length>0?r("el-image",{staticClass:"previewImg",attrs:{src:e.orderDetail.pictureList[0],"preview-src-list":e.orderDetail.pictureList}}):e._e()],1):r("div",[e._v("未上传故障视图")])]),e.orderDetail.onlineAcceptanceNonePriceFile||e.orderDetail.onlineAcceptanceFile?r("div",{staticClass:"mainOrderInfo_item"},[r("div",{staticClass:"label"},[e._v("验收凭证")]),e.orderDetail.onlineAcceptanceFile?r("div",{staticClass:"value",staticStyle:{color:"#409eff",cursor:"pointer"},on:{click:function(t){return e.goToVideoUrl(e.orderDetail.onlineAcceptanceFile)}}},[e._v(" 验收单(有价版) ")]):e._e(),e.orderDetail.onlineAcceptanceNonePriceFile?r("div",{staticClass:"value",staticStyle:{color:"#409eff",cursor:"pointer"},on:{click:function(t){return e.goToVideoUrl(e.orderDetail.onlineAcceptanceNonePriceFile)}}},[e._v(" 验收单(无价版) ")]):e._e()]):e._e(),r("div",{staticClass:"mainOrderInfo_item"},[r("div",{staticClass:"label"},[e._v("故障类型")]),r("div",{staticClass:"value"},[e._v(" "+e._s(e.orderDetail.type)+" ")])]),e.orderDetail.warrantyTime?r("div",{staticClass:"mainOrderInfo_item"},[r("div",{staticClass:"label"},[e._v("质保时间")]),r("div",{staticClass:"value",staticStyle:{color:"#409eff",cursor:"pointer"},on:{click:function(t){return e.openEditWarrantyPeriodDialog(e.orderDetail)}}},[e._v(" "+e._s(e.orderDetail.warrantyTime)+"天"),e.orderDetail.warrantyEndTime?r("span",[e._v("("+e._s(e.orderDetail.warrantyEndTime)+")")]):e._e()])]):e._e(),r("div",{staticClass:"mainOrderInfo_item"}),r("div",{staticClass:"mainOrderInfo_item"},[r("div",{staticClass:"label"},[e._v("设备编号")]),r("div",{staticClass:"value"},[e._v(" "+e._s(e.orderDetail.no?e.orderDetail.no:"无")+" ")])]),r("div",{staticClass:"mainOrderInfo_item"},[r("div",{staticClass:"label"},[e._v("设备产地")]),r("div",{staticClass:"value"},[e._v(" "+e._s(e.orderDetail.devicePlace?e.orderDetail.devicePlace:"无")+" ")])]),r("div",{staticClass:"mainOrderInfo_item"},[r("div",{staticClass:"label"},[e._v("设备类型")]),r("div",{staticClass:"value"},[e._v(" "+e._s(e.orderDetail.deviceTypeName?e.orderDetail.deviceTypeName:"无")+" ")])]),r("div",{staticClass:"mainOrderInfo_item"},[r("div",{staticClass:"label"},[e._v("设备品牌")]),r("div",{staticClass:"value"},[e._v(" "+e._s(e.orderDetail.deviceBrand?e.orderDetail.deviceBrand:"无")+" ")])]),r("div",{staticClass:"mainOrderInfo_item"},[r("div",{staticClass:"label"},[e._v("设备数量")]),r("div",{staticClass:"value"},[e._v(" "+e._s(e.orderDetail.num?e.orderDetail.num:"1")+"台 ")])]),r("div",{staticClass:"mainOrderInfo_item"},[r("div",{staticClass:"label"},[e._v("设备系统")]),r("div",{staticClass:"value"},[e._v(" "+e._s(e.orderDetail.deviceSystemName?e.orderDetail.deviceSystemName:"无")+" ")])]),r("div",{staticClass:"mainOrderInfo_item"},[r("div",{staticClass:"label"},[e._v("企业设备编号")]),r("div",{staticClass:"value"},[e._v(" "+e._s(e.orderDetail.enterpriseDeviceNo?e.orderDetail.enterpriseDeviceNo:"无")+" ")])]),r("div",{staticClass:"mainOrderInfo_item"},[r("div",{staticClass:"label"},[e._v("企业设备位置")]),r("div",{staticClass:"value"},[e._v(" "+e._s(e.orderDetail.enterpriseDevicePosition?e.orderDetail.enterpriseDevicePosition:"无")+" ")])]),r("div",{staticClass:"mainOrderInfo_item"},[r("div",{staticClass:"label"},[e._v("设备型号")]),r("div",{staticClass:"value"},[e._v(" "+e._s(e.orderDetail.deviceModel?e.orderDetail.deviceModel:"无")+" ")])]),r("div",{staticClass:"mainOrderInfo_item"},[r("div",{staticClass:"label"},[e._v("出厂时间")]),r("div",{staticClass:"value"},[e._v(" "+e._s(e.orderDetail.factoryTime?e.orderDetail.factoryTime:"无")+" ")])]),r("div",{staticClass:"mainOrderInfo_item"},[r("div",{staticClass:"label"},[e._v("企业名称")]),r("div",{staticClass:"value"},[e._v(" "+e._s(e.orderDetail.enterpriseName?e.orderDetail.enterpriseName:"无")+" ")])]),r("div",{staticClass:"mainOrderInfo_item"},[r("div",{staticClass:"label"},[e._v("联系人员")]),r("div",{staticClass:"value"},[e._v(" "+e._s(e.orderDetail.contactsPeople?e.orderDetail.contactsPeople:"无")+" ")])]),r("div",{staticClass:"mainOrderInfo_item"},[r("div",{staticClass:"label"},[e._v("联系电话")]),r("div",{staticClass:"value"},[e._v(" "+e._s(e.orderDetail.phone?e.orderDetail.phone:"无")+" ")])]),r("div",{staticClass:"mainOrderInfo_item"},[r("div",{staticClass:"label"},[e._v("联系地址")]),r("div",{staticClass:"value"},[e._v(" "+e._s(e.orderDetail.address?e.orderDetail.address:"无")+" ")])]),r("div",{staticClass:"mainOrderInfo_item"}),r("div",{staticClass:"mainOrderInfo_item"},[r("div",{staticClass:"label"},[e._v("人工费")]),r("div",{staticClass:"value"},[e._v(" "+e._s(e.orderDetail.doorAmount?e.orderDetail.doorAmount:0)+"元 "),e.orderDetail.enterpriseSubStatus>=2401&&e.orderDetail.enterpriseSubStatus<2601?r("span",{staticStyle:{"margin-left":"10px",color:"#409eff",cursor:"pointer","font-weight":"400"},on:{click:function(t){return e.openSinglePartyNegotiationDialog(e.orderDetail.orderSn)}}},[e._v("单方议价")]):e._e()])]),r("div",{staticClass:"mainOrderInfo_item"},[r("div",{staticClass:"label"},[e._v("配件费")]),r("div",{staticClass:"value"},[e._v(" "+e._s(e.orderDetail.partsAmount?e.orderDetail.partsAmount:0)+"元 ")])]),e.orderDetail.invoiceAmount>0?r("div",{staticClass:"mainOrderInfo_item"},[r("div",{staticClass:"label"},[e._v("含税金额")]),r("div",{staticClass:"value"},[e._v(" +"+e._s(e.orderDetail.invoiceAmount?e.orderDetail.invoiceAmount:0)+"元 ")])]):e._e(),r("div",{staticClass:"mainOrderInfo_item"},[r("div",{staticClass:"label"},[e._v("优惠减免")]),r("div",{staticClass:"value",staticStyle:{color:"#409eff"}},[e.orderDetail.discountAmount>0?r("div",{staticStyle:{display:"flex"},style:{cursor:e.orderDetail.enterpriseSubStatus<2601?"pointer":""}},[r("div",{on:{click:e.openUseDiscountDialog}},[e._v(" -"+e._s(e.orderDetail.discountAmount?e.orderDetail.discountAmount:0)+"元 ["+e._s(e.orderDetail.couponName)+"] ")]),r("span",{staticStyle:{"margin-left":"6px",color:"red"},on:{click:e.resetOrderDiscount}},[e._v("重置")])]):r("div",{staticStyle:{"font-weight":"400"},style:{cursor:e.orderDetail.enterpriseSubStatus<2601?"pointer":""},on:{click:e.openUseDiscountDialog}},[e._v(" 未使用优惠 ")])])]),r("div",{staticClass:"mainOrderInfo_item",staticStyle:{"font-weight":"700"}},[r("div",{staticClass:"label"},[e._v("企业应付")]),r("div",{staticClass:"value"},[e._v(" "+e._s(e.orderDetail.payAmount?e.orderDetail.payAmount:0)+"元 "),3==e.orderDetail.orderType?r("span",[e._v("(年卡订单包人工不包配件)")]):e._e()])])])])],1)],1),r("el-card",{staticStyle:{flex:"4"}},[r("el-tabs",{on:{"tab-click":e.changeTabActiveName},model:{value:e.rightTabActiveName,callback:function(t){e.rightTabActiveName=t},expression:"rightTabActiveName"}},[e._l(e.orderDetail.enrollRepairOrderOutList,(function(t,n){return r("el-tab-pane",{key:t.uid,attrs:{name:t.orderSn}},[r("template",{slot:"label"},[r("div",{staticStyle:{display:"flex","align-items":"center",gap:"3px"}},[e.orderDetail.enrollRepairOrderOutList.length>1?r("span",[e._v(e._s(0==n?"①":1==n?"②":2==n?"③":3==n?"④":"⑤"))]):e._e(),r("span",[e._v(e._s(t.realName))])])]),r("div",{staticClass:"masterOrderInfo"},[r("div",{staticClass:"mainOrderInfo_item"},[r("div",{staticClass:"label",staticStyle:{"margin-top":"3px"}},[e._v("师傅订单号")]),r("div",{staticClass:"value"},[e._v(" "+e._s(t.orderSn)),t.statusFlag?r("el-tag",{staticStyle:{"margin-left":"8px"},attrs:{type:1==t.statusFlag?"success":"danger",size:"mini"}},[e._v(e._s(1==t.statusFlag?"再次上门维修":"订单挂起"))]):e._e()],1)]),r("div",{staticClass:"mainOrderInfo_item"},[r("div",{staticClass:"label"},[e._v("师傅名称")]),r("div",{staticClass:"value"},[e._v(" "+e._s(t.realName)+"（"+e._s(t.masterTypeName)+"） ")])]),r("div",{staticClass:"mainOrderInfo_item"},[r("div",{staticClass:"label"},[e._v("联系电话")]),r("div",{staticClass:"value"},[e._v(e._s(t.phone))])]),t.punchTime?r("div",{staticClass:"mainOrderInfo_item"},[r("div",{staticClass:"label"},[e._v("打卡时间")]),r("div",{staticClass:"value"},[e._v(e._s(t.punchTime))])]):e._e(),t.punchImages&&t.punchImages.length>0?r("div",{staticClass:"mainOrderInfo_item"},[r("div",{staticClass:"label"},[e._v("打卡图片")]),r("div",{staticClass:"value",staticStyle:{color:"#409eff",cursor:"pointer"}},[e._v(" 查看图片 "),r("el-image",{staticClass:"previewImg",attrs:{src:t.punchImages[0],"preview-src-list":t.punchImages}})],1)]):e._e(),r("div",{staticClass:"mainOrderInfo_item",style:{color:1==t.dataExamineStatus?"#e6a23c":2==t.dataExamineStatus?"":3==t.dataExamineStatus?"red":""}},[r("div",{staticClass:"label"},[e._v("现场故障描述")]),r("div",{staticClass:"value"},[e._v(" "+e._s(t.faultDescription?t.faultDescription:"无")+" ")])]),r("div",{staticClass:"mainOrderInfo_item",style:{color:1==t.dataExamineStatus?"#e6a23c":2==t.dataExamineStatus?"":3==t.dataExamineStatus?"red":""}},[r("div",{staticClass:"label"},[e._v("处理过程")]),r("div",{staticClass:"value"},[e._v(" "+e._s(t.handleProcess?t.handleProcess:"无")+" ")])]),3==t.dataExamineStatus&&t.dataExamineResult?r("div",{staticClass:"mainOrderInfo_item",staticStyle:{color:"red"}},[r("div",{staticClass:"label"},[e._v("驳回原因")]),r("div",{staticClass:"value"},[e._v(" "+e._s(t.dataExamineResult)+" ")])]):e._e(),t.completeImages&&t.completeImages.length>0?r("div",{staticClass:"mainOrderInfo_item"},[r("div",{staticClass:"label"},[e._v("完工照片")]),r("div",{staticClass:"value",staticStyle:{color:"#409eff",cursor:"pointer"}},[e._v(" 查看图片 "),r("el-image",{staticClass:"previewImg",attrs:{src:t.completeImages[0],"preview-src-list":t.completeImages}})],1)]):e._e(),r("div",{staticClass:"mainOrderInfo_item"},[r("div",{staticClass:"label"},[e._v("有效单量")]),r("div",{staticClass:"value"},[e._v(" "+e._s(t.validOrderNum?t.validOrderNum:1)+"单 ")])]),t.repairComment?r("div",{staticClass:"mainOrderInfo_item"},[r("div",{staticClass:"label"},[e._v("企业评分:")]),r("div",{staticClass:"value"},[e._v(" "+e._s(2==t.repairComment.comprehensiveScore?"太赞了":0==t.repairComment.comprehensiveScore?"一般般":"很糟糕")+" ")])]):e._e(),t.repairComment&&t.repairComment.content?r("div",{staticClass:"mainOrderInfo_item"},[r("div",{staticClass:"label"}),r("div",{staticClass:"value"},[e._v(" "+e._s(t.repairComment.content)+" ")])]):e._e(),t.repairComment&&t.repairComment.labels?r("div",{staticClass:"mainOrderInfo_item"},[r("div",{staticClass:"label"}),r("div",{staticClass:"value"},e._l(t.repairComment.labels,(function(a){return r("el-tag",{key:a,staticStyle:{"margin-right":"15px"},attrs:{type:2==t.repairComment.comprehensiveScore?"":0==t.repairComment.comprehensiveScore?"info":"danger"}},[e._v(e._s(a))])})),1)]):e._e(),r("div",{staticClass:"mainOrderInfo_item"}),r("div",{staticClass:"mainOrderInfo_item",staticStyle:{"align-items":"center"}},[r("div",{staticClass:"label"},[e._v("故障项目")]),r("div",{staticClass:"value"},[r("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.openAddFaultDialog(t.orderSn,t.isDateAfter20250301Val)}}},[e._v(" 新增故障项目 ")])],1)]),r("div",{staticClass:"mainOrderInfo_item"},[r("div",{staticClass:"label"}),r("div",{staticClass:"value"},[r("el-table",{key:Math.random(),staticStyle:{width:"60vw"},attrs:{data:t.faults,border:"","cell-style":{fontSize:"12px"},"header-row-style":{fontSize:"12px"}}},[r("el-table-column",{attrs:{label:"故障编码",prop:"code",align:"center",width:"70"}}),r("el-table-column",{attrs:{width:"70",label:"机床类型",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(1==a.machineType?"加工中心":"数控车床")+" ")]}}],null,!0)}),r("el-table-column",{attrs:{width:"110",label:"故障部位",prop:"position",align:"center"}}),r("el-table-column",{attrs:{label:"故障描述",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[r("div",[e._v(e._s(a.simpleDesc))]),a.previousMasterFlag?r("div",{staticStyle:{color:"red"}},[e._v(" (前师傅转移) ")]):e._e()]}}],null,!0)}),t.isDateAfter20250301Val?r("el-table-column",{key:"区间浮动价",attrs:{label:"区间浮动价",align:"center",width:"90"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.generalAmount+"~"+a.annualAmount)+" ")]}}],null,!0)}):e._e(),t.isDateAfter20250301Val?r("el-table-column",{key:"师傅提交价格",attrs:{label:"师傅提交价格",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.masterConsultAmount?a.masterConsultAmount:0)+" ")]}}],null,!0)}):e._e(),t.isDateAfter20250301Val?e._e():r("el-table-column",{key:"师傅价格",attrs:{label:"师傅价格",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.masterAmount?a.masterAmount:"0")+" ")]}}],null,!0)}),1==e.orderDetail.orderType||t.isDateAfter20250301Val?e._e():r("el-table-column",{key:"年保企业价格",attrs:{label:"年保企业价格",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.annualAmount)+" ")]}}],null,!0)}),1!=e.orderDetail.orderType||t.isDateAfter20250301Val?e._e():r("el-table-",{key:"散单企业价格",attrs:{width:"100",label:"散单企业价格",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.generalAmount)+" ")]}}],null,!0)}),t.isDateAfter20250301Val?e._e():r("el-table-column",{key:"师傅协商价格",attrs:{width:"100",label:"师傅协商价格",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.masterConsultAmount?a.masterConsultAmount:0)+" ")]}}],null,!0)}),t.isDateAfter20250301Val?e._e():r("el-table-column",{key:"企业协商价格",attrs:{width:"100",label:"企业协商价格",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.enterpriseConsultAmount?a.enterpriseConsultAmount:0)+" ")]}}],null,!0)}),r("el-table-column",{attrs:{width:"80",label:"故障视频",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[a.image&&a.image[1]?r("el-button",{attrs:{size:"small",type:"text"},on:{click:function(t){return e.goToVideoUrl(a.image[1])}}},[e._v("查看视频")]):r("div",[e._v("无")])]}}],null,!0)}),r("el-table-column",{attrs:{width:"100",label:"故障图片",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[a.image&&a.image[0]?r("el-image",{staticStyle:{width:"40px",height:"40px","margin-right":"20px"},attrs:{src:a.image[0],"preview-src-list":[a.image[0]]}}):r("div",[e._v("无")])]}}],null,!0)}),r("el-table-column",{attrs:{width:"150",label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){var i=a.row;return[r("el-button",{attrs:{type:"text"},on:{click:function(a){return e.openExamineFaultsDialog(i,t.orderSn,t.isDateAfter20250301Val)}}},[e._v("修改")]),r("el-button",{attrs:{type:"text"},on:{click:function(a){return e.delSolvePlan(i,t.orderSn)}}},[e._v("删除")]),n===e.orderDetail.enrollRepairOrderOutList.length-1||1==i.transFlag&&i.transFlag?e._e():r("el-button",{attrs:{type:"text"},on:{click:function(a){return e.transferOrderFaultItem(i,t.orderSn)}}},[e._v(" 转故障项 ")])]}}],null,!0)})],1)],1)]),r("div",{staticClass:"mainOrderInfo_item",staticStyle:{"align-items":"center"}},[r("div",{staticClass:"label"},[e._v("配件明细")]),r("div",{staticClass:"value"},[r("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.openAddEditPart(null,null,t,n)}}},[e._v(" 新增配件 ")])],1)]),r("div",{staticClass:"mainOrderInfo_item"},[r("div",{staticClass:"label"}),r("div",{staticClass:"value"},[r("el-table",{key:Math.random(),staticStyle:{width:"60vw"},attrs:{data:t.parts,border:"","cell-style":{fontSize:"12px"},"header-row-style":{fontSize:"12px"}}},[r("el-table-column",{attrs:{align:"center",prop:"name",label:"配件图片",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[a.image?r("div",[r("el-image",{staticStyle:{width:"40px",height:"40px"},attrs:{src:a.image&&a.image.split(",")[0],"preview-src-list":a.image&&a.image.split(",")}}),a.image&&a.image.split(",").length>1?r("div",{staticStyle:{"font-weight":"700",color:"#999"}},[e._v(" 有多张图片 ")]):e._e()],1):r("div",[e._v("无")])]}}],null,!0)}),r("el-table-column",{attrs:{align:"center",prop:"name",label:"配件模式",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(1==a.model?"外发维修":"采买新件")+" ")]}}],null,!0)}),r("el-table-column",{attrs:{width:"80",label:"采买角色",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[2!==n.type?r("img",{attrs:{src:a("a8e1"),width:"28px"}}):e._e(),2===n.type?r("img",{attrs:{src:a("bae6"),width:"28px"}}):e._e()]}}],null,!0)}),r("el-table-column",{attrs:{align:"center",label:"配件名称"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[r("div",[e._v(e._s(a.name))]),a.isReturn?r("div",{staticStyle:{color:"red"}},[e._v(" (金蝶已退货) ")]):e._e(),a.index?e._e():r("div",{staticStyle:{color:"red"}},[e._v(" (前师傅转移) ")])]}}],null,!0)}),r("el-table-column",{attrs:{align:"center",label:"配件品牌"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[r("div",{class:[1!==a.type||a.brandId?"":"inquireBrandNone"]},[e._v(" "+e._s(a.brand)+" ")])]}}],null,!0)}),r("el-table-column",{attrs:{align:"center",prop:"parameter",label:"配件参数"}}),r("el-table-column",{attrs:{align:"center",label:"供应商"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.supplierName?a.supplierName:"无")+" ")]}}],null,!0)}),r("el-table-column",{attrs:{align:"center",label:"预计到达时间",width:"140"},scopedSlots:e._u([{key:"default",fn:function(a){var n=a.row;return[2!==n.type||n.arriveFlag?2===n.type&&n.arriveFlag?r("div",[e._v(" "+e._s(n.estimateArriveData)+" ")]):r("div",[e._v("无")]):r("div",[r("el-button",{attrs:{type:"text"},on:{click:function(a){return e.openPartsTimeDialog(n,t.orderSn)}}},[e._v(e._s(n.estimateArriveData?n.estimateArriveData:"选择时间"))])],1)]}}],null,!0)}),r("el-table-column",{attrs:{align:"center",label:"到达状态",width:"120"},scopedSlots:e._u([{key:"default",fn:function(a){var n=a.row;return[2!==n.type||n.arriveFlag?2===n.type&&n.arriveFlag?r("div",[e._v(" 已到达 ")]):r("div",[e._v("无")]):r("div",[r("el-button",{attrs:{type:"text"},on:{click:function(a){return e.markArrivedFn(n,t.orderSn)}}},[e._v("标记到达")])],1)]}}],null,!0)}),r("el-table-column",{attrs:{align:"center",label:"总金额",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[r("div",[r("span",[e._v(e._s(a.num)+"*"+e._s(a.price)+"元 = ")]),r("span",{staticStyle:{color:"red"}},[e._v(e._s(a.totalMoney)+"元")])])]}}],null,!0)}),r("el-table-column",{attrs:{align:"center",prop:"remarks",label:"备注"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.remarks?a.remarks:"无")+" ")]}}],null,!0)}),r("el-table-column",{attrs:{align:"center",label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(a){var i=a.row,s=a.$index;return[i.index?r("el-button",{attrs:{type:"text"},on:{click:function(a){return e.openAddEditPart(i,s,t)}}},[e._v("修改")]):e._e(),r("el-button",{attrs:{type:"text"},on:{click:function(a){return e.delPartsList(i,t.orderSn)}}},[e._v("删除")]),2==i.type&&e.orderDetail.enterpriseSubStatus>2202||e.orderDetail.enterpriseSubStatus>2202&&2==i.model&&2==i.type?r("el-button",{attrs:{type:"text"},on:{click:function(a){return e.goToLogisticsDetails(i.id,i.model,t.orderSn)}}},[e._v("物流详情")]):e._e(),2===i.type?r("el-button",{attrs:{type:"text"},on:{click:function(a){return e.openSetLogistics(i,t.orderSn)}}},[e._v(" 选供应商 ")]):e._e(),!i.isReturn&&n!==e.orderDetail.enrollRepairOrderOutList.length-1&&1!=i.transFlag&&i.saleOrderId?r("el-button",{attrs:{type:"text"},on:{click:function(a){return e.transferPartProduct(i,t.orderSn)}}},[e._v(" 转配件 ")]):e._e()]}}],null,!0)})],1)],1)]),r("div",{staticClass:"mainOrderInfo_item"}),t.consultAmount||0==t.consultAmount?e._e():r("div",{staticClass:"mainOrderInfo_item",staticStyle:{"font-weight":"700"}},[r("div",{staticClass:"label"},[e._v("师傅应收")]),r("div",{staticClass:"value",staticStyle:{"font-weight":"700"}},[r("span",[e._v(e._s(t.totalAmount?t.totalAmount:0)+"元 ")])])]),t.consultAmount||0==t.consultAmount?r("div",{staticClass:"mainOrderInfo_item",staticStyle:{"font-weight":"700"}},[r("div",{staticClass:"label"},[e._v("最终协商金额")]),r("div",{staticClass:"value",staticStyle:{"font-weight":"700"}},[e._v(" "+e._s(t.consultAmount?t.consultAmount:0)+"元 ")])]):e._e(),null==t.consultAmount?r("div",{staticClass:"mainOrderInfo_item"},[r("div",{staticClass:"label"},[e._v("人工费")]),r("div",{staticClass:"value"},[e._v(" "+e._s(Number((t.doorAmount-t.retentionMoney-t.serviceAmount).toFixed(2)))+"元 (原人工费："+e._s(t.doorAmount?t.doorAmount:0)+"元) ")])]):e._e(),r("div",{staticClass:"mainOrderInfo_item"},[r("div",{staticClass:"label"},[e._v("配件费")]),r("div",{staticClass:"value"},[e._v(" "+e._s(t.partsAmount?t.partsAmount:0)+"元 ")])]),t.consultAmount||0==t.consultAmount?r("div",{staticClass:"mainOrderInfo_item"},[r("div",{staticClass:"label"},[e._v("协商原人工费")]),r("div",{staticClass:"value"},[e._v(" "+e._s(t.consultDoorAmount?t.consultDoorAmount:0)+"元 ")])]):e._e(),t.subStatus>=3201?r("div",[r("div",{staticClass:"mainOrderInfo_item"},[r("div",{staticClass:"label"},[e._v(" 质保金"),t.subStatus<=3203?r("span",[e._v("预")]):e._e(),e._v("扣款 ")]),r("div",{staticClass:"value"},[r("span",{staticStyle:{color:"red"}},[e._v(" "+e._s(t.retentionMoney?t.retentionMoney:0)+"元")]),t.consultAmount?e._e():r("span",[e._v(" (原人工费 * 10%)")])])]),r("div",{staticClass:"mainOrderInfo_item"},[r("div",{staticClass:"label"},[e._v(" 平台"),t.subStatus<=3203?r("span",[e._v("预")]):e._e(),e._v("抽成 ")]),r("div",{staticClass:"value"},[r("span",{staticStyle:{color:"red"}},[e._v(" "+e._s(t.serviceAmount?t.serviceAmount:0)+"元")]),t.consultAmount?e._e():r("span",[e._v(" (原人工费 * 25%)")])])])]):e._e(),t.consultAmount||0==t.consultAmount?r("div",{staticClass:"mainOrderInfo_item"},[r("div",{staticClass:"label"},[e._v("备注")]),r("div",{staticClass:"value"},[r("span",[e._v(" "+e._s(t.consultRemarks))])])]):e._e()]),r("div",{staticClass:"operationBtnList"},[0==t.remindStarted&&3201==t.subStatus?r("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.openRemindStartedDialog(t.orderSn)}}},[e._v(" 代师傅开始出发 ")]):e._e(),t.punchImages||3201!=t.subStatus||1!=t.remindStarted?e._e():r("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.openHandlePhotographPunchDialog(t.orderSn)}}},[e._v(" 代师傅拍照打卡 ")]),3201==t.subStatus&&t.punchImages?r("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleMasterQuotation(t.orderSn)}}},[e._v(" 代师傅检测报价 ")]):e._e(),3203==t.subStatus?r("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleProxyConfirmQuotation(t.orderSn)}}},[e._v(" 代企业确认师傅报价 ")]):e._e(),3204==t.subStatus?r("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleStartService(t.orderSn)}}},[e._v(" 代师傅开始服务 ")]):e._e(),3301==t.subStatus?r("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.openSubmitAcceptanceDialog(t.orderSn)}}},[e._v(" 代师傅提交验收 ")]):e._e(),3401==t.subStatus?r("el-button",{attrs:{size:"mini",type:"warning"},on:{click:function(a){return e.rejectOrderCheck(t.orderSn)}}},[e._v(" 驳回师傅验收申请 ")]):e._e(),3401==t.subStatus?r("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleEnterpriseCheck(t.orderSn)}}},[e._v(" 代企业确认验收 ")]):e._e(),3501==t.subStatus?r("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleProxyPayment(t.orderSn)}}},[e._v(" 标记企业付款 ")]):e._e(),2601==e.orderDetail.enterpriseSubStatus&&e.orderDetail.enrollRepairOrderOutList.length==n+1?r("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.openEnterpriseEvaluateDialog(t.orderSn)}}},[e._v(" 代企业评价 ")]):e._e(),t.subStatus>=3301?r("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.handleOnlineOrder(e.orderDetail.orderSn)}}},[e._v(" 生成线上工单 ")]):e._e(),["3202"].includes(t.subStatus)?r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.sumbitQuotation(t.orderSn)}}},[e._v("确认报价")]):e._e(),2001!=e.orderDetail.enterpriseSubStatus&&2101!=e.orderDetail.enterpriseSubStatus&&null==t.consultDoorAmount||e.orderDetail.enrollRepairOrderOutList.length!=n+1?e._e():r("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.goAssignedMasterPage}},[e._v(" 指派师傅 ")]),t.subStatus<=3502?r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.openConsultPriceDialog(t.orderSn,t.doorAmount,t.consultRemarks,t.consultDoorAmount,t.masterTypeName)}}},[e._v("协商人工费")]):e._e(),e.orderDetail.enterpriseMainStatus>-1&&e.orderDetail.enterpriseMainStatus<=4?r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.clickCancelOrderDialog}},[e._v("取消订单")]):e._e(),t.subStatus>=3401&&(1==t.dataExamineStatus||0==t.dataExamineStatus)?r("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.openReviewDescDialog(t.orderSn)}}},[e._v(" 审核描述/过程 ")]):e._e(),t.subStatus>=3502&&"管理员"==e.name?r("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.handleOrderRefund(e.orderDetail.orderSn)}}},[e._v("订单退款")]):e._e(),2301!=e.orderDetail.timeoutFlag&&3301==t.subStatus&&e.orderDetail.enrollRepairOrderOutList.length==n+1?r("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleMasterOrderServiceTimeout(t.orderSn,t.realName)}}},[e._v(" 标记服务超时 ")]):e._e(),r("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleMarkValidOrder(t.orderSn)}}},[e._v(" 标记师傅有效单 ")]),e.orderDetail.orderSn.includes("-F-")?e._e():r("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.openMarkRepairOrderDialog(e.orderDetail.orderSn)}}},[e._v(" 标记返修单 ")]),t.subStatus>3201?r("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.openComplaintDialog(t)}}},[e._v(" 投诉 ")]):e._e()],1)],2)})),r("el-tab-pane",{attrs:{label:"全流程跟踪",name:"全流程跟踪"}},[r("div",{staticStyle:{padding:"20px"}},[r("el-timeline",e._l(e.orderDetail.orderNodeOutList,(function(t,a){return r("el-timeline-item",{key:a,attrs:{timestamp:t.createTime}},[r("div",[r("span",{staticStyle:{color:"#409eff"}},[e._v(e._s(t.personnel))]),e._v(" "+e._s(t.node)+" ")]),r("div",{staticStyle:{margin:"5px 0 10px"}},[e._v(" "+e._s(t.simpleDesc)+" ")])])})),1)],1),r("div",{staticClass:"operationBtnList"},[2001==e.orderDetail.enterpriseSubStatus||2101==e.orderDetail.enterpriseSubStatus?r("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.goAssignedMasterPage}},[e._v(" 指派师傅 ")]):e._e(),e.orderDetail.enterpriseMainStatus>-1&&e.orderDetail.enterpriseMainStatus<=4?r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.clickCancelOrderDialog}},[e._v("取消订单")]):e._e()],1)])],2)],1)],1),r("div",{staticStyle:{height:"50px"}}),r("el-dialog",{attrs:{width:"50%",center:"","close-on-click-modal":!1,visible:e.useDiscountVisible,"before-close":e.closeUseDiscountDialog}},[r("template",{slot:"title"},[r("div",{staticStyle:{"font-size":"20px","margin-top":"6px"}},[e._v(" 使用减免"),r("span",{staticStyle:{color:"red"}},[e._v("(该操作选择后,请点击标记企业付款按钮,该券或卡才算已核销)")])])]),r("div",{staticClass:"useDiscountBox"},[r("el-tabs",{attrs:{type:"card"},model:{value:e.activeDiscountType,callback:function(t){e.activeDiscountType=t},expression:"activeDiscountType"}},[r("el-tab-pane",{attrs:{label:"优惠券",name:"优惠券"}},[e.ownedCouponsList.length>0?r("el-table",{ref:"useDiscountTableRef",attrs:{data:e.ownedCouponsList,"highlight-current-row":""},on:{"current-change":e.changeCouponCode}},[r("el-table-column",{attrs:{width:"135",align:"center",prop:"couponCode",label:"编码"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[r("el-radio",{attrs:{label:a.couponCode},model:{value:e.couponCodeNow,callback:function(t){e.couponCodeNow=t},expression:"couponCodeNow"}})]}}],null,!1,2299737954)}),r("el-table-column",{attrs:{width:"160",align:"center",prop:"createTime",label:"发放时间"}}),r("el-table-column",{attrs:{prop:"name",align:"center",width:"180",label:"优惠券名称"}}),r("el-table-column",{attrs:{label:"发放类型",align:"center",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(0==a.type?"手动赠送":"平台发放")+" ")]}}],null,!1,375956316)}),r("el-table-column",{attrs:{align:"center",label:"关联订单号"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.orderId||"无")+" ")]}}],null,!1,3013239964)}),r("el-table-column",{attrs:{align:"center",label:"备注",prop:"remark"}})],1):e._e(),0==e.ownedCouponsList.length?r("div",[e._v("未领取过优惠券")]):e._e()],1),r("el-tab-pane",{attrs:{label:"机将卡",name:"机将卡"}},[e._v("功能开发中...")])],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.closeUseDiscountDialog}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.useOrderDiscount}},[e._v("确 定")])],1)],2),r("el-dialog",{attrs:{width:"30%",center:"",title:"单方议价","close-on-click-modal":!1,visible:e.singlePartyNegotiationPriceVisible,"before-close":e.closeSinglePartyNegotiationDialog}},[r("div",{staticClass:"consultPriceDialog"},[r("el-form",{attrs:{model:e.handleEnterpriseNegotiatedPriceParams,"label-position":"left","label-width":"120px"}},[r("el-form-item",{attrs:{label:"企业原人工费",prop:"amount"}},[e._v(" "+e._s(e.orderDetail.doorAmount)+" ")]),r("el-form-item",{attrs:{label:"企业现人工费",prop:"amount"}},[r("el-input",{attrs:{type:"number",placeholder:"请输入企业现人工费"},on:{input:e.blurAmount},model:{value:e.handleEnterpriseNegotiatedPriceParams.doorAmount,callback:function(t){e.$set(e.handleEnterpriseNegotiatedPriceParams,"doorAmount",e._n(t))},expression:"handleEnterpriseNegotiatedPriceParams.doorAmount"}})],1)],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.closeSinglePartyNegotiationDialog}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.handleEnterpriseNegotiatedPrice}},[e._v("确 定")])],1)]),r("el-dialog",{attrs:{title:"审核描述/过程",width:"30%",visible:e.reviewDescVisible,"before-close":e.closeReviewDescDialog,"close-on-click-modal":!1,center:""}},[r("el-form",{ref:"examineMasterOrderDataRef",attrs:{"label-width":"120px","label-position":"left",model:e.examineMasterOrderDataParmas,rules:e.examineMasterOrderDataRules}},[r("el-form-item",{attrs:{label:"审核状态",prop:"status"}},[r("el-radio-group",{on:{change:e.changeStatus},model:{value:e.examineMasterOrderDataParmas.status,callback:function(t){e.$set(e.examineMasterOrderDataParmas,"status",t)},expression:"examineMasterOrderDataParmas.status"}},[r("el-radio",{attrs:{label:2}},[e._v("通过")]),r("el-radio",{attrs:{label:3}},[e._v("驳回")])],1)],1),3==e.examineMasterOrderDataParmas.status?r("el-form-item",{attrs:{label:"常用驳回语",prop:"rejectionDesc"}},[r("el-radio-group",{model:{value:e.examineMasterOrderDataParmas.rejectionDesc,callback:function(t){e.$set(e.examineMasterOrderDataParmas,"rejectionDesc",t)},expression:"examineMasterOrderDataParmas.rejectionDesc"}},[r("el-radio",{attrs:{label:"现场故障描述驳回"}}),r("el-radio",{attrs:{label:"处理过程驳回"}}),r("el-radio",{attrs:{label:"两者驳回"}})],1)],1):e._e(),3==e.examineMasterOrderDataParmas.status?r("el-form-item",{attrs:{label:"备注"}},[r("el-input",{attrs:{type:"textarea"},model:{value:e.examineMasterOrderDataParmas.result,callback:function(t){e.$set(e.examineMasterOrderDataParmas,"result",t)},expression:"examineMasterOrderDataParmas.result"}})],1):e._e()],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.closeReviewDescDialog}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.examineMasterOrderData}},[e._v("确 定")])],1)],1),r("el-dialog",{attrs:{title:"新增故障项目",width:"50%",visible:e.addFaultVisible,"close-on-click-modal":!1,"before-close":e.closeAddFaultDialog,center:""}},[r("div",{staticClass:"addFaultDialog"},[r("div",{staticClass:"searchBox"},[r("el-input",{staticClass:"searchInp",attrs:{placeholder:"请填写故障描述"},model:{value:e.queryFaultItemsParams.query,callback:function(t){e.$set(e.queryFaultItemsParams,"query",t)},expression:"queryFaultItemsParams.query"}}),r("el-button",{attrs:{type:"primary"},on:{click:e.searchFaultList}},[e._v("搜索")])],1),r("div",{staticClass:"tabelBox"},[r("el-table",{ref:"faultTable",attrs:{data:e.faultItemList,border:"","highlight-current-row":""},on:{"current-change":e.chooseFaultItem}},[r("el-table-column",{attrs:{label:"故障编码",prop:"code",align:"center"}}),r("el-table-column",{attrs:{label:"机床类型",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(1==a.machineType?"加工中心":"数控车床")+" ")]}}])}),r("el-table-column",{attrs:{label:"项目部位",prop:"position",align:"center"}}),r("el-table-column",{attrs:{label:"项目描述",prop:"simpleDesc",align:"center"}}),e.chooseFaultItemVal.isDateAfter20250301Val?r("el-table-column",{attrs:{label:"区间浮动价",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.generalAmount+"~"+a.annualAmount)+" ")]}}],null,!1,2198860682)}):e._e()],1)],1),r("div",{staticClass:"paginationBox"},[r("el-pagination",{attrs:{"current-page":e.queryFaultItemsParams.pageNo,background:"",total:e.faultItemTotal,layout:"prev, pager, next"},on:{"current-change":e.changeFaultDialogPage}})],1)]),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.closeAddFaultDialog}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.confirmAddFault}},[e._v("确 定")])],1)]),r("el-dialog",{attrs:{title:"修改故障项目",width:"40%","before-close":e.closeExamineFaultsDialog,visible:e.examineFaults,"close-on-click-modal":!1}},[r("el-form",{attrs:{"label-position":"left","label-width":"120px"}},[r("el-form-item",{attrs:{label:"故障描述"}},[r("el-input",{attrs:{placeholder:"请输入故障描述"},model:{value:e.examineFaultsForm.simpleDesc,callback:function(t){e.$set(e.examineFaultsForm,"simpleDesc",t)},expression:"examineFaultsForm.simpleDesc"}})],1),e.examineFaultsForm.isDateAfter20250301Val?e._e():r("el-form-item",{attrs:{label:"师傅展示价格"}},[r("el-input",{attrs:{placeholder:"请输入师傅展示价格",type:"number",disabled:""},nativeOn:{mousewheel:function(e){e.preventDefault()}},model:{value:e.examineFaultsForm.masterAmount,callback:function(t){e.$set(e.examineFaultsForm,"masterAmount",t)},expression:"examineFaultsForm.masterAmount"}})],1),e.examineFaultsForm.isDateAfter20250301Val?e._e():r("el-form-item",{attrs:{label:"年保企业价格"}},[r("el-input",{attrs:{placeholder:"请输入年保企业价格",type:"number",disabled:""},nativeOn:{mousewheel:function(e){e.preventDefault()}},model:{value:e.examineFaultsForm.annualAmount,callback:function(t){e.$set(e.examineFaultsForm,"annualAmount",t)},expression:"examineFaultsForm.annualAmount"}})],1),e.examineFaultsForm.isDateAfter20250301Val?e._e():r("el-form-item",{attrs:{label:"散单企业价格"}},[r("el-input",{attrs:{placeholder:"请输入散单企业价格",type:"number",disabled:""},nativeOn:{mousewheel:function(e){e.preventDefault()}},model:{value:e.examineFaultsForm.generalAmount,callback:function(t){e.$set(e.examineFaultsForm,"generalAmount",t)},expression:"examineFaultsForm.generalAmount"}})],1),e.examineFaultsForm.isDateAfter20250301Val?e._e():r("el-form-item",{attrs:{label:"师傅协商价格"}},[r("el-input",{attrs:{placeholder:"请输入师傅协商价格",type:"number"},nativeOn:{mousewheel:function(e){e.preventDefault()}},model:{value:e.examineFaultsForm.masterConsultAmount,callback:function(t){e.$set(e.examineFaultsForm,"masterConsultAmount",t)},expression:"examineFaultsForm.masterConsultAmount"}})],1),e.examineFaultsForm.isDateAfter20250301Val?e._e():r("el-form-item",{attrs:{label:"企业协商价格"}},[r("el-input",{attrs:{placeholder:"请输入企业协商价格",type:"number"},on:{input:e.changeEnterpriseConsultAmount},model:{value:e.examineFaultsForm.enterpriseConsultAmount,callback:function(t){e.$set(e.examineFaultsForm,"enterpriseConsultAmount",t)},expression:"examineFaultsForm.enterpriseConsultAmount"}})],1),e.examineFaultsForm.isDateAfter20250301Val?r("el-form-item",{attrs:{label:"区间浮动价"}},[r("el-input",{attrs:{placeholder:"请输入区间浮动价",disabled:""},model:{value:e.examineFaultsForm.intervalPrice,callback:function(t){e.$set(e.examineFaultsForm,"intervalPrice",t)},expression:"examineFaultsForm.intervalPrice"}})],1):e._e(),e.examineFaultsForm.isDateAfter20250301Val?r("el-form-item",{attrs:{label:"师傅提交价格"}},[r("el-input",{attrs:{placeholder:"请输入师傅提交价格",type:"number"},nativeOn:{mousewheel:function(e){e.preventDefault()}},model:{value:e.examineFaultsForm.masterConsultAmount,callback:function(t){e.$set(e.examineFaultsForm,"masterConsultAmount",t)},expression:"examineFaultsForm.masterConsultAmount"}})],1):e._e(),r("el-form-item",{attrs:{label:"故障视频"}},[r("div",{staticStyle:{display:"flex"}},[e.examineFaultsFormVideoList&&e.examineFaultsFormVideoList[0]&&e.examineFaultsFormVideoList[0].url?r("div",[r("el-button",{staticStyle:{"margin-left":"30px"},attrs:{size:"small",type:"text"},on:{click:function(t){return e.goToVideoUrl(e.examineFaultsFormVideoList[0].url)}}},[e._v("查看视频")]),r("el-button",{staticStyle:{"margin-left":"30px"},attrs:{size:"small",type:"text"},on:{click:e.delExamineFaultsFormVideo}},[e._v("删除视频")])],1):r("el-upload",{staticClass:"upload-demo",attrs:{action:"#",limit:1,"http-request":e.uploadExamineFaultsFormVideoList,"file-list":e.examineFaultsFormVideoList,"show-file-list":!1}},[r("el-button",{attrs:{type:"text"}},[e._v("点击上传")])],1)],1)]),r("el-form-item",{attrs:{label:"故障图片"}},[r("el-upload",{attrs:{action:"#","list-type":"picture-card","file-list":e.examineFaultsFormPicList,limit:1,"on-remove":e.delExamineFaultsFormPicList,"http-request":e.uploadExamineFaultsFormPicList}},[r("i",{staticClass:"el-icon-plus"})])],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.closeExamineFaultsDialog}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.comfirmExamineFaults}},[e._v("确 定")])],1)],1),r("el-dialog",{attrs:{title:e.addEditPartTitle,width:"35%",top:"5vh","append-to-body":!0,"close-on-click-modal":!1,visible:e.addEditPartDialogShow,"before-close":e.closeAddEditPart}},[r("div",{staticStyle:{width:"100%",height:"70vh",overflow:"auto"}},[r("el-form",{ref:"partInfoRuleForm",attrs:{"label-position":"left","label-width":"80px",model:e.partInfo,rules:e.partInfoRules}},[r("el-form-item",{attrs:{label:"配件模式",prop:"model"}},[r("el-radio-group",{on:{input:e.changeModel},model:{value:e.partInfo.model,callback:function(t){e.$set(e.partInfo,"model",t)},expression:"partInfo.model"}},[r("el-radio",{attrs:{label:1}},[e._v("外发维修")]),r("el-radio",{attrs:{label:2}},[e._v("采买新件")])],1)],1),r("el-form-item",{attrs:{label:"采买角色",prop:"type"},on:{input:e.changeType}},[r("el-radio-group",{model:{value:e.partInfo.type,callback:function(t){e.$set(e.partInfo,"type",t)},expression:"partInfo.type"}},[r("el-radio",{attrs:{label:1}},[e._v("师傅自费")]),r("el-radio",{attrs:{label:2}},[e._v("平台购买")])],1)],1),r("el-form-item",{attrs:{label:"配件来源"}},[r("el-radio-group",{on:{input:e.changeStashPartsWay},model:{value:e.partInfo.stashPartsWay,callback:function(t){e.$set(e.partInfo,"stashPartsWay",t)},expression:"partInfo.stashPartsWay"}},[r("el-radio",{attrs:{label:1}},[e._v("新增配件")]),r("el-radio",{attrs:{label:2}},[e._v("仓库搜索")]),2==e.partInfo.stashPartsWay?r("el-button",{attrs:{size:"mini",icon:"el-icon-search"},on:{click:e.openWarehouseSearch}}):e._e()],1)],1),2==e.partInfo.stashPartsWay?r("el-form-item",{attrs:{label:"物料编码"}},[r("el-input",{attrs:{disabled:2==e.partInfo.stashPartsWay,placeholder:"请输入物料编码"},model:{value:e.partInfo.number,callback:function(t){e.$set(e.partInfo,"number",t)},expression:"partInfo.number"}})],1):e._e(),r("el-form-item",{attrs:{label:"配件名称",prop:"name"}},[r("el-input",{attrs:{disabled:2==e.partInfo.stashPartsWay,placeholder:"请输入配件名称"},model:{value:e.partInfo.name,callback:function(t){e.$set(e.partInfo,"name",t)},expression:"partInfo.name"}})],1),r("el-form-item",{attrs:{label:"配件品牌",prop:"brand"}},[r("el-input",{attrs:{disabled:2==e.partInfo.stashPartsWay,placeholder:"请输入配件品牌"},model:{value:e.partInfo.brand,callback:function(t){e.$set(e.partInfo,"brand",t)},expression:"partInfo.brand"}})],1),r("el-form-item",{attrs:{label:"配件参数",prop:"parameter"}},[r("el-input",{attrs:{disabled:2==e.partInfo.stashPartsWay,placeholder:"请输入配件参数"},model:{value:e.partInfo.parameter,callback:function(t){e.$set(e.partInfo,"parameter",t)},expression:"partInfo.parameter"}})],1),r("el-form-item",{attrs:{label:"配件单价",prop:"price"}},[r("el-input",{attrs:{type:"number",placeholder:"请输入配件单价"},model:{value:e.partInfo.price,callback:function(t){e.$set(e.partInfo,"price",t)},expression:"partInfo.price"}})],1),r("el-form-item",{attrs:{label:"配件数量"}},[r("el-input-number",{attrs:{min:1,max:999},model:{value:e.partInfo.num,callback:function(t){e.$set(e.partInfo,"num",e._n(t))},expression:"partInfo.num"}})],1),r("el-form-item",{attrs:{label:"备注"}},[r("el-input",{attrs:{placeholder:"请输入备注"},model:{value:e.partInfo.remarks,callback:function(t){e.$set(e.partInfo,"remarks",t)},expression:"partInfo.remarks"}})],1),r("el-form-item",{attrs:{label:"配件图片"}},[r("div",{staticClass:"hiddenUploadBox"},[r("el-upload",{attrs:{action:"#","list-type":"picture-card","http-request":e.uploadPartImg,"file-list":e.uploadPartImgList,"on-remove":e.delUploadPartImg,multiple:!0,limit:3}},[r("i",{staticClass:"el-icon-plus"})])],1)])],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.closeAddEditPart}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.confirmAddEditPart}},[e._v("确 定")])],1)]),r("el-dialog",{attrs:{title:"仓库搜索",width:"30%",top:"5vh","before-close":e.closeWarehouseSearch,visible:e.warehouseSearchDialogShow,"close-on-click-modal":!1}},[r("div",{staticClass:"warehouseSearchDialog"},[r("div",{staticClass:"warehouseSearchDialogTop"},[r("el-input",{staticClass:"warehouseSearchDialogTopInput",attrs:{placeholder:"输入配件名称"},model:{value:e.queryJdProductListParams.query,callback:function(t){e.$set(e.queryJdProductListParams,"query",t)},expression:"queryJdProductListParams.query"}}),r("el-button",{on:{click:e.queryJdProductList}},[e._v("搜索")])],1),r("div",{staticClass:"warehouseSearchDialogList"},[r("el-radio-group",{model:{value:e.choosePartIndex,callback:function(t){e.choosePartIndex=t},expression:"choosePartIndex"}},e._l(e.jdProductList,(function(t,a){return r("el-radio",{key:a,staticStyle:{display:"flex","align-items":"center",padding:"8px"},attrs:{label:a}},[r("p",[e._v("商品名称:"+e._s(t.name)+"("+e._s(t.number)+")")]),r("p",{staticStyle:{margin:"5px 0"}},[e._v("商品品牌:"+e._s(t.brandName))]),r("p",[e._v("商品型号:"+e._s(t.model))]),r("p",{staticStyle:{margin:"5px 0"}},[e._v("库存:"+e._s(t.num))])])})),1)],1)]),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.closeWarehouseSearch}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.comfirmWarehousePart}},[e._v("确 定")])],1)]),r("el-dialog",{attrs:{title:"代师傅开始出发",width:"40%",center:"",visible:e.remindStartedDialogVisible,"close-on-click-modal":!1,"before-close":e.closeRemindStartedDialog}},[r("div",[r("el-form",{ref:"handleRemindStartedParamsRef",attrs:{model:e.handleRemindStartedParams,rules:e.handleRemindStartedParamsRules}},[r("el-form-item",{attrs:{label:"出发时间",prop:"punchTime"}},[r("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime",placeholder:"选择出发时间"},model:{value:e.handleRemindStartedParams.punchTime,callback:function(t){e.$set(e.handleRemindStartedParams,"punchTime",t)},expression:"handleRemindStartedParams.punchTime"}})],1)],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.closeRemindStartedDialog}},[e._v(" 取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.handleRemindStarted}},[e._v("确 定")])],1)]),r("el-dialog",{attrs:{title:"代师傅拍照打卡",width:"40%",center:"",visible:e.photographPunchDialogVisible,"close-on-click-modal":!1,"before-close":e.closeHandlePhotographPunchDialog}},[r("div",[r("el-form",{ref:"handlePhotographPunchParamsRef",attrs:{model:e.handlePhotographPunchParams,rules:e.handlePhotographPunchParamsRules}},[r("el-form-item",{attrs:{label:"打卡时间",prop:"punchTime"}},[r("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime",placeholder:"选择打卡时间"},model:{value:e.handlePhotographPunchParams.punchTime,callback:function(t){e.$set(e.handlePhotographPunchParams,"punchTime",t)},expression:"handlePhotographPunchParams.punchTime"}})],1),r("el-form-item",{attrs:{label:"打卡照片",prop:"punchImages"}},[r("el-upload",{ref:"uploadPunchImagesRef",attrs:{"file-list":e.punchImagesList,"http-request":e.uploadPunchImages,"on-remove":e.delPunchImages,limit:1,action:"#","list-type":"picture-card"}},[r("i",{staticClass:"el-icon-plus"})])],1)],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.closeHandlePhotographPunchDialog}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.handlePhotographPunch}},[e._v("确 定")])],1)]),r("el-dialog",{attrs:{title:"代师傅提交验收",width:"40%",center:"",visible:e.submitAcceptanceDialogVisible,"close-on-click-modal":!1,"before-close":e.closeSubmitAcceptanceDialog}},[r("div",[r("el-form",{ref:"handleSubmitAcceptanceParamsRef",attrs:{model:e.handleSubmitAcceptanceParams,rules:e.handleSubmitAcceptanceParamsRules}},[r("el-form-item",{attrs:{label:"验收时间",prop:"time"}},[r("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime",placeholder:"选择验收时间"},model:{value:e.handleSubmitAcceptanceParams.time,callback:function(t){e.$set(e.handleSubmitAcceptanceParams,"time",t)},expression:"handleSubmitAcceptanceParams.time"}})],1),r("el-form-item",{attrs:{label:"完工照片",prop:"completeImages"}},[r("div",[r("el-upload",{ref:"uploadCompleteImagesRef",attrs:{"file-list":e.completeImagesList,"http-request":e.uploadCompleteImages,"on-remove":e.delCompleteImages,multiple:!0,limit:6,action:"#","list-type":"picture-card"}},[r("i",{staticClass:"el-icon-plus"})])],1)])],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.closeSubmitAcceptanceDialog}},[e._v(" 取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.handleSubmitAcceptance}},[e._v("确 定")])],1)]),r("el-dialog",{attrs:{width:"40%",center:"",visible:e.consultPriceVisible,"close-on-click-modal":!1,"before-close":e.closeConsultPriceDialog}},[r("div",{staticStyle:{"font-size":"18px","padding-top":"10px"},attrs:{slot:"title"},slot:"title"},[e._v(" 协商人工费"),r("span",{staticStyle:{color:"red"}},[e._v("(需要重新指派师傅才可使用该功能)")])]),r("div",{staticClass:"consultPriceDialog"},[r("el-form",{ref:"consultCostForm",attrs:{model:e.consultCostParams,rules:e.consultCostRules,"label-position":"left","label-width":"120px"}},[r("el-form-item",{attrs:{label:"协商原人工费",prop:"amount"}},[r("el-input",{attrs:{type:"number",placeholder:"请输入协商原人工费"},on:{input:e.blurAmount},model:{value:e.consultCostParams.amount,callback:function(t){e.$set(e.consultCostParams,"amount",e._n(t))},expression:"consultCostParams.amount"}})],1),r("el-form-item",{attrs:{label:"协商平台抽成",prop:"serviceAmount"}},[r("el-input",{attrs:{type:"number",placeholder:"请输入协商的平台抽成"},model:{value:e.consultCostParams.serviceAmount,callback:function(t){e.$set(e.consultCostParams,"serviceAmount",e._n(t))},expression:"consultCostParams.serviceAmount"}})],1),r("el-form-item",{attrs:{label:"协商质保金",prop:"retentionMoney"}},[r("el-input",{attrs:{type:"number",disabled:"全职"==e.masterTypeNameChoose,placeholder:"请输入协商质保金"},model:{value:e.consultCostParams.retentionMoney,callback:function(t){e.$set(e.consultCostParams,"retentionMoney",e._n(t))},expression:"consultCostParams.retentionMoney"}})],1),r("el-form-item",{attrs:{label:"到手人工费"}},[r("el-input",{attrs:{type:"number",disabled:"",placeholder:"自动计算"},model:{value:e.laborCostTxt,callback:function(t){e.laborCostTxt=e._n(t)},expression:"laborCostTxt"}})],1),r("el-form-item",{attrs:{label:"备注",prop:"remarks"}},[r("el-input",{attrs:{placeholder:"请输入想备注的内容"},model:{value:e.consultCostParams.remarks,callback:function(t){e.$set(e.consultCostParams,"remarks",t)},expression:"consultCostParams.remarks"}})],1)],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.closeConsultPriceDialog}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.confirmConsultPrice}},[e._v("确 定")])],1)]),r("el-dialog",{attrs:{title:"配件到达时间",width:"40%",center:"",visible:e.partsTimeDialogVisible,"before-close":e.closePartsTimeDialog,"close-on-click-modal":!1}},[r("div",[r("el-form",{ref:"handlePartsTimeParamsRef",attrs:{rules:e.handlePartsTimeParamsRules,model:e.handlePartsTimeParams}},[r("el-form-item",{attrs:{label:"到达时间",prop:"estimateArriveData"}},[r("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime",placeholder:"选择到达时间"},on:{change:e.changeEstimateArriveData},model:{value:e.estimateArriveDataCopy,callback:function(t){e.estimateArriveDataCopy=t},expression:"estimateArriveDataCopy"}})],1)],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.closePartsTimeDialog}},[e._v(" 取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.handlePartProductArriveInfo}},[e._v("确 定")])],1)]),r("el-dialog",{attrs:{width:"50%","before-close":e.closecancelOrderDialog}},[r("div",{staticStyle:{"text-align":"center",padding:"0 70px"}},[r("div",{staticStyle:{color:"#707070","font-size":"20px","font-weight":"700"}},[e._v(" 取消说明 ")]),r("el-input",{staticStyle:{"margin-top":"20px"},attrs:{type:"textarea",resize:"none",rows:10,placeholder:"请输入取消订单的原因"},model:{value:e.delOrderinpValue,callback:function(t){e.delOrderinpValue=t},expression:"delOrderinpValue"}})],1),r("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[r("el-button",{staticStyle:{width:"150px","background-color":"#ffffff",color:"#2e4c9e"},on:{click:e.closecancelOrderDialog}},[e._v("取 消")]),r("el-button",{staticStyle:{width:"150px","background-color":"#2e4c9e"},attrs:{type:"primary"},on:{click:e._cancelRepairOrder}},[e._v("确 定")])],1)]),r("el-dialog",{attrs:{title:"备注",width:"30%","before-close":e.closecancelOrderDialog,visible:e.cancelOrderDialog,"close-on-click-modal":!1}},[r("div",{staticClass:"auditDialog"},[r("el-form",{attrs:{"label-width":"80px"}},[e.orderCancelTag&&e.orderCancelTag.length>0?r("el-form-item",{attrs:{label:"标签:"}},e._l(e.orderCancelTag,(function(t,a){return r("el-button",{key:t,attrs:{type:a==e.chooseOrderCancelTagNum?"primary":"",size:"small"},on:{click:function(t){return e.changeOrderCancelTag(a)}}},[e._v(e._s(t))])})),1):e._e(),r("el-form-item",{attrs:{label:"自定义:"}},[r("el-input",{attrs:{type:"textarea",placeholder:"请输入内容",maxlength:"100","show-word-limit":""},model:{value:e.delOrderinpValue,callback:function(t){e.delOrderinpValue=t},expression:"delOrderinpValue"}})],1),e.orderCancelRemark?r("el-form-item",{attrs:{label:"备注:"}},[e._v(" "+e._s(e.orderCancelRemark)+" ")]):e._e()],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.closecancelOrderDialog}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e._cancelRepairOrder}},[e._v("确 定")])],1)]),r("el-dialog",{attrs:{visible:e.complaintDialogVisible,width:"50%","before-close":e.closeComplaintDialog,"close-on-click-modal":!1}},[r("div",{staticStyle:{"text-align":"center",padding:"0 70px"}},[r("div",{staticStyle:{color:"#707070","font-size":"20px","font-weight":"700"}},[e._v(" 投诉师傅【"+e._s(e.complaintWorkerName)+"】 ")]),r("el-input",{staticStyle:{"margin-top":"20px"},attrs:{type:"textarea",resize:"none",rows:10,placeholder:"请输入投诉该师傅的原因"},model:{value:e.saveRepairOrderComplaintParams.content,callback:function(t){e.$set(e.saveRepairOrderComplaintParams,"content",t)},expression:"saveRepairOrderComplaintParams.content"}})],1),r("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[r("el-button",{staticStyle:{width:"150px","background-color":"#ffffff",color:"#2e4c9e"},on:{click:e.closeComplaintDialog}},[e._v("取 消")]),r("el-button",{staticStyle:{width:"150px","background-color":"#2e4c9e"},attrs:{type:"primary"},on:{click:e.saveRepairOrderComplaint}},[e._v("确 定")])],1)]),r("el-dialog",{attrs:{title:"选择供应商",width:"40%",top:"5vh",visible:e.setLogisticsDialogShow}},[r("div",{staticClass:"setLogisticsDialog"},[r("div",{staticClass:"setLogisticsDialogSearch"},[r("el-input",{staticStyle:{"margin-right":"20px"},attrs:{placeholder:"输入供应商名字搜索"},model:{value:e.supplierInfoListParams.query,callback:function(t){e.$set(e.supplierInfoListParams,"query",t)},expression:"supplierInfoListParams.query"}}),r("el-button",{attrs:{type:"primary"},on:{click:e.searchMaintenanceSupplierInfo}},[e._v("搜索")])],1),r("div",{staticClass:"supplierList"},[r("el-radio-group",{on:{change:e.changeSupplier},model:{value:e.setLogisticsData.supplierName,callback:function(t){e.$set(e.setLogisticsData,"supplierName",t)},expression:"setLogisticsData.supplierName"}},e._l(e.supplierList,(function(t,a){return r("el-radio",{key:a,staticStyle:{display:"flex","align-items":"center",padding:"8px"},attrs:{label:t.supplierName}},[r("div",[e._v("供应商名称:"+e._s(t.supplierName))]),r("div",{staticStyle:{margin:"5px 0"}},[e._v("地址 :"+e._s(t.supplierAddress))]),r("div",[e._v("范围:"+e._s(t.businessScope))])])})),1)],1),r("div",{staticClass:"tabelPagination"},[r("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.supplierInfoListTotal,"page-size":10,"current-page":e.supplierInfoListParams.pageNo},on:{"current-change":e.changesupplierInfoListPage}})],1)]),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.closeSetLogistics}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.confirmSetLogistics}},[e._v("确 定")])],1)]),r("el-dialog",{attrs:{width:"40%",visible:e.markRepairOrderDialogShow,"close-on-click-modal":!1,"before-close":e.closeMarkRepairOrderDialog,center:""}},[r("div",{attrs:{slot:"title"},slot:"title"},[e._v(" 标记返修单 "),r("span",{staticStyle:{color:"red"}},[e._v("(该功能需在订单节点[平台审核报价]前操作)")])]),r("div",{staticClass:"markRepairOrderDialog"},[r("el-form",{ref:"markRepairOrderForm",attrs:{model:e.handleOrderReworkParams,rules:e.handleOrderReworkParamsRules,"label-width":"120px","label-position":"left"}},[r("el-form-item",{attrs:{label:"返修原因",prop:"reason"}},[r("el-input",{attrs:{placeholder:"请输入返修原因"},model:{value:e.handleOrderReworkParams.reason,callback:function(t){e.$set(e.handleOrderReworkParams,"reason",t)},expression:"handleOrderReworkParams.reason"}})],1),r("el-form-item",{attrs:{label:"原企业订单号",prop:"sourceRelationOrderSn"}},[r("el-input",{attrs:{placeholder:"请输入原企业订单号"},model:{value:e.handleOrderReworkParams.sourceRelationOrderSn,callback:function(t){e.$set(e.handleOrderReworkParams,"sourceRelationOrderSn",t)},expression:"handleOrderReworkParams.sourceRelationOrderSn"}})],1)],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.closeMarkRepairOrderDialog}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.handleOrderRework}},[e._v("确 定")])],1)]),r("el-dialog",{attrs:{title:"代企业评价",visible:e.evaluateDialogVisible,width:"40%","close-on-click-modal":!1,"before-close":e.closeEnterpriseEvaluateDialog,center:""},on:{"update:visible":function(t){e.evaluateDialogVisible=t}}},[r("div",{staticClass:"evaluateDiv"},[r("div",{staticClass:"title"},[e._v("师傅评价")]),e._l(e.handleReleaseCommentParams.masterInfoEvaluationGrade,(function(t){return r("div",{key:t.uid,staticClass:"block"},[r("span",{staticClass:"demonstration"},[e._v("对"+e._s(t.realName)+"评价:")]),r("el-rate",{attrs:{max:3,"show-text":"",texts:["差评","一般","好评"]},model:{value:t.evaluationGrade,callback:function(a){e.$set(t,"evaluationGrade",a)},expression:"item.evaluationGrade"}})],1)})),r("div",{staticClass:"title"},[e._v("订单服务描述")]),r("div",{staticClass:"block"},[r("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请联系客户了解订单情况后进行描述,尽量从多角度评价本服务"},model:{value:e.handleReleaseCommentParams.content,callback:function(t){e.$set(e.handleReleaseCommentParams,"content",t)},expression:"handleReleaseCommentParams.content"}})],1),r("div",{staticClass:"title"},[r("div",[e._v("上传图片说明")])]),r("div",{staticClass:"block"},[r("el-upload",{attrs:{action:"#","list-type":"picture-card",multiple:"","file-list":e.evaluateImgFileList,"http-request":e.updataEvaluateImg,"on-remove":e.removeEvaluateImg}},[r("i",{staticClass:"el-icon-plus"})])],1)],2),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.closeEnterpriseEvaluateDialog}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.handleReleaseComment}},[e._v("确 定")])],1)]),r("el-dialog",{attrs:{title:"修改质保时间",visible:e.editWarrantyPeriodVisible,width:"20%","close-on-click-modal":!1,"before-close":e.closeEditWarrantyPeriodDialog,center:""},on:{"update:visible":function(t){e.editWarrantyPeriodVisible=t}}},[r("el-form",{ref:"handleOrderWarrantyParmasRef",attrs:{"label-width":"80px","label-position":"left",model:e.handleOrderWarrantyParmas,rules:e.handleOrderWarrantyParmasRules}},[r("el-form-item",{attrs:{label:"质保时间",prop:"days"}},[r("el-input",{attrs:{placeholder:"请输入质保时间",type:"number"},model:{value:e.handleOrderWarrantyParmas.days,callback:function(t){e.$set(e.handleOrderWarrantyParmas,"days",e._n(t))},expression:"handleOrderWarrantyParmas.days"}})],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.closeEditWarrantyPeriodDialog}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.handleOrderWarranty}},[e._v("确 定")])],1)],1)],1)},n=[],i=a("2909"),s=a("1da1"),o=a("5530"),l=(a("96cf"),a("7db0"),a("99af"),a("a9e3"),a("b680"),a("ac1f"),a("1276"),a("159b"),a("a15b"),a("d81d"),a("c740"),a("a434"),a("caad"),a("2532"),a("b0c0"),a("d3b7"),a("fb6a"),a("25f0"),a("5319"),a("4de4"),a("498a"),a("4ec9"),a("3ca3"),a("ddb0"),a("17eb")),c=a("c24f"),u=a("f8b7"),d=a("8593"),m=a("2f62"),p={data:function(){return{editWarrantyPeriodVisible:!1,handleOrderWarrantyParmas:{days:null,orderSn:null},handleOrderWarrantyParmasRules:{days:[{required:!0,message:"请输入质保时间",trigger:"blur"}]},orderCancelTag:[],chooseOrderCancelTagNum:null,reviewDescVisible:!1,examineMasterOrderDataParmas:{orderSn:null,result:null,status:null,rejectionDesc:null},examineMasterOrderDataRules:{status:[{required:!0,message:"请选择审核状态",trigger:"change"}],rejectionDesc:[{required:!0,message:"请选择常用驳回语",trigger:"change"}]},nodeEnv:null,maintenanceOrderDescWidth:null,orderSn:null,orderDetail:null,masterOrderTrackList:[],chooseMaster:0,leftTabActiveName:"企业信息",rightTabActiveName:"全流程跟踪",lablelList:[{value:"普通",type:""},{value:"199",type:"success"},{value:"299",type:"warning"}],chooseFaultItemVal:{},queryFaultItemsParams:{pageNo:1,pageSize:10,query:null},addFaultVisible:!1,faultItemTotal:null,examineFaults:!1,examineFaultsForm:{},examineFaultsFormVideoList:[],examineFaultsFormPicList:[],faultItemList:[],partInfo:{remarks:null,stashPartsWay:1,brand:"",brandId:"",image:"",model:"",name:"",num:"",number:"",parameter:"",price:"",type:"",id:"",partId:"",operationType:"add"},addEditPartDialogShow:!1,addEditPartTitle:"新增配件",partInfoRules:{model:[{required:!0,message:"请选择配件模式",trigger:"blur"}],type:[{required:!0,message:"请选择采买角色",trigger:"blur"}],name:[{required:!0,message:"请填写配件名称",trigger:"blur"}],brand:[{required:!0,message:"请填写配件品牌",trigger:"blur"}],parameter:[{required:!0,message:"请填写配件参数",trigger:"blur"}],price:[{required:!0,message:"请填写配件单价",trigger:"blur"}]},uploadPartImgList:[],warehouseSearchDialogShow:!1,choosePartIndex:null,jdProductList:[],queryJdProductListParams:{pageNo:1,pageSize:100,query:""},remindStartedDialogVisible:!1,handleRemindStartedParams:{orderSn:null,punchTime:null},handleRemindStartedParamsRules:{punchTime:[{required:!0,message:"请选择上门时间",trigger:"change"}]},handlePhotographPunchParams:{orderSn:null,punchImages:null,punchTime:null},handlePhotographPunchParamsRules:{punchImages:[{required:!0,message:"请上传打卡照片",trigger:"change"}],punchTime:[{required:!0,message:"请选择打卡时间",trigger:"change"}]},punchImagesList:[],photographPunchDialogVisible:!1,handleSubmitAcceptanceParams:{completeImages:"",orderSn:"",time:""},submitAcceptanceDialogVisible:!1,handleSubmitAcceptanceParamsRules:{time:[{required:!0,message:"请选择验收时间",trigger:"change"}],completeImages:[{required:!0,message:"请上传完工照片",trigger:"change"}]},completeImagesList:[],consultPriceVisible:!1,consultCostParams:{orderSn:null,amount:null,remarks:null,retentionMoney:null,serviceAmount:null,flag:1},consultCostRules:{amount:[{required:!0,message:"请填写协商原人工费",trigger:"blur"}],remarks:[{required:!0,message:"请填写备注",trigger:"blur"}],retentionMoney:[{required:!0,message:"请填写协商质保金",trigger:"blur"}],serviceAmount:[{required:!0,message:"请填写协商平台抽成",trigger:"blur"}]},partsTimeDialogVisible:!1,handlePartsTimeParams:{arriveFlag:!1,estimateArriveData:null,id:null,orderSn:null},estimateArriveDataCopy:null,handlePartsTimeParamsRules:{estimateArriveData:[{required:!0,message:"请选择到达时间",trigger:"change"}]},cancelOrderDialog:!1,delOrderinpValue:null,complaintDialogVisible:!1,complaintWorkerName:"",setLogisticsDialogShow:!1,supplierInfoListTotal:null,supplierInfoListParams:{pageNo:1,pageSize:10,query:""},setLogisticsData:{supplierId:null,supplierName:null},supplierList:[],markRepairOrderDialogShow:!1,handleOrderReworkParams:{currentRelationOrderSn:null,reason:null,sourceRelationOrderSn:null},handleOrderReworkParamsRules:{reason:[{required:!0,message:"请输入返修原因",trigger:"blur"}],sourceRelationOrderSn:[{required:!0,message:"请输入原企业订单号",trigger:"blur"}]},saveRepairOrderComplaintParams:{content:null,masterUid:null,orderSn:null,relationOrderSn:null},evaluateDialogVisible:!1,handleReleaseCommentParams:{content:null,images:null,masterInfoEvaluationGrade:null,orderSn:null,serviceScore:0},evaluateImgFileList:[],masterTypeNameChoose:null,singlePartyNegotiationPriceVisible:!1,handleEnterpriseNegotiatedPriceParams:{doorAmount:null,orderSn:null},useDiscountVisible:!1,activeDiscountType:"优惠券",ownedCouponsList:[],useCouponParams:{couponCode:null,orderSn:null},couponCodeNow:null}},computed:Object(o["a"])(Object(o["a"])({},Object(m["c"])(["name"])),{},{matchedLabelItem:function(){var e=this;return this.lablelList.find((function(t){return t.value===e.orderDetail.label}))},labelClass:function(){var e,t=(null===(e=this.matchedLabelItem)||void 0===e?void 0:e.type)||"",a={success:"label-success",warning:"label-warning"};return a[t]||"label-default"},orderCancelRemark:function(){var e=this.orderCancelTag[this.chooseOrderCancelTagNum],t=this.delOrderinpValue;return e?t?"".concat(e,",").concat(t):e:t},laborCostTxt:function(){var e=this.consultCostParams,t=e.amount,a=e.serviceAmount,r=e.retentionMoney;t=Number(t),a=Number(a),r=Number(r);var n=function(e){return null!=e&&""!==e&&!isNaN(e)&&isFinite(e)};return n(t)&&n(a)&&n(r)?(t-a-r).toFixed(2):null}}),methods:{resetOrderDiscount:function(){var e=this;this.$confirm("您确定要重置减免优惠吗?","重置减免优惠",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["Rb"])(e.orderSn);case 2:a=t.sent,"000"==a.code&&(e.$message({type:"success",message:a.message}),e.getRepairOrderDetail());case 4:case"end":return t.stop()}}),t)}))))},useOrderDiscount:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.useCouponParams.couponCode||e.$message({type:"warning",message:"请选择优惠券/机将卡"}),t.next=3,Object(u["bc"])(e.useCouponParams);case 3:if(a=t.sent,"000"!=a.code){t.next=8;break}return t.next=7,e.getRepairOrderDetail();case 7:e.closeUseDiscountDialog();case 8:case"end":return t.stop()}}),t)})))()},changeCouponCode:function(e){this.couponCodeNow=e.couponCode,this.useCouponParams.couponCode=e.couponCode},closeUseDiscountDialog:function(){this.useCouponParams={couponCode:null,orderSn:null},this.couponCodeNow=null,this.useDiscountVisible=!1,this.$refs.useDiscountTableRef.setCurrentRow(null)},openUseDiscountDialog:function(){this.orderDetail.enterpriseSubStatus>=2601||(this.useCouponParams.orderSn=this.orderDetail.orderSn,this.useDiscountVisible=!0)},handleEnterpriseNegotiatedPrice:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(l["c"])(e.handleEnterpriseNegotiatedPriceParams);case 2:if(a=t.sent,"000"!=a.code){t.next=8;break}return e.$message({type:"success",message:"操作成功!"}),t.next=7,e.getRepairOrderDetail();case 7:e.closeSinglePartyNegotiationDialog();case 8:case"end":return t.stop()}}),t)})))()},closeSinglePartyNegotiationDialog:function(){this.singlePartyNegotiationPriceVisible=!1,this.handleEnterpriseNegotiatedPriceParams={doorAmount:null,orderSn:null}},openSinglePartyNegotiationDialog:function(e){this.handleEnterpriseNegotiatedPriceParams.orderSn=e,this.singlePartyNegotiationPriceVisible=!0},handleOrderWarranty:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs["handleOrderWarrantyParmasRef"].validate();case 2:if(!(e.handleOrderWarrantyParmas.days<=0)){t.next=5;break}return e.$message({type:"warning",message:"请设置大于0天的质保时间"}),t.abrupt("return");case 5:return t.next=7,Object(u["db"])(e.handleOrderWarrantyParmas);case 7:if(a=t.sent,"000"!=a.code){t.next=13;break}return e.$message({type:"success",message:"操作成功!"}),t.next=12,e.getRepairOrderDetail();case 12:e.closeEditWarrantyPeriodDialog();case 13:case"end":return t.stop()}}),t)})))()},closeEditWarrantyPeriodDialog:function(){this.editWarrantyPeriodVisible=!1,this.$refs["handleOrderWarrantyParmasRef"].resetFields(),this.handleOrderWarrantyParmas={days:null,orderSn:null}},openEditWarrantyPeriodDialog:function(e){this.editWarrantyPeriodVisible=!0,this.handleOrderWarrantyParmas.days=null==e.warrantyTime?30:e.warrantyTime,this.handleOrderWarrantyParmas.orderSn=e.orderSn},changeOrderCancelTag:function(e){this.chooseOrderCancelTagNum=e},getSysLabel:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(d["m"])("orderCancelTag");case 2:a=t.sent,"000"==a.code&&a.data&&(e.orderCancelTag=a.data.split(","));case 4:case"end":return t.stop()}}),t)})))()},closeReviewDescDialog:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs["examineMasterOrderDataRef"].resetFields();case 2:e.examineMasterOrderDataParmas={orderSn:null,result:null,status:null,rejectionDesc:null},e.reviewDescVisible=!1;case 4:case"end":return t.stop()}}),t)})))()},examineMasterOrderData:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs["examineMasterOrderDataRef"].validate();case 2:return a=Object(o["a"])({},e.examineMasterOrderDataParmas),a.result?a.result=a.rejectionDesc+"、"+a.result:a.result=a.rejectionDesc,delete a.rejectionDesc,t.next=7,Object(u["B"])(a);case 7:if(r=t.sent,"000"!=r.code){t.next=13;break}return e.$message({type:"success",message:"操作成功!"}),t.next=12,e.getRepairOrderDetail();case 12:e.closeReviewDescDialog();case 13:case"end":return t.stop()}}),t)})))()},changeStatus:function(e){this.examineMasterOrderDataParmas.rejectionDesc=null},openReviewDescDialog:function(e){this.examineMasterOrderDataParmas.orderSn=e,this.reviewDescVisible=!0},goToLogisticsDetails:function(e,t,a){this.$router.push({name:"logisticsDetails",query:{partId:e,model:t,orderSn:a}})},handleReleaseComment:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.handleReleaseCommentParams.content){t.next=3;break}return e.$message({message:"请填写订单服务描述",type:"warning"}),t.abrupt("return");case 3:return e.handleReleaseCommentParams.masterInfoEvaluationGrade.forEach((function(t){t.evaluationGrade||e.$message({message:"请对全部师傅进行评价",type:"warning"})})),e.evaluateImgFileList.length>0&&(e.handleReleaseCommentParams.images=e.evaluateImgFileList.map((function(e){return e.url})).join(",")),t.next=7,Object(l["j"])(e.handleReleaseCommentParams);case 7:a=t.sent,"000"==a.code&&(e.$message({type:"success",message:"操作成功!"}),e.getRepairOrderDetail(),e.closeEnterpriseEvaluateDialog());case 9:case"end":return t.stop()}}),t)})))()},removeEvaluateImg:function(e){var t=this.evaluateImgFileList.findIndex((function(t){return t.url===e.url}));this.evaluateImgFileList.splice(t,1)},updataEvaluateImg:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var r,n,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=t.$loading({lock:!0,text:"上传评价图片...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),n=new FormData,n.append("file",e.file),a.next=5,Object(d["a"])(n);case 5:i=a.sent,i&&(r.close(),"000"==i.code&&t.evaluateImgFileList.push({url:i.data}));case 7:case"end":return a.stop()}}),a)})))()},closeEnterpriseEvaluateDialog:function(){this.handleReleaseCommentParams={content:null,images:null,masterInfoEvaluationGrade:null,orderSn:null,serviceScore:0},this.evaluateImgFileList=[],this.evaluateDialogVisible=!1},openEnterpriseEvaluateDialog:function(e){this.handleReleaseCommentParams.orderSn=e,this.handleReleaseCommentParams.masterInfoEvaluationGrade=this.orderDetail.serviceMasterInfoList,this.evaluateDialogVisible=!0},handleOrderRework:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.handleOrderReworkParams.sourceRelationOrderSn.includes("-F-")){t.next=3;break}return e.$message({type:"warning",message:"原企业订单号不能是返修单!"}),t.abrupt("return");case 3:return t.next=5,e.$refs["markRepairOrderForm"].validate();case 5:return t.next=7,Object(u["cb"])(e.handleOrderReworkParams);case 7:a=t.sent,"000"==a.code&&(e.$message({type:"success",message:"操作成功!"}),e.closeMarkRepairOrderDialog(),e.orderSn=a.data,e.getRepairOrderDetail());case 9:case"end":return t.stop()}}),t)})))()},closeMarkRepairOrderDialog:function(){this.$refs["markRepairOrderForm"].resetFields(),this.markRepairOrderDialogShow=!1,this.handleOrderReworkParams={currentRelationOrderSn:null,reason:null,sourceRelationOrderSn:null}},openMarkRepairOrderDialog:function(e){this.markRepairOrderDialogShow=!0,this.handleOrderReworkParams.currentRelationOrderSn=e},changeSupplier:function(e){var t=this.supplierList.findIndex((function(t){return t.supplierName==e}));this.setLogisticsData.supplierId=this.supplierList[t].id},confirmSetLogistics:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["D"])(e.setLogisticsData);case 2:a=t.sent,"操作成功"==a.message&&(e.$message({type:"success",message:"操作成功!"}),e.getRepairOrderDetail(),e.closeSetLogistics());case 4:case"end":return t.stop()}}),t)})))()},closeSetLogistics:function(){this.setLogisticsData={supplierId:null,supplierName:null},this.supplierInfoListParams={pageNo:1,pageSize:10,query:""},this.setLogisticsDialogShow=!1},openSetLogistics:function(e,t){var a=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var n,i,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a.setLogisticsData.orderSn=t,a.setLogisticsData.id=e.id,a.setLogisticsData.model=e.model,e.supplierId&&(n=e.supplierId,i=e.supplierName,a.setLogisticsData.supplierId=n,a.setLogisticsData.supplierName=i),r.next=6,Object(u["yb"])(a.supplierInfoListParams);case 6:s=r.sent,a.supplierList=s.data.records,a.supplierInfoListTotal=s.data.total,a.setLogisticsDialogShow=!0;case 10:case"end":return r.stop()}}),r)})))()},changesupplierInfoListPage:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.supplierInfoListParams.pageNo=e,a.next=3,Object(u["yb"])(t.supplierInfoListParams);case 3:r=a.sent,t.supplierList=r.data.records,t.supplierInfoListTotal=r.data.total;case 6:case"end":return a.stop()}}),a)})))()},searchMaintenanceSupplierInfo:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.supplierInfoListParams.pageNo=1,t.next=3,Object(u["yb"])(e.supplierInfoListParams);case 3:a=t.sent,e.supplierList=a.data.records,e.supplierInfoListTotal=a.data.total;case 6:case"end":return t.stop()}}),t)})))()},handleMarkValidOrder:function(e){var t=this;this.$prompt("请输入师傅有效单量","标记师傅有效单量",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/^\d+$/,inputErrorMessage:"请输入正确的数字"}).then(function(){var a=Object(s["a"])(regeneratorRuntime.mark((function a(r){var n,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=r.value,a.next=3,Object(u["U"])({validOrderNum:n,orderSn:e});case 3:i=a.sent,"000"==i.code&&(t.$message({type:"success",message:i.message}),t.getRepairOrderDetail());case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())},handleMasterOrderServiceTimeout:function(e,t){var a=this;this.$confirm("您确定要标记该师傅【".concat(t,"】订单服务超时吗?"),"标记服务超时",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(s["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["T"])(e);case 2:r=t.sent,"000"==r.code&&(a.$message({type:"success",message:r.message}),a.getRepairOrderDetail());case 4:case"end":return t.stop()}}),t)}))))},saveRepairOrderComplaint:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.saveRepairOrderComplaintParams.content){t.next=3;break}return e.$message({type:"warning",message:"请填写投诉原因"}),t.abrupt("return");case 3:return t.next=5,Object(u["Tb"])(e.saveRepairOrderComplaintParams);case 5:a=t.sent,"000"==a.code&&(e.$message({type:"success",message:a.message}),e.getRepairOrderDetail(),e.closeComplaintDialog());case 7:case"end":return t.stop()}}),t)})))()},closeComplaintDialog:function(){this.complaintDialogVisible=!1,this.saveRepairOrderComplaintParams={content:null,masterUid:null,orderSn:null,relationOrderSn:null},this.complaintWorkerName=""},openComplaintDialog:function(e){this.complaintWorkerName=e.realName,this.saveRepairOrderComplaintParams.masterUid=e.uid,this.saveRepairOrderComplaintParams.orderSn=e.orderSn,this.saveRepairOrderComplaintParams.relationOrderSn=e.relationOrderSn,this.complaintDialogVisible=!0},handleOrderRefund:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$confirm("您确定将订单退款吗?","订单退款",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});case 2:if(r=a.sent,"confirm"!=r){a.next=8;break}return a.next=6,Object(u["bb"])({orderSn:e});case 6:n=a.sent,"000"==n.code&&(t.$message({message:n.message,type:"success"}),t.getRepairOrderDetail());case 8:case"end":return a.stop()}}),a)})))()},_cancelRepairOrder:function(){var e=this;if(this.delOrderinpValue||null!=this.chooseOrderCancelTagNum){var t;t=null!=this.chooseOrderCancelTagNum?this.orderCancelTag[this.chooseOrderCancelTagNum]+","+this.delOrderinpValue:this.delOrderinpValue;var a={orderSn:this.orderSn,cancelReason:t};Object(u["e"])(a).then((function(t){"000"==t.code&&(e.$message({showClose:!0,message:t.message,type:"success"}),e.$router.push("/maintenance/maintenance_order"))}))}else this.$message({message:"请勾选任一标签或填写取消原因",type:"warning"})},closecancelOrderDialog:function(){this.cancelOrderDialog=!1,this.delOrderinpValue="",this.chooseOrderCancelTagNum=null},clickCancelOrderDialog:function(){this.cancelOrderDialog=!0},markArrivedFn:function(e,t){var a=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var n,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a.handlePartsTimeParams.id=e.id,a.handlePartsTimeParams.orderSn=t,a.handlePartsTimeParams.arriveFlag=!0,r.next=5,a.$confirm("您确定标记【".concat(e.name,"】已到达吗?"),"标记配件到达",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});case 5:if(n=r.sent,"confirm"!=n){r.next=11;break}return r.next=9,Object(u["eb"])(a.handlePartsTimeParams);case 9:i=r.sent,"000"==i.code&&(a.$message({message:i.message,type:"success"}),a.getRepairOrderDetail());case 11:case"end":return r.stop()}}),r)})))()},handlePartProductArriveInfo:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs["handlePartsTimeParamsRef"].validate();case 2:return t.next=4,Object(u["eb"])(e.handlePartsTimeParams);case 4:a=t.sent,"000"==a.code&&(e.$message({message:a.message,type:"success"}),e.closePartsTimeDialog(),e.getRepairOrderDetail());case 6:case"end":return t.stop()}}),t)})))()},formatDate:function(e){var t=new Date(e),a=t.getFullYear(),r=t.getMonth()+1,n=t.getDate(),i=t.getHours();return"".concat(a,"年").concat(r,"月").concat(n,"号").concat(i,"点")},changeEstimateArriveData:function(e){this.handlePartsTimeParams.estimateArriveData=this.formatDate(e)},openPartsTimeDialog:function(e,t){this.handlePartsTimeParams.id=e.id,this.handlePartsTimeParams.orderSn=t,this.partsTimeDialogVisible=!0},closePartsTimeDialog:function(){this.estimateArriveDataCopy=null,this.handlePartsTimeParams={arriveFlag:!1,estimateArriveData:null,id:null,orderSn:null},this.$refs["handlePartsTimeParamsRef"].resetFields(),this.partsTimeDialogVisible=!1},blurAmount:function(){this.consultCostParams.serviceAmount=(.25*this.consultCostParams.amount).toFixed(2),"全职"==this.masterTypeNameChoose?this.consultCostParams.retentionMoney=0:this.consultCostParams.retentionMoney=(.1*this.consultCostParams.amount).toFixed(2)},copyOrderInfo:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.orderDetail,r="企业订单号:".concat(a.orderSn,"\n订单类型:").concat(1==a.orderType?"散单":2==a.orderType?"年保":"年卡").concat(a.label,"\n设备编号:").concat(a.no?a.no:"无","\n设备产地:").concat(a.devicePlace?a.devicePlace:"无","\n设备类型:").concat(a.deviceTypeName?a.deviceTypeName:"无","\n设备品牌:").concat(a.deviceBrand?a.deviceBrand:"无","\n设备数量:").concat(a.num?a.num:"1","台\n设备系统:").concat(a.deviceSystemName?a.deviceSystemName:"无","\n期望时间:").concat(a.serviceTime,"\n企业设备编号:").concat(a.enterpriseDeviceNo?a.enterpriseDeviceNo:"无","\n企业设备位置:").concat(a.enterpriseDevicePosition?a.enterpriseDevicePosition:"无","\n设备型号:").concat(a.deviceModel?a.deviceModel:"无","\n出厂时间:").concat(a.factoryTime?a.factoryTime:"无","\n故障描述:").concat(a.simpleDesc?a.simpleDesc:"无","\n故障部位:").concat(a.position?a.position:"无","\n联系地址:").concat(a.address?a.address:"无"),t.next=4,navigator.clipboard.writeText(r);case 4:e.$message({message:"复制成功",type:"success"});case 5:case"end":return t.stop()}}),t)})))()},confirmConsultPrice:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.laborCostTxt<0)){t.next=3;break}return e.$message({message:"协商到手人工费不能小于0",type:"warning"}),t.abrupt("return");case 3:return t.next=5,e.$refs["consultCostForm"].validate();case 5:return t.next=7,Object(u["f"])(e.consultCostParams);case 7:a=t.sent,"操作成功"===a.message&&(e.$message({message:a.message,type:"success"}),e.closeConsultPriceDialog(),e.getRepairOrderDetail());case 9:case"end":return t.stop()}}),t)})))()},closeConsultPriceDialog:function(){this.consultCostParams={orderSn:null,amount:null,remarks:null,flag:1,serviceAmount:null,retentionMoney:null},this.laborCostTxt=null,this.$refs["consultCostForm"].resetFields(),this.consultPriceVisible=!1},openConsultPriceDialog:function(e,t,a,r,n){var i=this,s=this.$createElement;this.$msgbox({title:"绩效",message:s("p",null,[s("span",{style:"color: red"},"协商人工费前请删除该师傅无效故障项目及配件")]),showCancelButton:!0,confirmButtonText:"我已知晓",cancelButtonText:"取消",beforeClose:function(t,r,s){"confirm"===t?(s(),i.consultCostParams.orderSn=e,i.consultCostParams.remarks=a||"无",i.masterTypeNameChoose=n,i.consultPriceVisible=!0):(s(),console.log(2921))}})},handleProxyPayment:function(e){var t=this;this.$confirm("您确定要标记企业已付款(请核实该企业线下是否打款至平台)?","提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then(Object(s["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(l["i"])(e);case 2:r=a.sent,"操作成功"===r.message&&(t.$message({message:r.message,type:"success"}),t.getRepairOrderDetail());case 4:case"end":return a.stop()}}),a)}))))},handleOnlineOrder:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.$confirm("您确定要为该企业生成线上工单?","提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then(Object(s["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=t.$loading({lock:!0,text:"正在生成工单...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),a.next=3,Object(l["e"])(e);case 3:n=a.sent,"操作成功"===n.message&&(t.$message({message:n.message,type:"success"}),t.getRepairOrderDetail());case 5:case"end":return a.stop()}}),a)})))).finally((function(){r.close()}));case 1:case"end":return a.stop()}}),a)})))()},rejectOrderCheck:function(e){var t=this;this.$confirm("您确定要驳回师傅提交的验收申请吗?","提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then(Object(s["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(u["Qb"])(e);case 2:r=a.sent,"操作成功"===r.message&&(t.$message({message:r.message,type:"success"}),t.getRepairOrderDetail());case 4:case"end":return a.stop()}}),a)}))))},handleEnterpriseCheck:function(e){var t=this;this.$confirm("您确定要操作代企业确认验收?","提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then(Object(s["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(l["b"])(e);case 2:r=a.sent,"操作成功"===r.message&&(t.$message({message:r.message,type:"success"}),t.getRepairOrderDetail());case 4:case"end":return a.stop()}}),a)}))))},handleSubmitAcceptance:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs["handleSubmitAcceptanceParamsRef"].validate();case 2:return t.next=4,Object(l["m"])(e.handleSubmitAcceptanceParams);case 4:a=t.sent,"操作成功"==a.message&&(e.$message({message:a.message,type:"success"}),e.getRepairOrderDetail(),e.closeSubmitAcceptanceDialog());case 6:case"end":return t.stop()}}),t)})))()},delCompleteImages:function(e){var t=[];this.completeImagesList.forEach((function(e){t.push(e.url)}));var a=t.indexOf(e.url);this.completeImagesList.splice(a,1),t.splice(a,1),this.handleSubmitAcceptanceParams.completeImages=t.join(","),this.$refs.uploadCompleteImagesRef.$children[1].$el.style.display="",this.$refs.handleSubmitAcceptanceParamsRef.validateField("completeImages")},uploadCompleteImages:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var r,n,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=new FormData,r.append("file",e.file),a.next=4,Object(d["a"])(r);case 4:n=a.sent,"操作成功"==n.message&&(t.completeImagesList.push({url:n.data}),i=[],t.completeImagesList.forEach((function(e){i.push(e.url)})),t.handleSubmitAcceptanceParams.completeImages=i.join(","),i.length>=6&&(t.$refs.uploadCompleteImagesRef.$children[1].$el.style.display="none"),t.$refs.handleSubmitAcceptanceParamsRef.validateField("completeImages"));case 6:case"end":return a.stop()}}),a)})))()},closeSubmitAcceptanceDialog:function(){this.$refs["handleSubmitAcceptanceParamsRef"].resetFields(),this.handleSubmitAcceptanceParams={completeImages:"",offlineImages:"",orderSn:"",time:""},this.completeImagesList=[],this.offlineImagesList=[],this.$refs.uploadCompleteImagesRef.$children[1].$el.style.display="",this.submitAcceptanceDialogVisible=!1},openSubmitAcceptanceDialog:function(e){this.handleSubmitAcceptanceParams.orderSn=e,this.submitAcceptanceDialogVisible=!0},handleStartService:function(e){var t=this;this.$confirm("您确定要操作代师傅开始服务?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(s["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(l["l"])(e);case 2:r=a.sent,"操作成功"===r.message&&(t.$message({message:r.message,type:"success"}),t.getRepairOrderDetail());case 4:case"end":return a.stop()}}),a)}))))},handleProxyConfirmQuotation:function(e){var t=this;this.$confirm("您确定要操作代企业确认师傅报价?","提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then(Object(s["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(l["g"])({orderSn:e});case 2:r=a.sent,"操作成功"===r.message&&(t.$message({message:r.message,type:"success"}),t.getRepairOrderDetail());case 4:case"end":return a.stop()}}),a)}))))},sumbitQuotation:function(e){var t=this;this.$confirm("确认定价无误?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(s["a"])(regeneratorRuntime.mark((function a(){var r,n,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=t.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),n={orderSn:e,status:2,rejectReason:""},a.next=4,Object(u["C"])(n);case 4:i=a.sent,"000"==i.code&&(r.close(),t.$message({message:i.message,type:"success"}),t.getRepairOrderDetail());case 6:case"end":return a.stop()}}),a)}))))},handleMasterQuotation:function(e){var t=this;this.$confirm("您确定要操作代师傅提交检测报价?","提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then(Object(s["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(l["d"])({orderSn:e});case 2:r=a.sent,"操作成功"===r.message&&(t.$message({message:r.message,type:"success"}),t.getRepairOrderDetail());case 4:case"end":return a.stop()}}),a)}))))},handlePhotographPunch:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs["handlePhotographPunchParamsRef"].validate();case 2:return t.next=4,Object(l["f"])(e.handlePhotographPunchParams);case 4:a=t.sent,"操作成功"==a.message&&(e.$message({message:a.message,type:"success"}),e.getRepairOrderDetail(),e.closeHandlePhotographPunchDialog());case 6:case"end":return t.stop()}}),t)})))()},delPunchImages:function(){this.handlePhotographPunchParams.punchImages="",this.$refs.uploadPunchImagesRef.$children[1].$el.style.display="",this.$refs.handlePhotographPunchParamsRef.validateField("punchImages")},uploadPunchImages:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=new FormData,r.append("file",e.file),a.next=4,Object(d["a"])(r);case 4:n=a.sent,"操作成功"==n.message&&(t.handlePhotographPunchParams.punchImages=n.data,t.punchImagesList=[{url:n.data}],t.$refs.uploadPunchImagesRef.$children[1].$el.style.display="none",t.$refs.handlePhotographPunchParamsRef.validateField("punchImages"));case 6:case"end":return a.stop()}}),a)})))()},closeHandlePhotographPunchDialog:function(){this.$refs["handlePhotographPunchParamsRef"].resetFields(),this.handlePhotographPunchParams={orderSn:null,punchImages:null,punchTime:null},this.punchImagesList=[],this.$refs.uploadPunchImagesRef.$children[1].$el.style.display="",this.photographPunchDialogVisible=!1},openHandlePhotographPunchDialog:function(e){this.handlePhotographPunchParams.orderSn=e,this.photographPunchDialogVisible=!0},handleRemindStarted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs["handleRemindStartedParamsRef"].validate();case 2:return t.next=4,Object(l["k"])(e.handleRemindStartedParams);case 4:a=t.sent,"操作成功"==a.message&&(e.$message({message:a.message,type:"success"}),e.getRepairOrderDetail(),e.closeRemindStartedDialog());case 6:case"end":return t.stop()}}),t)})))()},closeRemindStartedDialog:function(){this.$refs["handleRemindStartedParamsRef"].resetFields(),this.handleRemindStartedParams={orderSn:null,punchTime:null},this.remindStartedDialogVisible=!1},openRemindStartedDialog:function(e){this.handleRemindStartedParams.orderSn=e,this.remindStartedDialogVisible=!0},goAssignedMasterPage:function(){var e=this.orderDetail,t=e.orderSn,a=e.masterUidList,r=e.masterNameList;this.$router.push({path:"/maintenance/assignedWorker",query:{orderSn:t,masterUidList:a,masterNameList:r}})},transferPartProduct:function(e,t){var a=this;this.$confirm("您确定要将此配件[".concat(e.name,"]转移至最后一个师傅,该操作只能执行一次"),"提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then(Object(s["a"])(regeneratorRuntime.mark((function r(){var n,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n={saleOrderId:e.saleOrderId,orderSn:t},r.next=3,Object(u["Xb"])(n);case 3:i=r.sent,"000"==i.code&&(a.$message({message:i.message,type:"success"}),a.getRepairOrderDetail());case 5:case"end":return r.stop()}}),r)}))))},delPartsList:function(e,t){var a=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:a.$confirm("您确定删除该配件吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(s["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Object(u["k"])({id:e.id,orderSn:t});case 2:n=r.sent,"操作成功"==n.message&&(a.$message({type:"success",message:"删除成功"}),a.getRepairOrderDetail());case 4:case"end":return r.stop()}}),r)}))));case 1:case"end":return r.stop()}}),r)})))()},transferOrderFaultItem:function(e,t){var a=this;this.$confirm("您确定要将此故障项[".concat(e.position,"]转移至最后一个师傅,该操作只能执行一次"),"提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then(Object(s["a"])(regeneratorRuntime.mark((function r(){var n,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n={id:e.id,orderSn:t},r.next=3,Object(u["Wb"])(n);case 3:i=r.sent,"000"==i.code&&(a.$message({message:i.message,type:"success"}),a.getRepairOrderDetail());case 5:case"end":return r.stop()}}),r)}))))},comfirmWarehousePart:function(){var e=this.jdProductList[this.choosePartIndex],t=e.brandId,a=e.brandName,r=e.id,n=e.model,i=e.name,s=e.number,o=e.unitId,l=e.price;this.partInfo.brand=a,this.partInfo.brandId=t,this.partInfo.partId=r,this.partInfo.parameter=n,this.partInfo.name=i,this.partInfo.number=s,this.partInfo.unitId=o,this.partInfo.price=l,this.closeWarehouseSearch()},closeWarehouseSearch:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.queryJdProductListParams.query="",e.jdProductList=[],e.queryJdProductList(),e.warehouseSearchDialogShow=!1;case 4:case"end":return t.stop()}}),t)})))()},confirmAddEditPart:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return 2==e.partInfo.stashPartsWay?(e.partInfo.brand||(e.partInfo.brand="无"),e.partInfo.parameter||(e.partInfo.parameter="无")):e.partInfo.id||(a=Date.now(),a=a.toString().slice(-4),e.partInfo.id="undefined-"+Number(a)),t.next=3,e.$refs["partInfoRuleForm"].validate();case 3:return r=Object(o["a"])({},e.partInfo),t.next=6,Object(u["x"])(r);case 6:n=t.sent,"操作成功"==n.message&&(e.$message({type:"success",message:"操作成功!"}),e.getRepairOrderDetail(),e.closeAddEditPart());case 8:case"end":return t.stop()}}),t)})))()},delUploadPartImg:function(e){var t=this.uploadPartImgList.map((function(e){return e.url})).indexOf(e.url);this.uploadPartImgList.splice(t,1);var a=[];this.uploadPartImgList.forEach((function(e){a.push(e.url)})),this.partInfo.image=a.join(",")},uploadPartImg:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var r,n,i,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=t.$loading({lock:!0,text:"图片上传中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),setTimeout((function(){r.close()}),7e3),n=new FormData,n.append("file",e.file),a.next=6,Object(d["a"])(n);case 6:i=a.sent,t.uploadPartImgList||(t.uploadPartImgList=[]),t.uploadPartImgList.push({url:i.data}),s=[],t.uploadPartImgList.forEach((function(e){s.push(e.url)})),t.partInfo.image=s.join(","),r.close();case 13:case"end":return a.stop()}}),a)})))()},queryJdProductList:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.choosePartIndex=null,t.next=3,Object(u["wb"])(e.queryJdProductListParams);case 3:a=t.sent,e.jdProductList=a.data.records;case 5:case"end":return t.stop()}}),t)})))()},openWarehouseSearch:function(){this.partInfo.model?(this.warehouseSearchDialogShow=!0,this.queryJdProductListParams.type=this.partInfo.model,this.queryJdProductList()):this.$message({message:"请先选择配件模式",type:"warning"})},changeStashPartsWay:function(){this.partInfo.brand="",this.partInfo.brandId="",this.partInfo.parameter="",this.partInfo.name="",this.partInfo.number="",this.partInfo.unitId="",this.partInfo.price="",this.partInfo.partId="",this.partInfo.id=""},changeType:function(){this.$refs.partInfoRuleForm.validateField("type")},changeModel:function(){this.$refs.partInfoRuleForm.validateField("model")},closeAddEditPart:function(){this.partInfo={stashPartsWay:1,brand:"",brandId:"",image:"",model:"",name:"",num:"",number:"",parameter:"",price:"",type:"",id:"",partId:"",operationType:"add",index:null},this.uploadPartImgList=[],this.addEditPartDialogShow=!1,this.$refs["partInfoRuleForm"].resetFields()},openAddEditPart:function(e,t,a,r){var n=this;return Object(s["a"])(regeneratorRuntime.mark((function i(){var s,l,u,d,m;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(!t&&0!=t){i.next=8;break}n.partInfo.operationType="edit",n.partInfo=Object(o["a"])({},e),e.image&&(s=e.image.split(","),n.uploadPartImgList=[],s.forEach((function(e){n.uploadPartImgList.push({url:e})}))),n.addEditPartTitle="修改配件",n.partInfo.operationType="edit",i.next=19;break;case 8:return n.addEditPartTitle="新增配件",n.partInfo.operationType="add",i.next=12,Object(c["e"])({enterpriseOrderSn:n.orderSn});case 12:l=i.sent,u=l.data.enrollRepairOrderOutList[r].parts,u=JSON.parse(u),d=[],u&&u.forEach((function(e){e.index&&d.push(e.index)})),d.length>0?(m=Math.max.apply(Math,d),n.partInfo.index=m+1):n.partInfo.index=1,console.log(4033,n.partInfo.index);case 19:n.partInfo.orderSn=a.orderSn,n.addEditPartDialogShow=!0;case 21:case"end":return i.stop()}}),i)})))()},delSolvePlan:function(e,t){var a=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:a.$confirm("您确定删除该故障项目吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(s["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Object(u["j"])({id:e.id,orderSn:t});case 2:n=r.sent,"000"==n.code&&(a.$message({type:"success",message:"删除成功"}),a.getRepairOrderDetail());case 4:case"end":return r.stop()}}),r)}))));case 1:case"end":return r.stop()}}),r)})))()},changeEnterpriseConsultAmount:function(){this.examineFaultsForm.masterConsultAmount=this.examineFaultsForm.enterpriseConsultAmount},comfirmExamineFaults:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return Array.isArray(e.examineFaultsForm.image)&&(e.examineFaultsForm.image=JSON.stringify(e.examineFaultsForm.image)),t.next=3,Object(u["A"])(e.examineFaultsForm);case 3:if(a=t.sent,"操作成功"!=a.message){t.next=10;break}return e.$message({type:"success",message:"操作成功!"}),t.next=8,e.closeExamineFaultsDialog();case 8:return t.next=10,e.getRepairOrderDetail();case 10:case"end":return t.stop()}}),t)})))()},delExamineFaultsFormVideo:function(){this.examineFaultsFormVideoList=[],this.examineFaultsForm.image[1]=null},uploadExamineFaultsFormVideoList:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var r,n,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=t.$loading({lock:!0,text:"上传故障视频...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),n=new FormData,n.append("file",e.file),a.next=5,Object(d["a"])(n);case 5:i=a.sent,i&&(r.close(),i.data&&(t.examineFaultsForm.image||(t.examineFaultsForm.image=[]),t.examineFaultsForm.image[1]=i.data,t.examineFaultsFormVideoList=[{url:i.data}]));case 7:case"end":return a.stop()}}),a)})))()},uploadExamineFaultsFormPicList:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var r,n,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=t.$loading({lock:!0,text:"上传故障图片...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),n=new FormData,n.append("file",e.file),a.next=5,Object(d["a"])(n);case 5:i=a.sent,i&&(r.close(),i.data&&(t.examineFaultsForm.image||(t.examineFaultsForm.image=[]),t.examineFaultsForm.image[0]=i.data,t.examineFaultsFormPicList=[{url:i.data}]));case 7:case"end":return a.stop()}}),a)})))()},delExamineFaultsFormPicList:function(){this.examineFaultsForm.image[0]=null,this.examineFaultsFormPicList=[]},closeExamineFaultsDialog:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.examineFaultsFormVideoList=[],e.examineFaultsFormPicList=[],e.examineFaultsForm={},e.examineFaults=!1;case 4:case"end":return t.stop()}}),t)})))()},openExamineFaultsDialog:function(e,t,a){this.examineFaultsForm=Object(o["a"])({},e),this.examineFaultsForm.isDateAfter20250301Val=a,this.examineFaultsForm.intervalPrice=this.examineFaultsForm.generalAmount+"~"+this.examineFaultsForm.annualAmount,this.examineFaultsForm.enterpriseConsultAmount||(this.examineFaultsForm.enterpriseConsultAmount=this.examineFaultsForm.annualAmount),this.examineFaultsForm.image&&(this.examineFaultsForm.image[0]&&(this.examineFaultsFormPicList=[{url:this.examineFaultsForm.image[0]}]),this.examineFaultsForm.image[1]&&(this.examineFaultsFormVideoList=[{url:this.examineFaultsForm.image[1]}])),Array.isArray(e.image)&&e.image.length>0&&(this.examineFaultsForm.image=Object(i["a"])(e.image)),this.examineFaultsForm.orderSn=t,this.examineFaults=!0},confirmAddFault:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.chooseFaultItemVal.id){t.next=3;break}return e.$message({showClose:!0,message:"请选择要新增的故障项目",type:"warning"}),t.abrupt("return");case 3:return t.next=5,Object(u["a"])(e.chooseFaultItemVal);case 5:if(a=t.sent,"操作成功"!=a.message){t.next=10;break}return t.next=9,e.getRepairOrderDetail();case 9:e.closeAddFaultDialog();case 10:case"end":return t.stop()}}),t)})))()},searchFaultList:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.queryFaultItemsParams.pageNo=1,t.next=3,e.queryFaultItems();case 3:case"end":return t.stop()}}),t)})))()},changeFaultDialogPage:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.queryFaultItemsParams.pageNo=e,a.next=3,t.queryFaultItems();case 3:case"end":return a.stop()}}),a)})))()},chooseFaultItem:function(e){this.chooseFaultItemVal=Object(o["a"])(Object(o["a"])({},this.chooseFaultItemVal),e)},queryFaultItems:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["ub"])(e.queryFaultItemsParams);case 2:a=t.sent,e.faultItemList=a.data.records,e.faultItemPages=a.data.pages,e.faultItemTotal=a.data.total;case 6:case"end":return t.stop()}}),t)})))()},closeAddFaultDialog:function(){this.chooseFaultItemVal={},this.queryFaultItemsParams={pageNo:1,pageSize:10,query:null},this.addFaultVisible=!1},openAddFaultDialog:function(e,t){var a=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a.chooseFaultItemVal.isDateAfter20250301Val=t,r.next=3,a.queryFaultItems();case 3:a.chooseFaultItemVal.orderSn=e,a.addFaultVisible=!0;case 5:case"end":return r.stop()}}),r)})))()},changeTabActiveName:function(){var e=this;"全流程跟踪"!=this.rightTabActiveName&&(this.chooseMaster=this.orderDetail.enrollRepairOrderOutList.findIndex((function(t){return t.orderSn===e.rightTabActiveName})))},isDateAfter20250301:function(e){var t=new Date(e.replace(" ","T"));return t>=new Date(2025,2,1)},goToVideoUrl:function(e){e&&window.open(e)},scrollLeft:function(){var e=this.$refs.statusListFlex;e.scrollLeft-=300},scrollRight:function(){var e=this.$refs.statusListFlex;e.scrollLeft+=300},getRepairOrderDetail:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["e"])({enterpriseOrderSn:e.orderSn});case 2:a=t.sent,"000"==a.code&&(a.data.userCouponList&&(e.ownedCouponsList=a.data.userCouponList),r=function(e){return e.split(",").map((function(e){return e.trim()})).filter((function(e){return e}))},a.data.enrollRepairOrderOutList&&a.data.enrollRepairOrderOutList.length>0?(e.masterOrderTrackList=[],a.data.enrollRepairOrderOutList.forEach((function(t){if(t.repairComment&&t.repairComment.labels&&(t.repairComment.labels=t.repairComment.labels.split(",")),t.orderTrackList){t.statusListData=[{title:"企业发布订单",subStatus:"2001"},{title:"平台指派师傅",subStatus:"2101"},{title:"师傅接单",subStatus:"3201"},{title:"师傅提交报价",subStatus:"3202"},{title:"平台审核定价",subStatus:"2203"},{title:"师傅服务中",subStatus:"3301"},{title:"师傅提交验收",subStatus:"3401"},{title:"企业验收",subStatus:"2501"},{title:"企业支付",subStatus:"2601"},{title:"订单完成",subStatus:"2602"},{title:"师傅取消订单",subStatus:"-3001"},{title:"企业取消订单",subStatus:"-2001"}];var a=t.orderTrackList.some((function(e){return"-2001"==e.subStatus})),n=t.orderTrackList.some((function(e){return"-3001"==e.subStatus}));a&&n&&(t.orderTrackList=t.orderTrackList.filter((function(e){return"-3001"!==e.subStatus})));var i=new Map(t.orderTrackList.map((function(e){return[e.subStatus,e]}))),s=t.statusListData.map((function(e){var t=i.get(e.subStatus);return t?Object(o["a"])(Object(o["a"])({},e),{},{createTime:t.createTime}):e})),l=s.filter((function(e){return null!=e.createTime&&""!==e.createTime}));e.masterOrderTrackList.push(l)}var c;(t.isDateAfter20250301Val=e.isDateAfter20250301(t.createTime),t.completeImages&&(t.completeImages=r(t.completeImages)),t.punchImages&&(t.punchImages=r(t.punchImages)),t.faults)&&(t.faults=JSON.parse(t.faults),(null===(c=t.faults)||void 0===c?void 0:c.length)>0&&t.faults.forEach((function(e){"string"==typeof e.image&&""!=e.image&&(e.image=JSON.parse(e.image))})));t.parts&&(t.parts=JSON.parse(t.parts),t.parts.forEach((function(e){var t=e.num*e.price;e.totalMoney=Number(t.toFixed(2))})))})),e.rightTabActiveName=a.data.enrollRepairOrderOutList[a.data.enrollRepairOrderOutList.length-1].orderSn,e.chooseMaster=a.data.enrollRepairOrderOutList.length-1):e.rightTabActiveName="全流程跟踪",setTimeout((function(){var t=e.$refs.statusListFlex;t.scrollLeft+=1e3}),1e3),e.orderDetail=a.data);case 4:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.orderSn=e.$route.query.orderSn,e.getSysLabel(),t.next=5,e.getRepairOrderDetail();case 5:case"end":return t.stop()}}),t)})))()}},f=p,g=(a("2aa9"),a("2877")),v=Object(g["a"])(f,r,n,!1,null,"5e5a01f8",null);t["default"]=v.exports},6566:function(e,t,a){"use strict";var r=a("9bf2").f,n=a("7c73"),i=a("6964"),s=a("0366"),o=a("19aa"),l=a("7234"),c=a("2266"),u=a("c6d2"),d=a("4754"),m=a("2626"),p=a("83ab"),f=a("f183").fastKey,g=a("69f3"),v=g.set,h=g.getterFor;e.exports={getConstructor:function(e,t,a,u){var d=e((function(e,r){o(e,m),v(e,{type:t,index:n(null),first:void 0,last:void 0,size:0}),p||(e.size=0),l(r)||c(r,e[u],{that:e,AS_ENTRIES:a})})),m=d.prototype,g=h(t),b=function(e,t,a){var r,n,i=g(e),s=y(e,t);return s?s.value=a:(i.last=s={index:n=f(t,!0),key:t,value:a,previous:r=i.last,next:void 0,removed:!1},i.first||(i.first=s),r&&(r.next=s),p?i.size++:e.size++,"F"!==n&&(i.index[n]=s)),e},y=function(e,t){var a,r=g(e),n=f(t);if("F"!==n)return r.index[n];for(a=r.first;a;a=a.next)if(a.key==t)return a};return i(m,{clear:function(){var e=this,t=g(e),a=t.index,r=t.first;while(r)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete a[r.index],r=r.next;t.first=t.last=void 0,p?t.size=0:e.size=0},delete:function(e){var t=this,a=g(t),r=y(t,e);if(r){var n=r.next,i=r.previous;delete a.index[r.index],r.removed=!0,i&&(i.next=n),n&&(n.previous=i),a.first==r&&(a.first=n),a.last==r&&(a.last=i),p?a.size--:t.size--}return!!r},forEach:function(e){var t,a=g(this),r=s(e,arguments.length>1?arguments[1]:void 0);while(t=t?t.next:a.first){r(t.value,t.key,this);while(t&&t.removed)t=t.previous}},has:function(e){return!!y(this,e)}}),i(m,a?{get:function(e){var t=y(this,e);return t&&t.value},set:function(e,t){return b(this,0===e?0:e,t)}}:{add:function(e){return b(this,e=0===e?0:e,e)}}),p&&r(m,"size",{get:function(){return g(this).size}}),d},setStrong:function(e,t,a){var r=t+" Iterator",n=h(t),i=h(r);u(e,t,(function(e,t){v(this,{type:r,target:e,state:n(e),kind:t,last:void 0})}),(function(){var e=i(this),t=e.kind,a=e.last;while(a&&a.removed)a=a.previous;return e.target&&(e.last=a=a?a.next:e.state.first)?d("keys"==t?a.key:"values"==t?a.value:[a.key,a.value],!1):(e.target=void 0,d(void 0,!0))}),a?"entries":"values",!a,!0),m(t)}}},"6d61":function(e,t,a){"use strict";var r=a("23e7"),n=a("da84"),i=a("e330"),s=a("94ca"),o=a("cb2d"),l=a("f183"),c=a("2266"),u=a("19aa"),d=a("1626"),m=a("7234"),p=a("861d"),f=a("d039"),g=a("1c7e"),v=a("d44e"),h=a("7156");e.exports=function(e,t,a){var b=-1!==e.indexOf("Map"),y=-1!==e.indexOf("Weak"),x=b?"set":"add",D=n[e],_=D&&D.prototype,O=D,C={},P=function(e){var t=i(_[e]);o(_,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(y&&!p(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return y&&!p(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(y&&!p(e))&&t(this,0===e?0:e)}:function(e,a){return t(this,0===e?0:e,a),this})},w=s(e,!d(D)||!(y||_.forEach&&!f((function(){(new D).entries().next()}))));if(w)O=a.getConstructor(t,e,b,x),l.enable();else if(s(e,!0)){var S=new O,A=S[x](y?{}:-0,1)!=S,k=f((function(){S.has(1)})),I=g((function(e){new D(e)})),R=!y&&f((function(){var e=new D,t=5;while(t--)e[x](t,t);return!e.has(-0)}));I||(O=t((function(e,t){u(e,_);var a=h(new D,e,O);return m(t)||c(t,a[x],{that:a,AS_ENTRIES:b}),a})),O.prototype=_,_.constructor=O),(k||R)&&(P("delete"),P("has"),b&&P("get")),(R||A)&&P(x),y&&_.clear&&delete _.clear}return C[e]=O,r({global:!0,constructor:!0,forced:O!=D},C),v(O,e),y||a.setStrong(O,e,b),O}},"6f48":function(e,t,a){"use strict";var r=a("6d61"),n=a("6566");r("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n)},"7db0":function(e,t,a){"use strict";var r=a("23e7"),n=a("b727").find,i=a("44d2"),s="find",o=!0;s in[]&&Array(1)[s]((function(){o=!1})),r({target:"Array",proto:!0,forced:o},{find:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),i(s)},a15b:function(e,t,a){"use strict";var r=a("23e7"),n=a("e330"),i=a("44ad"),s=a("fc6a"),o=a("a640"),l=n([].join),c=i!=Object,u=o("join",",");r({target:"Array",proto:!0,forced:c||!u},{join:function(e){return l(s(this),void 0===e?",":e)}})},a8e1:function(e,t){e.exports="data:image/png;base64,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"},bae6:function(e,t){e.exports="data:image/png;base64,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"},bb2f:function(e,t,a){var r=a("d039");e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},c24f:function(e,t,a){"use strict";a.d(t,"g",(function(){return n})),a.d(t,"t",(function(){return i})),a.d(t,"k",(function(){return s})),a.d(t,"a",(function(){return o})),a.d(t,"u",(function(){return l})),a.d(t,"d",(function(){return c})),a.d(t,"n",(function(){return u})),a.d(t,"f",(function(){return d})),a.d(t,"e",(function(){return m})),a.d(t,"c",(function(){return p})),a.d(t,"v",(function(){return f})),a.d(t,"l",(function(){return g})),a.d(t,"m",(function(){return v})),a.d(t,"p",(function(){return h})),a.d(t,"q",(function(){return b})),a.d(t,"o",(function(){return y})),a.d(t,"h",(function(){return x})),a.d(t,"b",(function(){return D})),a.d(t,"s",(function(){return _})),a.d(t,"r",(function(){return O})),a.d(t,"i",(function(){return C})),a.d(t,"j",(function(){return P}));var r=a("b775");a("cb5c");function n(e){return Object(r["a"])({url:"/admin/maintenance/handleCommission",method:"post",data:e})}function i(e){return Object(r["a"])({url:"/admin/business/querySalesmanList",method:"post",data:e})}function s(e){return Object(r["a"])({url:"/admin/business/handleSalesmanChatMapperBind",method:"post",data:e})}function o(e){return Object(r["a"])({url:"/admin/maintenance/bindUserAccount",method:"post",data:e})}function l(e){return Object(r["a"])({url:"/admin/userInfo/queryUserInfo",method:"post",data:e})}function c(e){return Object(r["a"])({url:"/admin/maintenance/queryMasterList",method:"get",params:e})}function u(e){return Object(r["a"])({url:"/admin/maintenance/queryAssignableMasterList",method:"post",data:e})}function d(e){return Object(r["a"])({url:"/admin/maintenance/handleAssignMaster",method:"post",data:e})}function m(e){return Object(r["a"])({url:"/admin/maintenance/getRepairOrderDetail",method:"get",params:e})}function p(e){return Object(r["a"])({url:"/admin/maintenance/queryEnterpriseList",method:"post",data:e})}function f(e){return Object(r["a"])({url:"/admin/userInfo/queryWithdrawal",method:"post",data:e})}function g(e){return Object(r["a"])({url:"/admin/userInfo/handleWithdrawalExamine",method:"post",data:e})}function v(e){return Object(r["a"])({url:"/admin/userInfo/handleWithdrawalExport",method:"post",responseType:"blob",data:e})}function h(e){return Object(r["a"])({url:"/admin/business/queryCustomerPool",method:"post",data:e})}function b(e){return Object(r["a"])({url:"/admin/business/queryCustomerVisitList",method:"post",data:e})}function y(e){return Object(r["a"])({url:"/admin/business/queryCustomerApplyVisitList",method:"post",data:e})}function x(e){return Object(r["a"])({url:"/admin/business/handleCustomerApplyVisit",method:"post",data:e})}function D(e){return Object(r["a"])({url:"/admin/userInfo/getAccountMoney?uid="+e,method:"get"})}function _(e){return Object(r["a"])({url:"/admin/userInfo/queryMoneyList",method:"post",data:e})}function O(e){return Object(r["a"])({url:"/admin/business/queryEnterpriseWechatList",method:"post",data:e})}function C(e){return Object(r["a"])({url:"/admin/business/handleEnterpriseWechatBind",method:"post",data:e})}function P(){return Object(r["a"])({url:"/admin/business/handleRepairOrderBind",method:"post"})}},d86b:function(e,t,a){var r=a("d039");e.exports=r((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},f183:function(e,t,a){var r=a("23e7"),n=a("e330"),i=a("d012"),s=a("861d"),o=a("1a2d"),l=a("9bf2").f,c=a("241c"),u=a("057f"),d=a("4fad"),m=a("90e3"),p=a("bb2f"),f=!1,g=m("meta"),v=0,h=function(e){l(e,g,{value:{objectID:"O"+v++,weakData:{}}})},b=function(e,t){if(!s(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,g)){if(!d(e))return"F";if(!t)return"E";h(e)}return e[g].objectID},y=function(e,t){if(!o(e,g)){if(!d(e))return!0;if(!t)return!1;h(e)}return e[g].weakData},x=function(e){return p&&f&&d(e)&&!o(e,g)&&h(e),e},D=function(){_.enable=function(){},f=!0;var e=c.f,t=n([].splice),a={};a[g]=1,e(a).length&&(c.f=function(a){for(var r=e(a),n=0,i=r.length;n<i;n++)if(r[n]===g){t(r,n,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:u.f}))},_=e.exports={enable:D,fastKey:b,getWeakData:y,onFreeze:x};i[g]=!0}}]);