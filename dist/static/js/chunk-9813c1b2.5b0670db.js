(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9813c1b2"],{"9b07":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"manage-top"},[a("el-form",{ref:"ruleForm",staticClass:"rule-form",attrs:{model:t.queryData,"label-width":"88px","label-position":"right"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"装机名称"}},[a("el-input",{attrs:{placeholder:"请输入装机名称"},model:{value:t.queryData.name,callback:function(e){t.$set(t.queryData,"name",e)},expression:"queryData.name"}})],1)],1),a("el-col",{staticStyle:{width:"458px"}},[a("el-form-item",{attrs:{label:"上传时间"}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.queryData.queryTime,callback:function(e){t.$set(t.queryData,"queryTime",e)},expression:"queryData.queryTime"}})],1)],1),a("el-col",{attrs:{span:5}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.getDataListFn}},[t._v("查询")]),a("el-button",{attrs:{type:"infor",icon:"el-icon-refresh"},on:{click:t.resSetQueryFn}},[t._v("重置")]),a("el-button",{attrs:{type:"success",icon:"el-icon-circle-plus-outline"},on:{click:t.installedit}},[t._v("添加装机")])],1)],1)],1)],1),a("div",{staticStyle:{height:"16px"}}),a("div",{staticClass:"manage-table"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.dataConfig.loading,expression:"dataConfig.loading"}],ref:"multipleTable",attrs:{data:t.dataList,"default-sort":{prop:"sort",order:"descending"}},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{prop:"id",label:"编号",width:"100",align:"center"}}),a("el-table-column",{attrs:{label:"类型",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v("装机")])]}}])}),a("el-table-column",{attrs:{prop:"name",label:"装机名称",width:"200",align:"center"}}),a("el-table-column",{attrs:{prop:"modelName",label:"装机型号",width:"200",align:"center"}}),a("el-table-column",{attrs:{prop:"price",label:"价格",width:"170",align:"center",sortable:""}}),a("el-table-column",{attrs:{prop:"sales",label:"销量",width:"170",align:"center",sortable:""}}),a("el-table-column",{attrs:{prop:"sort",label:"序号",width:"170",align:"center",sortable:""}}),a("el-table-column",{attrs:{label:"产品状态",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:e.row.isShelves?"success":"danger"}},[t._v(t._s(t.isShelvesType[e.row.isShelves]))])]}}])}),a("el-table-column",{attrs:{label:"上传时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.createTime))])]}}])}),a("el-table-column",{attrs:{label:"操作",width:"200",align:"center",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.listHandle(0,e.row)}}},[t._v("编辑")]),a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.listHandle(1,e.row)}}},[t._v(t._s(e.row.isShelves?"下架":"上架"))]),a("el-button",{staticStyle:{color:"orangered"},attrs:{type:"text"},on:{click:function(a){return t.listHandle(2,e.row)}}},[t._v("删除")])]}}])})],1)],1),a("div",{staticStyle:{height:"16px"}}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.dataList.length>0,expression:"dataList.length > 0"}],staticClass:"table-block"},[a("el-pagination",{attrs:{background:"","current-page":t.dataConfig.pageNo,"page-size":t.dataConfig.pageSize,"page-sizes":[20,30,50,100],layout:"total,sizes, prev, pager, next",total:t.dataConfig.total},on:{"size-change":t.handleSizeChange,"current-change":t.currentChangeFn,"update:currentPage":function(e){return t.$set(t.dataConfig,"pageNo",e)},"update:current-page":function(e){return t.$set(t.dataConfig,"pageNo",e)}}})],1)])},r=[],i=a("2909"),o=a("1da1"),l=(a("96cf"),a("b0c0"),a("a434"),a("99af"),a("4de4"),a("b363")),c={data:function(){return{dataList:[],handleSelectionList:[],dataConfig:{pageNo:1,pageSize:20,total:0,loading:!0},queryData:{name:"",queryTime:""},isShelvesType:["下架","上架"]}},created:function(){this.getDataListFn()},methods:{handleSelectionChange:function(t){this.handleSelectionList=t},getDataListFn:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.dataConfig.loading=!0,e.next=3,Object(l["i"])({pageNo:t.dataConfig.pageNo,pageSize:t.dataConfig.pageSize,name:t.queryData.name||void 0,queryTime:t.queryData.queryTime?t.queryData.queryTime[0]+"/"+t.queryData.queryTime[1]:void 0});case 3:n=e.sent,r=t.resDataFn(n),t.dataConfig.total=r.total,(a=t.dataList).splice.apply(a,[0,t.dataList.length].concat(Object(i["a"])(r.records)));case 7:case"end":return e.stop()}}),e)})))()},handleSizeChange:function(t){this.dataConfig.pageSize=t,this.getDataListFn()},currentChangeFn:function(t){this.dataConfig.pageNo=t,this.getDataListFn()},queryDataFn:function(){this.dataConfig.pageNo=1,this.dataConfig.pageSize=20,this.getDataListFn()},resSetQueryFn:function(){this.dataConfig.pageNo=1,this.dataConfig.pageSize=20,this.queryData={deliveryType:"",status:"",queryTime:"",orderSn:"",phone:"",userName:""},this.getDataListFn()},installedit:function(){this.$router.push({name:"InstallEdit"})},listHandle:function(t,e){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:0===t?a.$router.push({name:"InstallEdit",query:{id:e.id}}):1===t?(r="上架",e.isShelves&&(r="下架"),a.$confirm("此操作将"+r+"该商品, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(o["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(l["f"])({id:e.id});case 2:n=t.sent,"000"===n.code&&(a.$message({type:"success",message:"操作成功!"}),a.dataList=a.dataList.filter((function(t){return t.id!==e.id})));case 4:case"end":return t.stop()}}),t)})))).catch((function(){}))):2===t&&a.$confirm("此操作将永久删除该商品, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(o["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(l["a"])({id:e.id});case 2:n=t.sent,"000"===n.code&&(a.$message({type:"success",message:"删除成功!"}),a.dataList=a.dataList.filter((function(t){return t.id!==e.id})));case 4:case"end":return t.stop()}}),t)})))).catch((function(){}));case 1:case"end":return n.stop()}}),n)})))()}}},u=c,s=a("2877"),d=Object(s["a"])(u,n,r,!1,null,null,null);e["default"]=d.exports},b363:function(t,e,a){"use strict";a.d(e,"i",(function(){return r})),a.d(e,"k",(function(){return i})),a.d(e,"e",(function(){return o})),a.d(e,"c",(function(){return l})),a.d(e,"a",(function(){return c})),a.d(e,"h",(function(){return u})),a.d(e,"f",(function(){return s})),a.d(e,"g",(function(){return d})),a.d(e,"j",(function(){return p})),a.d(e,"d",(function(){return g})),a.d(e,"b",(function(){return f}));var n=a("b775");a("cb5c");function r(t){return Object(n["a"])({url:"/admin/product/queryProductInstall",method:"post",data:t})}function i(t){return Object(n["a"])({url:"/admin/product/queryProductRelated",method:"post",data:t})}function o(t){return Object(n["a"])({url:"/admin/product/getProductInstall",method:"get",params:t})}function l(t){return Object(n["a"])({url:"/admin/product/editProductInstall",method:"post",data:t})}function c(t){return Object(n["a"])({url:"/admin/product/delProductInstall",method:"get",params:t})}function u(t){return Object(n["a"])({url:"/admin/exp/queryExpRule",method:"post",data:t})}function s(t){return Object(n["a"])({url:"/admin/product/handleProductDropOff",method:"get",params:t})}function d(t){return Object(n["a"])({url:"/admin/product/installedModelList",method:"get",params:t})}function p(t){return Object(n["a"])({url:"/admin/product/queryProductInstallModel",method:"post",data:t})}function g(t){return Object(n["a"])({url:"/admin/product/editProductInstallModel",method:"post",data:t})}function f(t){return Object(n["a"])({url:"/admin/product/delProductInstallModel",method:"get",params:t})}}}]);