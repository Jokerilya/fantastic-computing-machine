(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b66f4048"],{"3ebae":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"agentOrder"},[a("div",{staticClass:"agentOrder_info"},[a("el-card",[a("div",{staticClass:"info_top"},[a("div",{staticClass:"item"},[a("div",{staticClass:"labelStyle"},[e._v("设备类型")]),a("el-cascader",{attrs:{"show-all-levels":!1,options:e.typeOptions,props:{value:"id",label:"name",children:"list"}},model:{value:e.typeValue,callback:function(t){e.typeValue=t},expression:"typeValue"}})],1),a("div",{staticClass:"item"},[a("div",{staticClass:"labelStyle"},[e._v("设备品牌")]),a("el-input",{staticClass:"inp",attrs:{placeholder:"请输入设备品牌"},model:{value:e.data.deviceBrand,callback:function(t){e.$set(e.data,"deviceBrand",t)},expression:"data.deviceBrand"}})],1)]),a("div",{staticClass:"info_top"},[a("div",{staticClass:"item"},[a("div",{staticClass:"labelStyle"},[e._v("设备系统")]),a("el-cascader",{attrs:{"show-all-levels":!1,options:e.systemOptions,props:{value:"id",label:"name",children:"list"}},model:{value:e.systemValue,callback:function(t){e.systemValue=t},expression:"systemValue"}})],1),a("div",{staticClass:"item"},[a("div",{staticClass:"labelStyle"},[e._v("设备数量")]),a("el-input",{staticClass:"inp",attrs:{placeholder:"请输入设备数量"},model:{value:e.data.num,callback:function(t){e.$set(e.data,"num",e._n(t))},expression:"data.num"}})],1)]),a("hr",{attrs:{color:"#ebebeb"}}),a("div",{staticClass:"info_under"},[a("div",{staticClass:"item"},[a("div",{staticClass:"labelStyle"},[e._v("设备产地")]),a("el-radio",{attrs:{label:"国产"},model:{value:e.data.devicePlace,callback:function(t){e.$set(e.data,"devicePlace",t)},expression:"data.devicePlace"}},[e._v("国产")]),a("el-radio",{attrs:{label:"进口"},model:{value:e.data.devicePlace,callback:function(t){e.$set(e.data,"devicePlace",t)},expression:"data.devicePlace"}},[e._v("进口")])],1),a("div",{staticClass:"item"},[a("div",{staticClass:"labelStyle"},[e._v("故障类型")]),a("el-checkbox-group",{model:{value:e.checkList,callback:function(t){e.checkList=t},expression:"checkList"}},[a("el-checkbox",{attrs:{label:"1"}},[e._v("机械故障")]),a("el-checkbox",{attrs:{label:"2"}},[e._v("电气故障")]),a("el-checkbox",{attrs:{label:"3"}},[e._v("系统故障")])],1)],1)]),a("div",{staticClass:"info_under twoHeight"},[a("div",{staticClass:"item1"},[a("div",{staticClass:"labelStyle"},[e._v("故障描述")]),a("el-input",{attrs:{type:"textarea",rows:10,placeholder:"请输入设备故障情况，异常，损坏原因等内容，方便师傅准确判断问题，准备工具，携带配件。",resize:"none",maxlength:"500","show-word-limit":""},model:{value:e.data.simpleDesc,callback:function(t){e.$set(e.data,"simpleDesc",t)},expression:"data.simpleDesc"}})],1),a("div",{staticStyle:{flex:"1"}},[a("div",{staticStyle:{color:"#707070","font-weight":"700","margin-bottom":"20px"}},[e._v(" 上传设备图片视频、故障部位图片视频(最多上传6张图片或视频) ")]),a("el-upload",{attrs:{limit:6,action:"#","list-type":"text","http-request":e.handlePictureCardPreview,"on-remove":e.onRemovePictureCardPreview}},[a("i",{staticClass:"el-icon-plus"})])],1)]),a("div",{staticClass:"info_under"},[a("div",{staticClass:"item"},[a("div",{staticClass:"labelStyle",staticStyle:{"margin-right":"20px"}},[e._v(" 服务期望日期 ")]),a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime",placeholder:"请选择预计服务日期"},model:{value:e.data.serviceTime,callback:function(t){e.$set(e.data,"serviceTime",t)},expression:"data.serviceTime"}})],1),a("div",{staticClass:"item"},[a("div",{staticClass:"labelStyle"},[e._v("紧急程度")]),a("el-radio",{attrs:{label:1},model:{value:e.data.degree,callback:function(t){e.$set(e.data,"degree",t)},expression:"data.degree"}},[e._v("一般")]),a("el-radio",{attrs:{label:2},model:{value:e.data.degree,callback:function(t){e.$set(e.data,"degree",t)},expression:"data.degree"}},[e._v("紧急")])],1)]),a("div",{staticClass:"info_under"},[a("div",{staticClass:"item"},[a("div",{staticClass:"labelStyle"},[e._v("公司名称")]),a("el-input",{staticClass:"inp",attrs:{placeholder:"请输入公司名称"},model:{value:e.data.enterpriseName,callback:function(t){e.$set(e.data,"enterpriseName",t)},expression:"data.enterpriseName"}})],1),a("div",{staticClass:"item"},[a("div",{staticClass:"labelStyle"},[e._v("联系人")]),a("el-input",{staticClass:"inp",attrs:{placeholder:"请输入联系人姓名"},model:{value:e.data.contactsPeople,callback:function(t){e.$set(e.data,"contactsPeople",t)},expression:"data.contactsPeople"}})],1)]),a("div",{staticClass:"info_under"},[a("div",{staticClass:"item"},[a("div",{staticClass:"labelStyle"},[e._v("联系地址")]),a("el-input",{staticClass:"inp",attrs:{placeholder:"请输入联系地址"},model:{value:e.data.address,callback:function(t){e.$set(e.data,"address",t)},expression:"data.address"}})],1),a("div",{staticClass:"item"},[a("div",{staticClass:"labelStyle"},[e._v("联系电话")]),a("el-input",{staticClass:"inp",attrs:{placeholder:"请输入联系人电话"},on:{blur:e.phoneCheck},model:{value:e.data.contactsPhone,callback:function(t){e.$set(e.data,"contactsPhone",e._n(t))},expression:"data.contactsPhone"}})],1)])])],1),a("div",{staticClass:"agentOrder_tool"},[a("el-button",{staticClass:"btn btn1"},[e._v("取消")]),a("el-button",{staticClass:"btn btn2",on:{click:e.confirmFn}},[e._v("提交订单")])],1)])},i=[],l=a("1da1"),c=(a("96cf"),a("c740"),a("b0c0"),a("a434"),a("159b"),a("f8b7")),n=a("8593"),r={data:function(){return{typeValue:null,typeOptions:null,systemValue:null,systemOptions:null,originallyImgList:[],deviceTypeList:[],deviceSystemList:[],checkList:[],dialogImageUrl:[],dialogVisible:!1,data:{address:"",contactsPeople:"",contactsPhone:"",degree:null,deviceBrand:"",devicePlace:"",deviceSystemId:null,deviceTypeId:null,enterpriseName:"",images:"",num:null,serviceTime:"",simpleDesc:"",type:"",uid:""}}},methods:{onRemovePictureCardPreview:function(e){var t=this.originallyImgList.findIndex((function(t){return t===e.name}));this.originallyImgList.splice(t,1),this.dialogImageUrl.splice(t,1)},phoneCheck:function(){/^1[3456789]\d{9}$/.test(this.data.contactsPhone)||(this.$message({message:"手机号码格式不对",type:"warning"}),this.data.contactsPhone="")},checkType:function(e){var t="";e.forEach((function(e,a){0!==a?t=t+","+e:t+=e})),e===this.checkList?this.data.type=t:this.data.images=t},confirmFn:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.typeValue&&e.data.deviceBrand&&e.systemValue&&e.data.num&&e.data.devicePlace&&0!==e.checkList.length&&e.data.simpleDesc&&0!==e.originallyImgList.length&&e.data.serviceTime&&e.data.degree&&e.data.enterpriseName&&e.data.contactsPeople&&e.data.address&&e.data.contactsPhone)){t.next=14;break}return a=e.$loading(),e.data.deviceTypeId=e.typeValue[1],e.data.deviceSystemId=e.systemValue[1],t.next=6,e.checkType(e.checkList);case 6:return t.next=8,e.checkType(e.dialogImageUrl);case 8:return t.next=10,Object(c["b"])(e.data);case 10:s=t.sent,"操作成功"===s.message&&(e.$message({showClose:!0,message:"操作成功",type:"success"}),e.$router.push("/maintenance/maintenance_order"),a.close()),t.next=15;break;case 14:e.$message({message:"信息全是必填,请完善!!",type:"warning"});case 15:case"end":return t.stop()}}),t)})))()},handlePictureCardPreview:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){var s,i,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.$loading({text:"文件正在上传中,请耐心等待..."}),t.originallyImgList.push(e.file.name),i=new FormData,i.append("file",e.file),a.next=6,Object(n["a"])(i);case 6:l=a.sent,t.dialogImageUrl.push(l.data),s.close();case 9:case"end":return a.stop()}}),a)})))()}},created:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.$loading(),t.next=3,Object(c["sb"])();case 3:return s=t.sent,t.next=6,Object(c["rb"])();case 6:i=t.sent,e.typeOptions=s.data,e.systemOptions=i.data,a.close();case 10:case"end":return t.stop()}}),t)})))()}},d=r,o=(a("42c7"),a("2877")),u=Object(o["a"])(d,s,i,!1,null,"5f5076a1",null);t["default"]=u.exports},"42c7":function(e,t,a){"use strict";a("7b02")},"7b02":function(e,t,a){}}]);