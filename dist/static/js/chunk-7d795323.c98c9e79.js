(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7d795323"],{"0a7a":function(e,a,t){},"2b89":function(e,a,t){"use strict";t("0a7a")},b244:function(e,a,t){"use strict";t.r(a);var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"messageList"},[t("div",{staticClass:"topControls"},[t("div",{staticClass:"topControlsSearchInfo"},[t("div",{staticClass:"topControlsSearchInfoItem"},[t("div",{staticClass:"label"},[e._v("订单号")]),t("div",[t("el-input",{attrs:{placeholder:"请输入订单号"},model:{value:e.queryRepairMessgaeParams.orderSn,callback:function(a){e.$set(e.queryRepairMessgaeParams,"orderSn",a)},expression:"queryRepairMessgaeParams.orderSn"}})],1)]),t("div",{staticClass:"topControlsSearchInfoItem"},[t("div",{staticClass:"label"},[e._v("状态")]),t("div",[t("el-select",{attrs:{placeholder:"请选择状态"},model:{value:e.queryRepairMessgaeParams.status,callback:function(a){e.$set(e.queryRepairMessgaeParams,"status",a)},expression:"queryRepairMessgaeParams.status"}},[t("el-option",{attrs:{label:"未读",value:0}}),t("el-option",{attrs:{label:"已读",value:1}})],1)],1)]),t("div",{staticClass:"topControlsSearchInfoItem"},[t("div",{staticClass:"label"},[e._v("模块")]),t("div",[t("el-select",{attrs:{placeholder:"请选择状态"},model:{value:e.queryRepairMessgaeParams.module,callback:function(a){e.$set(e.queryRepairMessgaeParams,"module",a)},expression:"queryRepairMessgaeParams.module"}},e._l(e.repairMessgaemoduleType,(function(e){return t("el-option",{key:e.value,attrs:{label:e.text,value:e.value}})})),1)],1)])]),t("div",{staticClass:"topControlsBtn"},[t("el-button",{attrs:{type:"primary",plain:""},on:{click:e.searchRepairMessgaeList}},[e._v("搜索")]),t("el-button",{attrs:{type:"primary",plain:""},on:{click:e.resetRepairMessgaeList}},[e._v("重置")])],1)]),t("el-card",{staticStyle:{padding:"20px"}},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.repairMessgaeList}},[t("el-table-column",{attrs:{prop:"createTime",label:"创建时间",align:"center"}}),t("el-table-column",{attrs:{prop:"operationTime",label:"操作时间",align:"center"}}),t("el-table-column",{attrs:{prop:"operationPeople",label:"操作人",align:"center"}}),t("el-table-column",{attrs:{label:"模块",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){var t=a.row;return[e._v(" "+e._s(t.module?e.repairMessgaemoduleType[e.repairMessgaemoduleType.findIndex((function(e){return e.value==t.module}))].text:"暂无模块")+" ")]}}])}),t("el-table-column",{attrs:{label:"订单号",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){var t=a.row;return[e._v(" "+e._s(t.orderSn?t.orderSn:"暂无订单号")+" ")]}}])}),t("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){var t=a.row;return[e._v(" "+e._s(1==t.status?"已读":"未读")+" ")]}}])}),t("el-table-column",{attrs:{prop:"message",label:"内容",align:"center"}}),t("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){var r=a.row;return[t("el-button",{attrs:{type:"text"},on:{click:function(a){return e.goToControls(r)}}},[e._v("前往操作")])]}}])})],1),t("div",{staticClass:"tabelPagination"},[t("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.repairMessgaeListTotal,"page-size":10,"current-page":e.queryRepairMessgaeParams.pageNo},on:{"current-change":e.changeRepairMessgaeListPage}})],1)],1)],1)},s=[],n=t("1da1"),l=(t("96cf"),t("f8b7")),o={data:function(){return{queryRepairMessgaeParams:{status:null,orderSn:null,module:null,pageNo:1,pageSize:10},repairMessgaeList:[],repairMessgaeListTotal:null,repairMessgaemoduleType:[{text:"订单操作",value:"order"},{text:"师傅操作",value:"master"},{text:"企业操作",value:"enterprise"},{text:"产品咨询",value:"product_consult"},{text:"年保过期",value:"butler_order"},{text:"发票操作",value:"invoice"},{text:"保养操作",value:"keepOrder"}]}},methods:{queryRepairMessgae:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var t;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(l["Mb"])(e.queryRepairMessgaeParams);case 2:t=a.sent,e.repairMessgaeListTotal=t.data.total,e.repairMessgaeList=t.data.records;case 5:case"end":return a.stop()}}),a)})))()},changeRepairMessgaeListPage:function(e){this.queryRepairMessgaeParams.pageNo=e,this.queryRepairMessgae()},searchRepairMessgaeList:function(){this.queryRepairMessgaeParams.pageNo=1,this.queryRepairMessgae()},resetRepairMessgaeList:function(){this.queryRepairMessgaeParams={status:null,orderSn:null,module:null,pageNo:1,pageSize:10},this.queryRepairMessgae()},goToControls:function(e){var a=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return"order"==e.module&&a.$router.push({name:"maintenance_order_desc",query:{orderSn:e.orderSn}}),"enterprise"==e.module&&a.$router.push({name:"enterpriseList"}),"master"==e.module&&a.$router.push({name:"worker"}),"product_consult"==e.module&&a.$router.push("/activity/message"),"butler_order"==e.module&&a.$router.push("/maintenance/customerDetail?orderSn="+e.orderSn),"invoice"==e.module&&a.$router.push("/invoiceManagement/invoiceList"),"keepOrder"==e.module&&a.$router.push("/maintenance/upkeepDetailModule"),t.next=9,Object(l["hb"])(e.id);case 9:r=t.sent,"操作成功"==r.message&&a.queryRepairMessgae();case 11:case"end":return t.stop()}}),t)})))()}},created:function(){this.queryRepairMessgae()}},i=o,u=(t("2b89"),t("2877")),c=Object(u["a"])(i,r,s,!1,null,"116f723c",null);a["default"]=c.exports}}]);