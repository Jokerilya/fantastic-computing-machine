(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-251de34f"],{1067:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"enterpriseWechatList"},[n("first-title",{attrs:{title:"企业微信群列表"}}),n("div",{staticClass:"topTool"},[n("el-form",{attrs:{inline:!0}},[n("el-form-item",{attrs:{label:"企业微信群名称:"}},[n("el-input",{staticClass:"toolInput",attrs:{placeholder:"请输入企业微信群名称,模糊查询"},model:{value:e.queryEnterpriseWechatListParams.chatName,callback:function(t){e.$set(e.queryEnterpriseWechatListParams,"chatName",t)},expression:"queryEnterpriseWechatListParams.chatName"}})],1),n("el-form-item",{attrs:{label:"业务员:"}},[n("el-select",{staticClass:"toolInput",attrs:{filterable:"","remote-method":e.remoteMethod,remote:"",placeholder:"请选择业务员"},model:{value:e.queryEnterpriseWechatListParams.salesmanId,callback:function(t){e.$set(e.queryEnterpriseWechatListParams,"salesmanId",t)},expression:"queryEnterpriseWechatListParams.salesmanId"}},e._l(e.salesmanOptions,(function(e){return n("el-option",{key:e.id,attrs:{label:e.realName,value:e.id}})})),1)],1),n("el-form-item",{attrs:{label:"内部联系人昵称:"}},[n("el-input",{staticClass:"toolInput",attrs:{placeholder:"请输入内部联系人昵称,模糊查询"},model:{value:e.queryEnterpriseWechatListParams.internalUsername,callback:function(t){e.$set(e.queryEnterpriseWechatListParams,"internalUsername",t)},expression:"queryEnterpriseWechatListParams.internalUsername"}})],1),n("el-form-item",{attrs:{label:"业务员绑定状态:"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.queryEnterpriseWechatListParams.bindSalesmanFlag,callback:function(t){e.$set(e.queryEnterpriseWechatListParams,"bindSalesmanFlag",t)},expression:"queryEnterpriseWechatListParams.bindSalesmanFlag"}},[n("el-option",{attrs:{label:"全部",value:null}}),n("el-option",{attrs:{label:"仅查询绑定业务员的群",value:!0}}),n("el-option",{attrs:{label:"仅查询未绑定业务员的群",value:!1}})],1)],1)],1),n("div",[n("el-button",{staticClass:"toolBtn",on:{click:e.searchFn}},[e._v("查询")]),n("el-button",{staticClass:"toolBtn",on:{click:e.resetFn}},[e._v("重置")]),n("el-button",{staticClass:"toolBtn",on:{click:e.batchBindSalesman}},[e._v(" 批量绑定业务员")]),n("el-button",{staticClass:"toolBtn",on:{click:e.handleRepairOrderBind}},[e._v(" 同步维修订单")])],1)],1),n("el-card",[n("div",{staticClass:"customerManagementlList"},[n("el-table",{ref:"customerManagementlListTable",staticStyle:{width:"100%"},attrs:{"cell-style":{"text-align":"center"},data:e.enterpriseWechatList,"header-cell-style":{background:"#f6f8fc",color:"#707070","text-align":"center"}},on:{"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),n("el-table-column",{attrs:{label:"群创建时间",prop:"createTime"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[e._v(" "+e._s(n.createTime?n.createTime:"/")+" ")]}}])}),n("el-table-column",{attrs:{label:"企业微信群名称",prop:"chatName"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[e._v(" "+e._s(n.chatName?n.chatName:"/")+" ")]}}])}),n("el-table-column",{attrs:{label:"外部联系人昵称",prop:"externalUsername"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[e._v(" "+e._s(n.externalUsername?n.externalUsername:"/")+" ")]}}])}),n("el-table-column",{attrs:{label:"内部联系人昵称",prop:"internalUsername"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[e._v(" "+e._s(n.internalUsername?n.internalUsername:"/")+" ")]}}])}),n("el-table-column",{attrs:{label:"业务员",prop:"salesmanId"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[e._v(" "+e._s(n.salesmanName?n.salesmanName:"/")+" ")]}}])}),n("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[n("el-button",{attrs:{type:"text"},on:{click:function(t){return e.openEnterpriseWechatBind(a)}}},[e._v("修改")])]}}])})],1)],1),n("div",{staticClass:"tableContent_footer"},[n("el-pagination",{attrs:{layout:"jumper, prev, pager, next,total","page-size":e.queryEnterpriseWechatListParams.pageSize,total:e.queryEnterpriseWechatListTotal},on:{"current-change":e.currentChangeFn}})],1)]),n("el-dialog",{attrs:{visible:e.enterpriseWechatBindVisible,"before-close":e.closeEnterpriseWechatBind,title:"群绑定业务员","close-on-click-modal":!1,width:"30%"},on:{"update:visible":function(t){e.enterpriseWechatBindVisible=t}}},[n("el-form",[n("el-form-item",{attrs:{label:"绑定群名:"}},[e._v(" "+e._s(e.handleEnterpriseWechatBindParams.chatName)+" ")]),n("el-form-item",{attrs:{label:"业务员:"}},[n("el-select",{attrs:{filterable:"","remote-method":e.remoteMethod,remote:"",placeholder:"请输入业务员"},model:{value:e.handleEnterpriseWechatBindParams.salesmanId,callback:function(t){e.$set(e.handleEnterpriseWechatBindParams,"salesmanId",t)},expression:"handleEnterpriseWechatBindParams.salesmanId"}},e._l(e.salesmanOptions,(function(e){return n("el-option",{key:e.id,attrs:{label:e.realName,value:e.id}})})),1)],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:e.closeEnterpriseWechatBind}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.handleEnterpriseWechatBind}},[e._v("确 定")])],1)],1)],1)},r=[],s=n("1da1"),i=(n("159b"),n("fb6a"),n("96cf"),n("c24f")),l={data:function(){return{enterpriseWechatList:[],queryEnterpriseWechatListParams:{pageNo:1,pageSize:10,chatName:null,salesmanId:null,internalUsername:null,bindSalesmanFlag:null},handleEnterpriseWechatBindParams:{salesmanId:"",chatIds:"",chatName:null},queryEnterpriseWechatListTotal:0,salesmanOptions:[],enterpriseWechatBindVisible:!1}},methods:{searchFn:function(){this.queryEnterpriseWechatListParams.pageNo=1,this.queryEnterpriseWechatList()},handleRepairOrderBind:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(i["j"])();case 2:n=t.sent,"000"==n.code&&(e.$message({message:"操作成功",type:"success"}),e.queryEnterpriseWechatList());case 4:case"end":return t.stop()}}),t)})))()},batchBindSalesman:function(){this.enterpriseWechatBindVisible=!0},resetFn:function(){this.queryEnterpriseWechatListParams={pageNo:1,pageSize:10,chatName:null,salesmanId:null,internalUsername:null,bindSalesmanFlag:null},this.salesmanOptions=[],this.$refs.customerManagementlListTable.clearSelection(),this.queryEnterpriseWechatList()},handleSelectionChange:function(e){if(e.length>0){var t="",n="";e.forEach((function(e){t+=e.id+",",n+=e.chatName+","})),this.handleEnterpriseWechatBindParams.chatIds=t.slice(0,-1),this.handleEnterpriseWechatBindParams.chatName=n.slice(0,-1)}else this.handleEnterpriseWechatBindParams.chatIds="",this.handleEnterpriseWechatBindParams.chatName=null},handleEnterpriseWechatBind:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(i["i"])(e.handleEnterpriseWechatBindParams);case 2:n=t.sent,"000"==n.code&&(e.$message({message:"操作成功",type:"success"}),e.closeEnterpriseWechatBind(),e.queryEnterpriseWechatList(),e.$refs.customerManagementlListTable.clearSelection());case 4:case"end":return t.stop()}}),t)})))()},openEnterpriseWechatBind:function(e){this.enterpriseWechatBindVisible=!0,this.handleEnterpriseWechatBindParams.chatIds=e.id,this.handleEnterpriseWechatBindParams.chatName=e.chatName?e.chatName:"/"},closeEnterpriseWechatBind:function(){this.enterpriseWechatBindVisible=!1,this.handleEnterpriseWechatBindParams={salesmanId:"",chatIds:""}},remoteMethod:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a={pageNo:1,pageSize:999,realName:e},n.next=3,Object(i["s"])(a);case 3:r=n.sent,"000"==r.code&&(t.salesmanOptions=r.data.records);case 5:case"end":return n.stop()}}),n)})))()},currentChangeFn:function(e){this.queryEnterpriseWechatListParams.pageNo=e,this.queryEnterpriseWechatList()},queryEnterpriseWechatList:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(i["q"])(e.queryEnterpriseWechatListParams);case 2:n=t.sent,"000"==n.code&&(e.enterpriseWechatList=n.data.records,e.queryEnterpriseWechatListTotal=n.data.total);case 4:case"end":return t.stop()}}),t)})))()}},created:function(){this.queryEnterpriseWechatList()}},c=l,o=(n("b442"),n("2877")),u=Object(o["a"])(c,a,r,!1,null,"4e85edfe",null);t["default"]=u.exports},2408:function(e,t,n){},b442:function(e,t,n){"use strict";n("2408")},c24f:function(e,t,n){"use strict";n.d(t,"g",(function(){return r})),n.d(t,"s",(function(){return s})),n.d(t,"a",(function(){return i})),n.d(t,"t",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"m",(function(){return o})),n.d(t,"f",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"c",(function(){return m})),n.d(t,"u",(function(){return h})),n.d(t,"k",(function(){return p})),n.d(t,"l",(function(){return f})),n.d(t,"o",(function(){return b})),n.d(t,"p",(function(){return W})),n.d(t,"n",(function(){return y})),n.d(t,"h",(function(){return E})),n.d(t,"b",(function(){return g})),n.d(t,"r",(function(){return v})),n.d(t,"q",(function(){return L})),n.d(t,"i",(function(){return q})),n.d(t,"j",(function(){return O}));var a=n("b775");n("cb5c");function r(e){return Object(a["a"])({url:"/admin/maintenance/handleCommission",method:"post",data:e})}function s(e){return Object(a["a"])({url:"/admin/business/querySalesmanList",method:"post",data:e})}function i(e){return Object(a["a"])({url:"/admin/maintenance/bindUserAccount",method:"post",data:e})}function l(e){return Object(a["a"])({url:"/admin/userInfo/queryUserInfo",method:"post",data:e})}function c(e){return Object(a["a"])({url:"/admin/maintenance/queryMasterList",method:"get",params:e})}function o(e){return Object(a["a"])({url:"/admin/maintenance/queryAssignableMasterList",method:"post",data:e})}function u(e){return Object(a["a"])({url:"/admin/maintenance/handleAssignMaster",method:"post",data:e})}function d(e){return Object(a["a"])({url:"/admin/maintenance/getRepairOrderDetail",method:"get",params:e})}function m(e){return Object(a["a"])({url:"/admin/maintenance/queryEnterpriseList",method:"post",data:e})}function h(e){return Object(a["a"])({url:"/admin/userInfo/queryWithdrawal",method:"post",data:e})}function p(e){return Object(a["a"])({url:"/admin/userInfo/handleWithdrawalExamine",method:"post",data:e})}function f(e){return Object(a["a"])({url:"/admin/userInfo/handleWithdrawalExport",method:"post",responseType:"blob",data:e})}function b(e){return Object(a["a"])({url:"/admin/business/queryCustomerPool",method:"post",data:e})}function W(e){return Object(a["a"])({url:"/admin/business/queryCustomerVisitList",method:"post",data:e})}function y(e){return Object(a["a"])({url:"/admin/business/queryCustomerApplyVisitList",method:"post",data:e})}function E(e){return Object(a["a"])({url:"/admin/business/handleCustomerApplyVisit",method:"post",data:e})}function g(e){return Object(a["a"])({url:"/admin/userInfo/getAccountMoney?uid="+e,method:"get"})}function v(e){return Object(a["a"])({url:"/admin/userInfo/queryMoneyList",method:"post",data:e})}function L(e){return Object(a["a"])({url:"/admin/business/queryEnterpriseWechatList",method:"post",data:e})}function q(e){return Object(a["a"])({url:"/admin/business/handleEnterpriseWechatBind",method:"post",data:e})}function O(){return Object(a["a"])({url:"/admin/business/handleRepairOrderBind",method:"post"})}}}]);