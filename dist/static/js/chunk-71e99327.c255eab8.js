(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-71e99327"],{"5b41":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"faultItemPricing"},[e.faultItemList?a("div",{staticClass:"tableContent"},[a("el-card",[a("div",{staticClass:"tableContent_table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{"cell-style":{"text-align":"center"},data:e.faultItemList,"header-cell-style":{background:"#f6f8fc",color:"#707070","text-align":"center"}}},[a("el-table-column",{attrs:{width:"150",label:"师傅名称",prop:"masterRealName"}}),a("el-table-column",{attrs:{label:"机床类型"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(1==a.machineType?"加工中心":"数控车床")+" ")]}}],null,!1,2333567622)}),a("el-table-column",{attrs:{prop:"position",label:"项目部位"}}),a("el-table-column",{attrs:{prop:"simpleDesc",label:"项目描述"}}),a("el-table-column",{attrs:{prop:"originalAmount",label:"师傅标准价"}}),a("el-table-column",{attrs:{prop:"currentAmount",label:"师傅申请价"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[1==i.status?a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.examinePricing(i)}}},[e._v("审核")]):e._e(),2==i.status?a("div",{staticStyle:{color:"green"}},[e._v("已通过")]):e._e(),3==i.status?a("div",{staticStyle:{color:"red"}},[e._v("已失败")]):e._e()]}}],null,!1,1573746447)})],1)],1),a("div",{staticClass:"tableContent_footer"},[a("div",{staticClass:"footer_pagination"},[a("el-pagination",{attrs:{"page-size":e.faultItemListParams.pageSize,layout:"jumper, prev, pager, next,total ",total:e.total,"current-page":e.faultItemListParams.pageNo},on:{"current-change":e.currentChangeFn}})],1)])])],1):e._e(),a("el-dialog",{attrs:{title:"审核定价",visible:e.examinePricingDialog,width:"30%","before-close":e.closeExaminePricingDialog,center:""}},[a("div",{staticClass:"examinePricingDialog"},[a("el-form",{attrs:{model:e.examinePricingParams,"label-width":"10vw"}},[a("el-form-item",{attrs:{label:"审核状态:"}},[a("el-radio-group",{on:{change:e.changeStatus},model:{value:e.examinePricingParams.status,callback:function(t){e.$set(e.examinePricingParams,"status",t)},expression:"examinePricingParams.status"}},[a("el-radio",{attrs:{label:2}},[e._v("通过")]),a("el-radio",{attrs:{label:3}},[e._v("驳回")])],1)],1),2==e.examinePricingParams.status?a("el-form-item",{attrs:{label:"分数类型:"}},[a("el-radio-group",{model:{value:e.examinePricingParams.type,callback:function(t){e.$set(e.examinePricingParams,"type",t)},expression:"examinePricingParams.type"}},[a("el-radio",{attrs:{label:1}},[e._v("加分")]),a("el-radio",{attrs:{label:2}},[e._v("减分")])],1)],1):e._e(),2==e.examinePricingParams.status?a("el-form-item",{attrs:{label:"分数数值:"}},[a("el-input-number",{attrs:{min:1,max:99999},model:{value:e.examinePricingParams.value,callback:function(t){e.$set(e.examinePricingParams,"value",e._n(t))},expression:"examinePricingParams.value"}})],1):e._e()],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.closeExaminePricingDialog}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.confirmExaminePricing}},[e._v("确 定")])],1)])],1)},n=[],r=a("1da1"),s=(a("96cf"),a("f8b7")),l={data:function(){return{faultItemList:[],faultItemListParams:{pageNo:1,pageSize:10},total:null,examinePricingDialog:!1,examinePricingParams:{id:null,status:null,type:null,value:null}}},methods:{warningMessage:function(e){this.$message({showClose:!0,message:e,type:"warning"})},confirmExaminePricing:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.examinePricingParams.status){t.next=3;break}return e.warningMessage("审核状态不能为空"),t.abrupt("return");case 3:if(2!=e.examinePricingParams.status){t.next=10;break}if(e.examinePricingParams.type){t.next=7;break}return e.warningMessage("分数类型不能为空"),t.abrupt("return");case 7:if(!(e.examinePricingParams.value>10||e.examinePricingParams.value<1)){t.next=10;break}return e.warningMessage("请填写1到10以内的整数"),t.abrupt("return");case 10:return t.next=12,Object(s["t"])(e.examinePricingParams);case 12:a=t.sent,"操作成功"==a.message&&(e.$message({showClose:!0,message:a.message,type:"success"}),e.queryMasterFaultPriceList(),e.closeExaminePricingDialog());case 14:case"end":return t.stop()}}),t)})))()},changeStatus:function(){this.examinePricingParams.type=null,this.examinePricingParams.value=null},closeExaminePricingDialog:function(){this.examinePricingDialog=!1,this.examinePricingParams={id:null,status:null,type:null,value:null}},currentChangeFn:function(e){this.faultItemListParams.pageNo=e,this.queryMasterFaultPriceList()},examinePricing:function(e){this.examinePricingDialog=!0,this.examinePricingParams.id=e.id},queryMasterFaultPriceList:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["lb"])(e.faultItemListParams);case 2:a=t.sent,e.faultItemList=a.data.records,e.total=a.data.total;case 5:case"end":return t.stop()}}),t)})))()}},created:function(){this.queryMasterFaultPriceList()}},c=l,o=(a("6e6e"),a("2877")),u=Object(o["a"])(c,i,n,!1,null,"8dc9584c",null);t["default"]=u.exports},"6e6e":function(e,t,a){"use strict";a("d7e8")},d7e8:function(e,t,a){}}]);