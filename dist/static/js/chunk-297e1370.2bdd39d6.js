(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-297e1370"],{5637:function(e,t,n){"use strict";n("b043")},"740f":function(e,t,n){"use strict";n.d(t,"g",(function(){return i})),n.d(t,"f",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"e",(function(){return u}));var a=n("b775");function i(e){return Object(a["a"])({url:"/admin/maintenance/queryDeviceList",method:"post",data:e})}function r(e){return Object(a["a"])({url:"/admin/maintenance/getDeviceInfoDetail",method:"post",params:e})}function o(e){return Object(a["a"])({url:"/admin/maintenance/deleteDeviceParts",method:"get",params:{id:e}})}function s(e){return Object(a["a"])({url:"/admin/maintenance/deleteDeviceInfo",method:"get",params:{id:e}})}function l(e){return Object(a["a"])({url:"/admin/maintenance/editDeviceParts",method:"post",data:e})}function c(e){return Object(a["a"])({url:"/admin/maintenance/editDeviceInfo",method:"post",data:e})}function u(e){return Object(a["a"])({url:"/admin/maintenance/getDeviceInfoCode?no=".concat(e),method:"get"})}},9347:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"equipmentManagement"},[n("div",{staticClass:"topTool"},[n("div",{staticClass:"topTool_Status"},[n("el-select",{attrs:{placeholder:"设备状态"},model:{value:e.getEquipmentListParams.status,callback:function(t){e.$set(e.getEquipmentListParams,"status",t)},expression:"getEquipmentListParams.status"}},e._l(e.equipmentStatus,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),n("div",{staticClass:"topTool_Status"},[n("el-input",{attrs:{placeholder:"年保合同单号"},model:{value:e.getEquipmentListParams.orderSn,callback:function(t){e.$set(e.getEquipmentListParams,"orderSn",t)},expression:"getEquipmentListParams.orderSn"}})],1),n("div",{staticClass:"topTool_time"},[n("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"daterange","range-separator":"———","start-placeholder":"开始时间","end-placeholder":"结束时间"},on:{change:function(t){e.getEquipmentListParams.startTime=t[0],e.getEquipmentListParams.endTime=t[1]}},model:{value:e.timeRange,callback:function(t){e.timeRange=t},expression:"timeRange"}})],1),n("div",{staticClass:"topTool_name"},[n("el-input",{attrs:{placeholder:"请输入设备编码"},model:{value:e.getEquipmentListParams.no,callback:function(t){e.$set(e.getEquipmentListParams,"no",t)},expression:"getEquipmentListParams.no"}})],1),n("div",{staticClass:"topTool_name"},[n("el-input",{attrs:{placeholder:"请输入企业名称"},model:{value:e.getEquipmentListParams.enterpriseName,callback:function(t){e.$set(e.getEquipmentListParams,"enterpriseName",t)},expression:"getEquipmentListParams.enterpriseName"}})],1),n("div",{staticClass:"topTool_btn"},[n("el-button",{staticStyle:{color:"#2e4c9e"},on:{click:e.handleDeviceInfoExport}},[e._v("导出")]),n("el-button",{staticStyle:{color:"#2e4c9e"},on:{click:e.findFn}},[e._v("查询")]),n("el-button",{staticStyle:{color:"#2e4c9e"},on:{click:e.resetFn}},[e._v("重置")])],1)]),n("div",{staticClass:"tableContent"},[n("el-card",[n("div",{staticClass:"tableContent_title"},[e._v("设备数量: "+e._s(e.total))]),n("div",{staticClass:"tableContent_table"},[n("el-table",{staticStyle:{width:"100%"},attrs:{"cell-style":{"text-align":"center"},data:e.equipmentList,"header-cell-style":{background:"#f6f8fc",color:"#707070","text-align":"center"}}},[n("el-table-column",{attrs:{width:"150",label:"客户名称"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[e._v(" "+e._s(n.enterpriseName?n.enterpriseName:"/")+" ")]}}])}),n("el-table-column",{attrs:{label:"类型",width:"70"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[e._v(" "+e._s(1===n.type?"普通":2===n.type?"年保":"年卡")+" ")]}}])}),n("el-table-column",{attrs:{prop:"no",label:"设备编号",width:"120"}}),n("el-table-column",{attrs:{prop:"orderSn",label:"合同单号",width:"120"}}),n("el-table-column",{attrs:{label:"设备状态",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[0===a.status?n("div",{staticStyle:{color:"#4093ff"}},[e._v("进行中")]):e._e(),1===a.status?n("div",{staticStyle:{color:"#04d372"}},[e._v("报修中")]):e._e()]}}])}),n("el-table-column",{attrs:{prop:"deviceTypeName",label:"设备类型",width:"120"}}),n("el-table-column",{attrs:{prop:"enterpriseDeviceNo",label:"企业设备编码",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[e._v(" "+e._s(n.enterpriseDeviceNo?n.enterpriseDeviceNo:"/")+" ")]}}])}),n("el-table-column",{attrs:{width:"120",prop:"enterpriseDevicePosition",label:"企业设备位置"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[e._v(" "+e._s(n.enterpriseDevicePosition?n.enterpriseDevicePosition:"/")+" ")]}}])}),n("el-table-column",{attrs:{prop:"deviceBrand",label:"设备品牌"}}),n("el-table-column",{attrs:{prop:"deviceSystemName",label:"设备系统"}}),n("el-table-column",{attrs:{prop:"axesNumber",label:"设备轴数"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[e._v(" "+e._s(n.axesNumber?n.axesNumber:"/")+" ")]}}])}),n("el-table-column",{attrs:{prop:"cycle",label:"保养周期"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[e._v(" "+e._s(n.cycle?n.cycle:"/")+" ")]}}])}),n("el-table-column",{attrs:{prop:"devicePlace",label:"设备产地"}}),n("el-table-column",{attrs:{label:"维保价格"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[e._v(" "+e._s(n.price)+".00 ")]}}])}),n("el-table-column",{attrs:{prop:"createTime",label:"创建时间",width:"140"}}),n("el-table-column",{attrs:{label:"维保时间",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.startTime)+" "),n("div",[e._v("—")]),e._v(" "+e._s(a.endTime)+" ")]}}])}),n("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[n("div",{staticStyle:{color:"#0b2059"}},[n("a",{staticStyle:{"margin-right":"10px"},on:{click:function(t){return t.preventDefault(),e.goEquipmentDetails(a.id)}}},[e._v("详情")]),n("a",{staticStyle:{"margin-right":"10px"},on:{click:function(t){return t.preventDefault(),e.editEquipmentPage(a.id)}}},[e._v("编辑")]),n("a",{on:{click:function(t){return t.preventDefault(),e.goToDevicecode(a.no)}}},[e._v("查看设备码")])])]}}])})],1)],1),n("div",{staticClass:"tableContent_footer"},[n("div",{staticClass:"footer_btn"}),n("div",{staticClass:"footer_pagination"},[n("el-pagination",{attrs:{"current-page":e.getEquipmentListParams.pageNo,"page-size":e.getEquipmentListParams.pageSize,layout:"jumper, prev, pager, next,total ",total:e.equipmentListTotal},on:{"current-change":e.currentChangeFn}})],1)])])],1)])},i=[],r=n("1da1"),o=(n("96cf"),n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("740f")),s=n("f8b7"),l={data:function(){return{equipmentTypeList:"",timeRange:null,getEquipmentListParams:{pageNo:1,pageSize:10,enterpriseName:"",no:"",orderSn:"",startTime:"",endTime:"",status:""},equipmentList:[],equipmentListTotal:0,equipmentStatus:[{value:"0",label:"进行中"},{value:"1",label:"报修中"}]}},methods:{handleDeviceInfoExport:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,a,i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.$loading({lock:!0,text:"数据传输中",spinner:"el-icon-loading"}),t.next=3,Object(s["L"])(e.getEquipmentListParams);case 3:a=t.sent,a&&(i=document.createElement("a"),r=new Blob([a.data],{type:"application/vnd.ms-excel"}),i.style.display="none",i.href=URL.createObjectURL(r),i.download="设备列表",document.body.appendChild(i),i.click(),document.body.removeChild(i),n.close());case 5:case"end":return t.stop()}}),t)})))()},goToDevicecode:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var a,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.$loading({lock:!0,text:"正在获取设备码",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),n.next=3,Object(o["e"])(e);case 3:i=n.sent,"000"==i.code?(a.close(),window.open(i.data)):a.close();case 5:case"end":return n.stop()}}),n)})))()},addEquipmentPage:function(){this.$router.push("/maintenance/equipmentManagement/addEquipment?titleName=新增设备信息")},editEquipmentPage:function(e){this.$router.push({name:"addEquipment",query:{titleName:"编辑设备信息",id:e}})},goEquipmentDetails:function(e){this.$router.push({name:"equipmentDetails",query:{id:e}})},resetFn:function(){this.getEquipmentListParams={pageNo:1,pageSize:10,enterpriseName:"",no:"",orderSn:"",startTime:"",endTime:"",status:""},this.timeRange=null,this.getEquipmentList(this.data)},findFn:function(){this.getEquipmentListParams.pageNo=1,this.getEquipmentList()},currentChangeFn:function(e){this.getEquipmentListParams.pageNo=e,this.getEquipmentList()},getEquipmentList:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,a,i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["g"])(e.getEquipmentListParams);case 2:n=t.sent,"000"==n.code&&(a=n.data,i=a.records,r=a.total,e.equipmentList=i,e.equipmentListTotal=r);case 4:case"end":return t.stop()}}),t)})))()},queryDeviceTypeList:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["tb"])();case 2:n=t.sent,"000"==n.code&&(e.equipmentTypeList=n.data);case 4:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.getEquipmentList(),e.queryDeviceTypeList();case 2:case"end":return t.stop()}}),t)})))()}},c=l,u=(n("5637"),n("2877")),p=Object(u["a"])(c,a,i,!1,null,"13612df1",null);t["default"]=p.exports},b043:function(e,t,n){}}]);