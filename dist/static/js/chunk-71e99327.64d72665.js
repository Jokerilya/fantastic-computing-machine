(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-71e99327"],{"5b41":function(e,a,t){"use strict";t.r(a);var i=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"faultItemPricing"},[e.faultItemList?t("div",{staticClass:"tableContent"},[t("el-card",[t("div",{staticClass:"tableContent_table"},[t("el-table",{staticStyle:{width:"100%"},attrs:{"cell-style":{"text-align":"center"},data:e.faultItemList,"header-cell-style":{background:"#f6f8fc",color:"#707070","text-align":"center"}}},[t("el-table-column",{attrs:{width:"150",label:"师傅名称",prop:"masterRealName"}}),t("el-table-column",{attrs:{label:"机床类型"},scopedSlots:e._u([{key:"default",fn:function(a){var t=a.row;return[e._v(" "+e._s(1==t.machineType?"加工中心":"数控车床")+" ")]}}],null,!1,2333567622)}),t("el-table-column",{attrs:{prop:"position",label:"项目部位"}}),t("el-table-column",{attrs:{prop:"simpleDesc",label:"项目描述"}}),t("el-table-column",{attrs:{prop:"originalAmount",label:"师傅标准价"}}),t("el-table-column",{attrs:{prop:"currentAmount",label:"师傅申请价"}}),t("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(a){var i=a.row;return[1==i.status?t("el-button",{attrs:{type:"text"},on:{click:function(a){return e.examinePricing(i)}}},[e._v("审核")]):e._e(),2==i.status?t("div",{staticStyle:{color:"green"}},[e._v("已通过")]):e._e(),3==i.status?t("div",{staticStyle:{color:"red"}},[e._v("已失败")]):e._e()]}}],null,!1,1573746447)})],1)],1),t("div",{staticClass:"tableContent_footer"},[t("div",{staticClass:"footer_pagination"},[t("el-pagination",{attrs:{"page-size":e.faultItemListParams.pageSize,layout:"jumper, prev, pager, next,total ",total:e.total,"current-page":e.faultItemListParams.pageNo},on:{"current-change":e.currentChangeFn}})],1)])])],1):e._e(),t("el-dialog",{attrs:{title:"审核定价",visible:e.examinePricingDialog,width:"30%","before-close":e.closeExaminePricingDialog,center:""}},[t("div",{staticClass:"examinePricingDialog"},[t("el-form",{attrs:{model:e.examinePricingParams,"label-width":"10vw"}},[t("el-form-item",{attrs:{label:"审核状态:"}},[t("el-radio-group",{on:{change:e.changeStatus},model:{value:e.examinePricingParams.status,callback:function(a){e.$set(e.examinePricingParams,"status",a)},expression:"examinePricingParams.status"}},[t("el-radio",{attrs:{label:2}},[e._v("通过")]),t("el-radio",{attrs:{label:3}},[e._v("驳回")])],1)],1),2==e.examinePricingParams.status?t("el-form-item",{attrs:{label:"分数类型:"}},[t("el-radio-group",{model:{value:e.examinePricingParams.type,callback:function(a){e.$set(e.examinePricingParams,"type",a)},expression:"examinePricingParams.type"}},[t("el-radio",{attrs:{label:1}},[e._v("加分")]),t("el-radio",{attrs:{label:2}},[e._v("减分")])],1)],1):e._e(),2==e.examinePricingParams.status?t("el-form-item",{attrs:{label:"分数数值:"}},[t("el-input-number",{attrs:{min:1,max:99999},model:{value:e.examinePricingParams.value,callback:function(a){e.$set(e.examinePricingParams,"value",e._n(a))},expression:"examinePricingParams.value"}})],1):e._e()],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:e.closeExaminePricingDialog}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.confirmExaminePricing}},[e._v("确 定")])],1)])],1)},n=[],r=t("1da1"),s=(t("96cf"),t("f8b7")),l={data:function(){return{faultItemList:[],faultItemListParams:{pageNo:1,pageSize:10},total:null,examinePricingDialog:!1,examinePricingParams:{id:null,status:null,type:null,value:null}}},methods:{warningMessage:function(e){this.$message({showClose:!0,message:e,type:"warning"})},confirmExaminePricing:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var t;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e.examinePricingParams.status){a.next=3;break}return e.warningMessage("审核状态不能为空"),a.abrupt("return");case 3:if(2!=e.examinePricingParams.status){a.next=10;break}if(e.examinePricingParams.type){a.next=7;break}return e.warningMessage("分数类型不能为空"),a.abrupt("return");case 7:if(!(e.examinePricingParams.value>10||e.examinePricingParams.value<1)){a.next=10;break}return e.warningMessage("请填写1到10以内的整数"),a.abrupt("return");case 10:return a.next=12,Object(s["w"])(e.examinePricingParams);case 12:t=a.sent,"操作成功"==t.message&&(e.$message({showClose:!0,message:t.message,type:"success"}),e.queryMasterFaultPriceList(),e.closeExaminePricingDialog());case 14:case"end":return a.stop()}}),a)})))()},changeStatus:function(){this.examinePricingParams.type=null,this.examinePricingParams.value=null},closeExaminePricingDialog:function(){this.examinePricingDialog=!1,this.examinePricingParams={id:null,status:null,type:null,value:null}},currentChangeFn:function(e){this.faultItemListParams.pageNo=e,this.queryMasterFaultPriceList()},examinePricing:function(e){this.examinePricingDialog=!0,this.examinePricingParams.id=e.id},queryMasterFaultPriceList:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var t;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(s["sb"])(e.faultItemListParams);case 2:t=a.sent,e.faultItemList=t.data.records,e.total=t.data.total;case 5:case"end":return a.stop()}}),a)})))()}},created:function(){this.queryMasterFaultPriceList()}},c=l,o=(t("6e6e"),t("2877")),u=Object(o["a"])(c,i,n,!1,null,"8dc9584c",null);a["default"]=u.exports},"6e6e":function(e,a,t){"use strict";t("d7e8")},d7e8:function(e,a,t){}}]);