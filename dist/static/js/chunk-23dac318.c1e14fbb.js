(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-23dac318"],{"3aab":function(a,t,e){"use strict";e("a9cc")},a9cc:function(a,t,e){},ea46:function(a,t,e){"use strict";e.r(t);var r=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"stashSetoutHandle"},[e("el-card",{staticStyle:{padding:"20px"}},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:a.stashSetoutHandleData}},[e("el-table-column",{attrs:{align:"center",prop:"order",label:"订单编号"}}),e("el-table-column",{attrs:{align:"center",prop:"number",label:"编码"},scopedSlots:a._u([{key:"default",fn:function(t){var e=t.row;return[a._v(" "+a._s(e.number?e.number:"/")+" ")]}}])}),e("el-table-column",{attrs:{align:"center",prop:"name",label:"配件名称"}}),e("el-table-column",{attrs:{align:"center",prop:"brand",label:"配件品牌"}}),e("el-table-column",{attrs:{align:"center",prop:"parameter",label:"配件参数"}}),e("el-table-column",{attrs:{label:"配件图片",align:"center"},scopedSlots:a._u([{key:"default",fn:function(a){var t=a.row;return[e("el-image",{staticStyle:{width:"80px",height:"80px"},attrs:{src:t.image?t.image[0]:"https://snk-1305456087.cos.ap-guangzhou.myqcloud.com/user/20240723/LX44363296.png","preview-src-list":t.image}})]}}])}),e("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:a._u([{key:"default",fn:function(t){var r=t.row;return[e("el-button",{attrs:{type:"text"},on:{click:function(t){return a.openAuditPartsDialog(r)}}},[a._v("审核")])]}}])})],1)],1),e("el-dialog",{attrs:{title:"审核配件",visible:a.auditPartsVisible,width:"30%","show-close":!1,"close-on-press-escape":!1,"close-on-click-modal":!1}},[e("el-form",{ref:"auditPartsRef",attrs:{model:a.auditPartsParams,rules:a.auditPartsRules}},[e("el-form-item",{attrs:{label:"配件名称",prop:"name"}},[e("el-input",{attrs:{placeholder:"请输入配件名称"},model:{value:a.auditPartsParams.name,callback:function(t){a.$set(a.auditPartsParams,"name",t)},expression:"auditPartsParams.name"}})],1),e("el-form-item",{attrs:{label:"配件品牌",prop:"brand"}},[e("el-input",{attrs:{placeholder:"请输入配件品牌"},model:{value:a.auditPartsParams.brand,callback:function(t){a.$set(a.auditPartsParams,"brand",t)},expression:"auditPartsParams.brand"}})],1),e("el-form-item",{attrs:{label:"配件参数",prop:"parameter"}},[e("el-input",{attrs:{placeholder:"请输入配件参数"},model:{value:a.auditPartsParams.parameter,callback:function(t){a.$set(a.auditPartsParams,"parameter",t)},expression:"auditPartsParams.parameter"}})],1),e("el-form-item",{attrs:{label:"编码",prop:"number"}},[e("el-input",{attrs:{placeholder:"请输入编码"},model:{value:a.auditPartsParams.number,callback:function(t){a.$set(a.auditPartsParams,"number",t)},expression:"auditPartsParams.number"}})],1)],1),e("div",{staticStyle:{color:"red"}},[a._v("请确保信息正确性,确定后会同步到金蝶")]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:a.closeAuditPartsDialog}},[a._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:a.confirmAuditParts}},[a._v("确 定")])],1)],1)],1)},n=[],s=e("5530"),l=e("1da1"),i=(e("96cf"),e("d3b7"),e("25f0"),e("159b"),e("ac1f"),e("1276"),e("b775"));function u(a){return Object(i["a"])({url:"/admin/v2/maintenance/handleMatter/examineOrderParts",method:"post",data:a})}function o(){return Object(i["a"])({url:"/admin/v2/maintenance/handleMatter/queryOrderPartsWaitExamineList",method:"get"})}var c={data:function(){return{stashSetoutHandleData:[],auditPartsVisible:!1,auditPartsParams:{brand:null,brandId:null,id:null,name:null,num:null,number:null,order:null,parameter:null,partId:null,price:null},auditPartsRules:{name:[{required:!0,message:"请输入配件名称",trigger:"blur"}],brand:[{required:!0,message:"请输入配件品牌",trigger:"blur"}],parameter:[{required:!0,message:"请输入配件参数",trigger:"blur"}],number:[{required:!0,message:"请输入编号",trigger:"blur"}]}}},methods:{confirmAuditParts:function(){var a=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a.$refs["auditPartsRef"].validate();case 2:return a.auditPartsParams.image&&(a.auditPartsParams.image=a.auditPartsParams.image.toString()),t.next=5,u(a.auditPartsParams);case 5:e=t.sent,"操作成功"==e.message&&(a.$message({message:"审核成功",type:"success"}),a.closeAuditPartsDialog(),a.queryOrderPartsWaitExamineList());case 7:case"end":return t.stop()}}),t)})))()},closeAuditPartsDialog:function(){this.auditPartsParams={brand:null,brandId:null,id:null,name:null,num:null,number:null,order:null,parameter:null,partId:null,price:null},this.$refs["auditPartsRef"].resetFields(),this.auditPartsVisible=!1},openAuditPartsDialog:function(a){this.auditPartsParams=Object(s["a"])({},a),this.auditPartsVisible=!0},queryOrderPartsWaitExamineList:function(){var a=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o();case 2:e=t.sent,e.data.forEach((function(a){if(a.image){var t=a.image.split(",");a.image=t}})),a.stashSetoutHandleData=e.data;case 5:case"end":return t.stop()}}),t)})))()}},created:function(){this.queryOrderPartsWaitExamineList()}},d=c,m=(e("3aab"),e("2877")),p=Object(m["a"])(d,r,n,!1,null,"7960751e",null);t["default"]=p.exports}}]);