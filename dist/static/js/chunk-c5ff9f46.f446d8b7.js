(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c5ff9f46"],{"1e35":function(t,e,n){},"27bf":function(t,e,n){"use strict";n.d(e,"d",(function(){return i})),n.d(e,"g",(function(){return o})),n.d(e,"l",(function(){return l})),n.d(e,"e",(function(){return r})),n.d(e,"h",(function(){return s})),n.d(e,"m",(function(){return c})),n.d(e,"f",(function(){return u})),n.d(e,"i",(function(){return d})),n.d(e,"k",(function(){return m})),n.d(e,"j",(function(){return f})),n.d(e,"a",(function(){return p})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return b}));var a=n("b775");n("cb5c");function i(t){return Object(a["a"])({url:"/admin/talentPool/editOfflineTraining",method:"post",data:t})}function o(t){return Object(a["a"])({url:"/admin/talentPool/getOfflineTraining?id=".concat(t),method:"get"})}function l(t){return Object(a["a"])({url:"/admin/talentPool/queryPartnerlList",method:"post",data:t})}function r(t){return Object(a["a"])({url:"/admin/talentPool/editPartnerlInfo",method:"post",data:t})}function s(t){return Object(a["a"])({url:"/admin/talentPool/getPartnerlInfo?id=".concat(t),method:"get"})}function c(t){return Object(a["a"])({url:"/admin/talentPool/queryPersonnelList",method:"post",data:t})}function u(t){return Object(a["a"])({url:"/admin/talentPool/editPersonnelInfo",method:"post",data:t})}function d(t){return Object(a["a"])({url:"/admin/talentPool/getPersonnelInfo?id=".concat(t),method:"get"})}function m(t){return Object(a["a"])({url:"/admin/talentPool/queryOfflineTrainingList",method:"post",data:t})}function f(t){return Object(a["a"])({url:"/admin/talentPool/queryOfflineApply",method:"post",data:t})}function p(t){return Object(a["a"])({url:"/admin/talentPool/deleteOfflineApply?id=".concat(t),method:"get"})}function h(t){return Object(a["a"])({url:"/admin/talentPool/deletePartnerlInfo?id=".concat(t),method:"get"})}function b(t){return Object(a["a"])({url:"/admin/talentPool/deletePersonnelInfo?id=".concat(t),method:"get"})}},8256:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tinymce-container",class:{fullscreen:t.fullscreen},style:{width:t.containerWidth}},[n("textarea",{staticClass:"tinymce-textarea",attrs:{id:t.tinymceId}}),t._v(" "),n("div",{staticClass:"editor-custom-btn-container"},[n("editorImage",{staticClass:"editor-upload-btn",attrs:{color:"#1890ff"},on:{successCBK:t.imageSuccessCBK}})],1)])},i=[],o=(n("b680"),n("a9e3"),n("159b"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"upload-container"},[n("el-button",{style:{background:t.color,borderColor:t.color},attrs:{icon:"el-icon-upload",size:"mini",type:"primary"},on:{click:function(e){t.dialogVisible=!0}}},[t._v(" 上传图片 ")]),n("el-dialog",{attrs:{visible:t.dialogVisible,"append-to-body":!0},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("el-upload",{ref:"uploadImg",staticClass:"editor-slide-upload",attrs:{multiple:!0,"file-list":t.fileList,"show-file-list":!0,"before-upload":t.beforeUpload,action:t.qiniuHost,"list-type":"picture-card","http-request":t.httpRequestFn},scopedSlots:t._u([{key:"file",fn:function(e){var a=e.file;return n("div",{staticClass:"show_img_box"},[n("img",{staticClass:"el-upload-list__item-thumbnail",attrs:{src:a.url,alt:""}}),n("div",{staticClass:"progress"},[parseInt(t.fileProgress[a.uid])>=100?n("span",{staticClass:"delete_icon",on:{click:function(e){return t.handleRemove(a)}}},[n("i",{staticClass:"el-icon-delete"})]):t._e(),parseInt(t.fileProgress[a.uid])<100?n("el-progress",{staticStyle:{color:"#FFFFFF"},attrs:{type:"circle",percentage:parseInt(t.fileProgress[a.uid])}}):t._e()],1)])}}])},[n("i",{staticClass:"el-icon-plus",attrs:{slot:"default"},slot:"default"})]),n("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v(" 取消 ")]),n("el-button",{attrs:{type:"primary"},on:{click:t.handleSubmit}},[t._v(" 确认 ")])],1)],1)}),l=[],r=n("5530"),s=(n("b64b"),n("d81d"),n("c740"),n("a434"),n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("cb5c")),c=n("2f62"),u=n("8593"),d={name:"EditorSlideUpload",props:{color:{type:String,default:"#1890ff"}},data:function(){return{qiniuHost:s["qiniuHost"],dialogVisible:!1,listObj:{},fileList:[]}},computed:Object(r["a"])(Object(r["a"])({},Object(c["c"])(["token"])),{},{fileProgress:function(){return this.$store.state.user.fileProgress}}),methods:{checkAllSuccess:function(){var t=this;return Object.keys(this.listObj).every((function(e){return t.listObj[e].hasSuccess}))},httpRequestFn:function(t){var e=this,n=this.$loading({text:"上传中.."}),a=new FormData;a.append("file",t.file),Object(u["a"])(a).then((function(a){console.log(a),e.$emit("uploadSuc",a),e.handleSuccess(a.data,t.file),e.checkAllSuccess()&&(n.close(),e.$message({showClose:!0,message:"图片上传成功！点击确认插入文本编辑器",type:"success"}))})).catch((function(){e.$message({showClose:!0,message:"文件上传失败！",type:"warning"}),n.close()}))},handleSubmit:function(){var t=this,e=Object.keys(this.listObj).map((function(e){return t.listObj[e]}));this.checkAllSuccess()?(console.log(e),this.$emit("successCBK",e),this.listObj={},this.fileList=[],this.dialogVisible=!1):this.$message("请等待图片上传成功。如果出现网络问题，请刷新页面并重新上传！")},handleSuccess:function(t,e){for(var n=e.uid,a=Object.keys(this.listObj),i=0,o=a.length;i<o;i++)if(this.listObj[a[i]].uid===n)return this.listObj[a[i]].url=t,void(this.listObj[a[i]].hasSuccess=!0)},handleRemove:function(t){var e=this.$refs.uploadImg.uploadFiles,n=e.findIndex((function(e){return e.uid===t.uid}));e.splice(n,1);var a=t.uid;delete this.listObj[a]},beforeUpload:function(t){var e=this,n=window.URL||window.webkitURL,a=t.uid;return this.listObj[a]={},new Promise((function(i,o){var l=new Image;l.src=n.createObjectURL(t),l.onload=function(){e.listObj[a]={hasSuccess:!1,uid:t.uid,width:this.width,height:this.height}},i(!0)}))}}},m=d,f=(n("8502"),n("2877")),p=Object(f["a"])(m,o,l,!1,null,null,null),h=p.exports,b=["advlist anchor autolink autosave code codesample colorpicker colorpicker contextmenu directionality emoticons fullscreen hr image imagetools insertdatetime link lists media nonbreaking noneditable pagebreak paste preview print save searchreplace spellchecker tabfocus table template textcolor textpattern visualblocks visualchars wordcount"],g=b,y=["searchreplace bold italic underline strikethrough alignleft aligncenter alignright outdent indent  blockquote undo redo removeformat subscript superscript code codesample","hr bullist numlist link image charmap preview anchor pagebreak insertdatetime media table emoticons forecolor backcolor fullscreen"],v=y,w=n("b85c"),k=[];function _(){return window.tinymce}var x=function(t,e){var n=document.getElementById(t),a=e||function(){};if(!n){var i=document.createElement("script");i.src=t,i.id=t,document.body.appendChild(i),k.push(a);var o="onload"in i?l:r;o(i)}function l(e){e.onload=function(){this.onerror=this.onload=null;var t,n=Object(w["a"])(k);try{for(n.s();!(t=n.n()).done;){var a=t.value;a(null,e)}}catch(i){n.e(i)}finally{n.f()}k=null},e.onerror=function(){this.onerror=this.onload=null,a(new Error(t+"加载失败"),e)}}function r(t){t.onreadystatechange=function(){if("complete"===this.readyState||"loaded"===this.readyState){this.onreadystatechange=null;var e,n=Object(w["a"])(k);try{for(n.s();!(e=n.n()).done;){var a=e.value;a(null,t)}}catch(i){n.e(i)}finally{n.f()}k=null}}}n&&a&&(_()?a(null,n):k.push(a))},S=x,j="https://snk-1305456087.cos.ap-guangzhou.myqcloud.com/js/tinymce%404.9.3.min.js",C={name:"Tinymce",components:{editorImage:h},props:{id:{type:String,default:function(){return"vue-tinymce-"+ +new Date+(1e3*Math.random()).toFixed(0)}},value:{type:String,default:""},toolbar:{type:Array,required:!1,default:function(){return[]}},menubar:{type:String,default:"file edit insert view format table"},height:{type:[Number,String],required:!1,default:360},width:{type:[Number,String],required:!1,default:"auto"}},data:function(){return{hasChange:!1,hasInit:!1,tinymceId:this.id,fullscreen:!1,languageTypeList:{en:"en",zh:"zh_CN",es:"es_MX",ja:"ja"}}},computed:{language:function(){return this.languageTypeList["zh"]},containerWidth:function(){var t=this.width;return/^[\d]+(\.[\d]+)?$/.test(t)?"".concat(t,"px"):t}},watch:{value:function(t){var e=this;!this.hasChange&&this.hasInit&&this.$nextTick((function(){return window.tinymce.get(e.tinymceId).setContent(t||"")}))},language:function(){var t=this;this.destroyTinymce(),this.$nextTick((function(){return t.initTinymce()}))}},mounted:function(){this.init()},activated:function(){window.tinymce&&this.initTinymce()},deactivated:function(){this.destroyTinymce()},destroyed:function(){this.destroyTinymce()},methods:{init:function(){var t=this;S(j,(function(e){e?t.$message.error(e.message):t.initTinymce()}))},initTinymce:function(){var t=this,e=this;window.tinymce.init({language:this.language,selector:"#".concat(this.tinymceId),height:this.height,body_class:"panel-body ",object_resizing:!1,toolbar:this.toolbar.length>0?this.toolbar:v,menubar:this.menubar,plugins:g,end_container_on_empty_block:!0,powerpaste_word_import:"clean",code_dialog_height:450,code_dialog_width:1e3,advlist_bullet_styles:"square",advlist_number_styles:"default",imagetools_cors_hosts:["www.tinymce.com","codepen.io"],default_link_target:"_blank",link_title:!1,nonbreaking_force_tab:!0,init_instance_callback:function(n){e.value&&n.setContent(e.value),e.hasInit=!0,n.on("NodeChange Change KeyUp SetContent",(function(){t.hasChange=!0,t.$emit("input",n.getContent())}))},setup:function(t){t.on("FullscreenStateChanged",(function(t){e.fullscreen=t.state}))},convert_urls:!1})},destroyTinymce:function(){var t=window.tinymce.get(this.tinymceId);this.fullscreen&&t.execCommand("mceFullScreen"),t&&t.destroy()},setContent:function(t){window.tinymce.get(this.tinymceId).setContent(t)},getContent:function(){window.tinymce.get(this.tinymceId).getContent()},imageSuccessCBK:function(t){var e=this;t.forEach((function(t){window.tinymce.get(e.tinymceId).insertContent('<img class="wscnph" src="'.concat(t.url,'" >'))}))}}},I=C,O=(n("d075"),Object(f["a"])(I,a,i,!1,null,"6957a58d",null));e["a"]=O.exports},8502:function(t,e,n){"use strict";n("1e35")},b4a1:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content_box"},[n("first-title",{attrs:{title:0===t.personId?"新增精英":"编辑精英"}}),n("div",{staticClass:"bg-white",staticStyle:{padding:"50px 20px"}},[n("el-form",{ref:"form",attrs:{rules:t.rules,"label-width":"180px",model:t.formdata}},[n("el-form-item",{attrs:{label:"名称：",prop:"name"}},[n("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"请输入名称"},model:{value:t.formdata.name,callback:function(e){t.$set(t.formdata,"name",e)},expression:"formdata.name"}})],1),n("el-form-item",{staticClass:"float_item",staticStyle:{height:"auto"},attrs:{label:"头像：",prop:"headUrl"}},[n("upload-img",{attrs:{width:"80px",height:"80px",img:t.formdata.headUrl},on:{uploadSuc:t.uploadSucFn}})],1),n("el-form-item",{attrs:{label:"电话：",prop:"phone"}},[n("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"请输入电话"},model:{value:t.formdata.phone,callback:function(e){t.$set(t.formdata,"phone",e)},expression:"formdata.phone"}})],1),n("el-form-item",{attrs:{label:"学历：",prop:"education"}},[n("el-select",{attrs:{placeholder:"请选择学历"},model:{value:t.formdata.education,callback:function(e){t.$set(t.formdata,"education",e)},expression:"formdata.education"}},t._l(t.typeList,(function(t,e){return n("el-option",{key:e,attrs:{label:t.name,value:t.name}})})),1)],1),n("el-form-item",{attrs:{label:"排序(越小越前)：",prop:"sort"}},[n("el-input",{staticStyle:{width:"250px"},attrs:{min:"0",type:"number",placeholder:"请输入排序数"},model:{value:t.formdata.sort,callback:function(e){t.$set(t.formdata,"sort",e)},expression:"formdata.sort"}})],1),n("el-form-item",{attrs:{label:"工作年限：",prop:"workTime"}},[n("el-input",{staticStyle:{width:"250px"},attrs:{type:"number",placeholder:"请输入工作年限"},model:{value:t.formdata.workTime,callback:function(e){t.$set(t.formdata,"workTime",e)},expression:"formdata.workTime"}})],1),n("el-form-item",{attrs:{label:"级别：",prop:"level"}},[n("el-select",{attrs:{placeholder:"请选择精英级别"},model:{value:t.formdata.level,callback:function(e){t.$set(t.formdata,"level",e)},expression:"formdata.level"}},[n("el-option",{attrs:{label:"高级技工",value:3}}),n("el-option",{attrs:{label:"初级技工",value:1}})],1)],1),n("el-form-item",{attrs:{label:"认证标识：",prop:"level"}},[n("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:t.formdata.vipFlag,callback:function(e){t.$set(t.formdata,"vipFlag",e)},expression:"formdata.vipFlag"}})],1),n("el-form-item",{staticStyle:{clear:"both"},attrs:{label:"擅长："}},[n("el-table",{staticClass:"list_table",staticStyle:{width:"560px"},attrs:{data:t.formdata.lables,border:""}},[n("el-table-column",{attrs:{label:"擅长领域(例如:CNC数控大师)",width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{staticClass:"spec_name",attrs:{placeholder:"填写擅长信息"},model:{value:e.row.name,callback:function(n){t.$set(e.row,"name",n)},expression:"scope.row.name"}})]}}])}),n("el-table-column",{attrs:{label:"操作",align:"center","header-align":"center","min-width":"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(n){return t.delListFn(e.$index)}}},[t._v("删除")])]}}])})],1),n("el-button",{staticStyle:{"margin-top":"15px"},attrs:{size:"small",icon:"el-icon-plus",type:"primary"},on:{click:t.addListItemFn}},[t._v("添加精英擅长信息")])],1),n("el-form-item",{staticStyle:{clear:"both"},attrs:{label:"工作经历："}},[n("el-table",{staticClass:"list_table",staticStyle:{width:"100%"},attrs:{data:t.formdata.experience,border:""}},[n("el-table-column",{attrs:{label:"公司名称",width:"250",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{staticClass:"spec_name",attrs:{placeholder:"填写公司名称"},model:{value:e.row.companyName,callback:function(n){t.$set(e.row,"companyName",n)},expression:"scope.row.companyName"}})]}}])}),n("el-table-column",{attrs:{label:"工作职位",width:"250",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{staticClass:"spec_name",attrs:{placeholder:"填写工作职位"},model:{value:e.row.jobTitle,callback:function(n){t.$set(e.row,"jobTitle",n)},expression:"scope.row.jobTitle"}})]}}])}),n("el-table-column",{attrs:{label:"入职时间",width:"300",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-date-picker",{attrs:{format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd",type:"date",placeholder:"入职时间"},model:{value:e.row.entryTime,callback:function(n){t.$set(e.row,"entryTime",n)},expression:"scope.row.entryTime"}})]}}])}),n("el-table-column",{attrs:{label:"工作描述","min-width":"250",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{staticClass:"spec_name",attrs:{type:"textarea",rows:3,placeholder:"填写工作描述"},model:{value:e.row.workDescription,callback:function(n){t.$set(e.row,"workDescription",n)},expression:"scope.row.workDescription"}})]}}])}),n("el-table-column",{attrs:{label:"操作",align:"center","header-align":"center",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(n){return t.delworklistFn(e.$index)}}},[t._v("删除")])]}}])})],1),n("el-button",{staticStyle:{"margin-top":"15px"},attrs:{size:"small",icon:"el-icon-plus",type:"primary"},on:{click:t.addworkItemFn}},[t._v("添加精英工作经历")])],1),n("el-form-item",{staticStyle:{clear:"both"},attrs:{label:"个人简介：",prop:"summary"}},[n("el-input",{staticStyle:{width:"400px"},attrs:{type:"textarea",rows:8,placeholder:"请输入精英个人简介"},model:{value:t.formdata.summary,callback:function(e){t.$set(t.formdata,"summary",e)},expression:"formdata.summary"}})],1),n("el-form-item",{attrs:{label:""}},[n("el-button",{staticClass:"mr10",attrs:{type:"primary",plain:""},on:{click:function(e){return t.$router.push({name:"personList"})}}},[t._v("取消")]),n("el-button",{attrs:{type:"primary",disabled:t.submitIng},on:{click:t.submit}},[t._v(t._s(t.submitIng?"提交中...":"确认提交"))]),n("span",{directives:[{name:"show",rawName:"v-show",value:t.submitIng,expression:"submitIng"}],staticStyle:{"margin-left":"15px",color:"#f56c6c"}},[t._v("提交中,请勿重复点击!")])],1)],1)],1)],1)},i=[],o=n("5530"),l=(n("a9e3"),n("a434"),n("d81d"),n("b0c0"),n("d3b7"),n("27bf")),r=n("1d6e"),s=n("8256"),c={name:"",components:{Tinymce:s["a"],uploadImg:r["a"]},props:{},data:function(){return{personId:"",submitIng:!1,typeList:[{value:"小学",name:"小学"},{value:"初中",name:"初中"},{value:"高中",name:"高中"},{value:"大专",name:"大专"},{value:"本科",name:"本科"},{value:"研究生",name:"研究生"},{value:"硕士",name:"硕士"},{value:"博士",name:"博士"}],formdata:{age:0,education:"",experience:[],headUrl:"",lables:[],level:"",name:"",phone:"",sort:"",summary:"",workTime:"",vipFlag:0},rules:{}}},mounted:function(){var t=this.$route.query.personId;this.personId=Number(t),0!==Number(t)&&this.getPersonDetail()},created:function(){},activated:function(){},watch:{},methods:{addListItemFn:function(){this.formdata.lables.push({name:""})},delListFn:function(t){this.formdata.lables.splice(t,1)},addworkItemFn:function(){this.formdata.experience.push({companyName:"",entryTime:"",jobTitle:"",workDescription:""})},delworklistFn:function(t){this.formdata.experience.splice(t,1)},submit:function(){var t=this,e=[],n=Object(o["a"])({},this.formdata);n.id=this.personId,n.age=Number(n.age),n.level=Number(n.level),n.sort=Number(n.sort),n.workTime=Number(n.workTime),n.experience=JSON.stringify(n.experience),n.lables.map((function(t){e.push(t.name)}));var a=e.toString();n.lables=a,this.submitIng=!0,Object(l["f"])(n).then((function(e){setTimeout((function(){t.submitIng=!1}),1e3),"000"==e.code&&(t.$message({showClose:!0,message:0===t.personId?"新增成功！":"编辑成功！",type:"success"}),t.$router.go(-1))})).catch((function(){setTimeout((function(){t.submitIng=!1}),1e3)}))},getPersonDetail:function(){var t=this;0!=this.personId&&Object(l["i"])(this.personId).then((function(e){var n=t.resDataFn(e);t.formdata.age=n.age,t.formdata.education=n.education,t.formdata.experience=n.experienceList,t.formdata.headUrl=n.headUrl,t.formdata.level=n.level,t.formdata.name=n.name,t.formdata.phone=n.phone,t.formdata.sort=n.sort,t.formdata.summary=n.summary,t.formdata.workTime=n.workTime,t.formdata.vipFlag=n.vipFlag;var a=[];n.lableList.map((function(t){var e={};e.name=t,a.push(e)})),t.formdata.lables=a}))},uploadSucFn:function(t){this.formdata.headUrl=t}}},u=c,d=n("2877"),m=Object(d["a"])(u,a,i,!1,null,null,null);e["default"]=m.exports},d075:function(t,e,n){"use strict";n("f9eb")},f9eb:function(t,e,n){}}]);