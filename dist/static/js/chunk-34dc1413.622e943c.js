(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-34dc1413"],{"0626":function(e,t,a){"use strict";a("d28b5")},"396c":function(e,t,a){"use strict";a("d169")},"7d9e":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"manage-top"},[a("el-form",{ref:"ruleForm",staticClass:"rule-form",attrs:{model:e.queryData,"label-width":"120px","label-position":"right"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"用户类型"}},[a("el-select",{attrs:{placeholder:"请选择用户类型"},model:{value:e.queryData.type,callback:function(t){e.$set(e.queryData,"type",t)},expression:"queryData.type"}},[a("el-option",{attrs:{label:"普通用户",value:"1"}}),a("el-option",{attrs:{label:"企业用户",value:"2"}})],1)],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"是否绑定手机号"}},[a("el-select",{attrs:{placeholder:"请选择是否绑定手机号"},model:{value:e.queryData.phoneFlag,callback:function(t){e.$set(e.queryData,"phoneFlag",t)},expression:"queryData.phoneFlag"}},[a("el-option",{attrs:{label:"未绑定",value:"0"}}),a("el-option",{attrs:{label:"已绑定",value:"1"}})],1)],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"用户手机号"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.queryData.phone,callback:function(t){e.$set(e.queryData,"phone",t)},expression:"queryData.phone"}})],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"用户昵称"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.queryData.userName,callback:function(t){e.$set(e.queryData,"userName",t)},expression:"queryData.userName"}})],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"用户状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.queryData.status,callback:function(t){e.$set(e.queryData,"status",t)},expression:"queryData.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"注册渠道"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.queryData.registerChannel,callback:function(t){e.$set(e.queryData,"registerChannel",t)},expression:"queryData.registerChannel"}},e._l(e.registerOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.getDataListFn}},[e._v("查询")]),a("el-button",{attrs:{type:"danger"},on:{click:e.resSetQueryFn}},[e._v("重置")])],1)],1)],1)],1)],1),a("div",{staticStyle:{height:"16px"}}),a("div",{staticClass:"manage-table"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.dataConfig.loading,expression:"dataConfig.loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.dataList,"max-height":"550"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{prop:"nickName",label:"用户昵称",width:"250",align:"center"}}),a("el-table-column",{attrs:{prop:"phone",label:"手机号",width:"200",align:"center"}}),a("el-table-column",{attrs:{label:"用户头像",width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("el-image",{staticStyle:{width:"80px",height:"80px"},attrs:{src:e.row.portrait,"preview-src-list":[e.row.portrait]}})]}}])}),a("el-table-column",{attrs:{label:"注册渠道",width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(1===t.row.registerChannel?"百度基木鱼":2===t.row.registerChannel?"海报资料包":3===t.row.registerChannel?"各类手机模拟应用":4===t.row.registerChannel?"早报节日等图片":5===t.row.registerChannel?"2021年机床展注册":"小程序/PC注册"))])]}}])}),a("el-table-column",{attrs:{prop:"createTime",label:"注册时间",width:"200",align:"center"}}),a("el-table-column",{attrs:{label:"企业认证名称",width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.enterpriseName||"-"))])]}}])}),a("el-table-column",{attrs:{label:"企业认证邮箱",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.email||"-"))])]}}])}),a("el-table-column",{attrs:{label:"纳税人识别号",width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.taxpayerNo||"-"))])]}}])}),a("el-table-column",{attrs:{label:"企业认证地址",width:"250",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.enterpriseAddress||"-"))])]}}])}),a("el-table-column",{attrs:{label:"企业营业执照",width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("el-image",{staticStyle:{width:"80px",height:"80px"},attrs:{src:e.row.businessLicense,"preview-src-list":[e.row.businessLicense]}})]}}])}),a("el-table-column",{attrs:{label:"订单数量",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.orderNum))])]}}])}),a("el-table-column",{attrs:{label:"订单总金额",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.payAmount))])]}}])}),a("el-table-column",{attrs:{label:"是否VIP",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(a){return e.accountvip(t.row)}},model:{value:t.row.vipFlag,callback:function(a){e.$set(t.row,"vipFlag",a)},expression:"scope.row.vipFlag"}})]}}])}),a("el-table-column",{attrs:{label:"账号禁用",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(a){return e.accountDisable(t.row)}},model:{value:t.row.status,callback:function(a){e.$set(t.row,"status",a)},expression:"scope.row.status"}})]}}])}),a("el-table-column",{attrs:{label:"操作",width:"240",align:"center",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.editinfowallet(t.row)}}},[e._v("修改用户余额")]),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.$router.push({path:"/user/userwalletlist",query:{uid:t.row.uid}})}}},[e._v("钱包流水")])]}}])})],1)],1),a("editinfodrawer",{attrs:{opendrawer:e.opendrawer,userdetail:e.userdetail},on:{close:function(t){e.opendrawer=!1}}}),a("div",{staticStyle:{height:"16px"}}),a("div",{directives:[{name:"show",rawName:"v-show",value:e.dataList.length>0,expression:"dataList.length > 0"}],staticClass:"table-block"},[a("el-pagination",{attrs:{background:"","current-page":e.dataConfig.pageNo,"page-size":e.dataConfig.pageSize,"page-sizes":[20,30,50,100],layout:"total,sizes, prev, pager, next",total:e.dataConfig.total},on:{"size-change":e.handleSizeChange,"current-change":e.currentChangeFn,"update:currentPage":function(t){return e.$set(e.dataConfig,"pageNo",t)},"update:current-page":function(t){return e.$set(e.dataConfig,"pageNo",t)}}})],1)],1)},r=[],i=a("2909"),o=a("1da1"),s=(a("96cf"),a("a9e3"),a("a434"),a("99af"),a("159b"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-drawer",{ref:"drawer",attrs:{size:"460px",title:"修改用户余额",visible:e.open,direction:"rtl"},on:{"update:visible":function(t){e.open=t},close:function(t){return e.$emit("close")}}},[a("div",{staticClass:"content_box flex just-center"},[a("el-form",{ref:"form",attrs:{rules:e.rules,"label-width":"100px",model:e.formdata}},[a("el-form-item",{attrs:{label:"收支类型：",prop:"title"}},[a("el-select",{attrs:{placeholder:"请选择收支类型："},model:{value:e.formdata.type,callback:function(t){e.$set(e.formdata,"type",t)},expression:"formdata.type"}},e._l(e.typeList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.type}})})),1)],1),a("el-form-item",{attrs:{label:"操作金额：",prop:"title"}},[a("el-input",{staticStyle:{width:"250px"},attrs:{type:"number",placeholder:"请输入操作金额"},model:{value:e.formdata.amount,callback:function(t){e.$set(e.formdata,"amount",t)},expression:"formdata.amount"}})],1),a("el-form-item",{attrs:{label:"备注：",prop:"title"}},[a("el-input",{staticStyle:{width:"250px"},attrs:{type:"textarea",rows:8,placeholder:"请输入备注"},model:{value:e.formdata.remark,callback:function(t){e.$set(e.formdata,"remark",t)},expression:"formdata.remark"}})],1),a("el-form-item",{attrs:{label:""}},[a("el-button",{staticClass:"mr10",attrs:{type:"primary",plain:""},on:{click:function(t){return e.$emit("close")}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.submit}},[e._v(e._s(e.loading?"提交中 ...":"确 定"))])],1)],1)],1)])],1)}),l=[],u=a("5530"),c=a("c24f"),d={name:"",components:{},props:{userdetail:{type:Object,default:{}},opendrawer:{type:Boolean,default:!1}},data:function(){return{loading:!1,open:!1,typeList:[{type:0,name:"支出"},{type:1,name:"收入"}],formdata:{amount:"",remark:"",type:"",uid:""},rules:{}}},watch:{opendrawer:function(e){this.open=e}},methods:{submit:function(){var e=this,t=Object(u["a"])({},this.formdata);t.amount=Number(t.amount),t.type=Number(t.type),t.uid=this.userdetail.uid,this.loading=!0,Object(c["h"])(t).then((function(t){setTimeout((function(){e.loading=!1}),1e3),"000"==t.code&&(e.$message({showClose:!0,message:"操作成功！",type:"success"}),e.$emit("close"))})).catch((function(){setTimeout((function(){e.loading=!1}),1e3)}))}}},p=d,m=(a("396c"),a("2877")),f=Object(m["a"])(p,s,l,!1,null,"0172bcbd",null),h=f.exports,g={components:{editinfodrawer:h},data:function(){return{userdetail:{},opendrawer:!1,dataList:[],handleSelectionList:[],dataConfig:{pageNo:1,pageSize:20,total:0,loading:!0},queryData:{type:"",status:"",phone:"",userName:"",phoneFlag:"",registerChannel:""},statusOptions:[{id:0,name:"禁用"},{id:1,name:"正常"}],registerOptions:[{id:0,name:"小程序/PC注册"},{id:1,name:"百度基木鱼"},{id:2,name:"海报资料包"},{id:3,name:"各类手机模拟应用"},{id:4,name:"早报节日等图片"},{id:5,name:"2021年机床展注册"}]}},created:function(){this.getDataListFn()},methods:{handleSelectionChange:function(e){this.handleSelectionList=e},getDataListFn:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.dataConfig.loading=!0,t.next=3,Object(c["q"])({pageNo:e.dataConfig.pageNo,pageSize:e.dataConfig.pageSize,phone:e.queryData.phone||void 0,status:e.queryData.status,type:e.queryData.type,phoneFlag:Number(e.queryData.phoneFlag)||"",registerChannel:Number(e.queryData.registerChannel)||""});case 3:n=t.sent,r=e.resDataFn(n),e.dataConfig.total=r.total,(a=e.dataList).splice.apply(a,[0,e.dataList.length].concat(Object(i["a"])(r.records)));case 7:case"end":return t.stop()}}),t)})))()},handleSizeChange:function(e){this.dataConfig.pageSize=e,this.getDataListFn()},currentChangeFn:function(e){this.dataConfig.pageNo=e,this.getDataListFn()},queryDataFn:function(){this.dataConfig.pageNo=1,this.dataConfig.pageSize=20,this.getDataListFn()},resSetQueryFn:function(){this.dataConfig.pageNo=1,this.dataConfig.pageSize=20,this.queryData={deliveryType:"",status:"",queryTime:"",orderSn:"",phone:"",userName:"",type:"",phoneFlag:"",registerChannel:""},this.getDataListFn()},editinfowallet:function(e){this.userdetail=Object.assign(this.userdetail,e),this.opendrawer=!0},accountDisable:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n,r,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.$loading(),r=e.status,a.next=4,Object(c["b"])({id:e.uid,status:e.status});case 4:i=a.sent,n.close(),"000"===i.code?t.$message({message:"操作成功!",type:"success"}):t.$nextTick((function(){e.status=r}));case 7:case"end":return a.stop()}}),a)})))()},accountvip:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n,r,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.$loading(),r=e.vipFlag,a.next=4,Object(c["c"])({uid:e.uid,status:e.vipFlag});case 4:i=a.sent,n.close(),"000"===i.code?t.$message({message:"操作成功!",type:"success"}):t.$nextTick((function(){e.vipFlag=r}));case 7:case"end":return a.stop()}}),a)})))()},detailFn:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.step=0,t.orderInfo=[],t.expDetail=[],t.priceSum=0,t.costInfo=[],a.next=7,getOrderDetailFn({id:e});case 7:n=a.sent,"000"===n.code&&(t.dialogVisible=!0,t.details=n.data,t.details.payTime&&(t.step=1),t.details.shipTime&&(t.step=2),t.details.confirmTime&&(t.step=3),t.orderInfo.push({orderSn:t.details.orderSn,phone:t.details.phone,orderType:t.details.orderType,status:t.details.status,expNo:t.details.expNo}),t.expDetail.push({receiver:t.details.expDetail.receiver,phone:t.details.expDetail.phone,addressDetail:t.details.expDetail.addressDetail}),0,0,t.details.list.forEach((function(e){t.priceSum+=e.price})),t.costInfo.push({priceSum:t.priceSum,expMoney:0,coupon:0,totalAmount:t.details.totalAmount}));case 9:case"end":return a.stop()}}),a)})))()}}},b=g,y=(a("0626"),Object(m["a"])(b,n,r,!1,null,null,null));t["default"]=y.exports},c24f:function(e,t,a){"use strict";a.d(t,"j",(function(){return r})),a.d(t,"p",(function(){return i})),a.d(t,"a",(function(){return o})),a.d(t,"q",(function(){return s})),a.d(t,"e",(function(){return l})),a.d(t,"l",(function(){return u})),a.d(t,"i",(function(){return c})),a.d(t,"f",(function(){return d})),a.d(t,"d",(function(){return p})),a.d(t,"b",(function(){return m})),a.d(t,"h",(function(){return f})),a.d(t,"g",(function(){return h})),a.d(t,"c",(function(){return g})),a.d(t,"r",(function(){return b})),a.d(t,"n",(function(){return y})),a.d(t,"o",(function(){return w})),a.d(t,"m",(function(){return v})),a.d(t,"k",(function(){return x}));var n=a("b775");a("cb5c");function r(e){return Object(n["a"])({url:"/admin/maintenance/handleCommission",method:"post",data:e})}function i(e){return Object(n["a"])({url:"/admin/business/querySalesmanList",method:"post",data:e})}function o(e){return Object(n["a"])({url:"/admin/maintenance/bindUserAccount",method:"post",data:e})}function s(e){return Object(n["a"])({url:"/admin/userInfo/queryUserInfo",method:"post",data:e})}function l(e){return Object(n["a"])({url:"/admin/maintenance/queryMasterList",method:"get",params:e})}function u(e){return Object(n["a"])({url:"/admin/maintenance/queryAssignableMasterList",method:"post",data:e})}function c(e){return Object(n["a"])({url:"/admin/maintenance/handleAssignMaster",method:"post",data:e})}function d(e){return Object(n["a"])({url:"/admin/maintenance/getRepairOrderDetail",method:"get",params:e})}function p(e){return Object(n["a"])({url:"/admin/maintenance/queryEnterpriseList",method:"post",data:e})}function m(e){return Object(n["a"])({url:"/admin/userInfo/handleUserInfoStatus",method:"get",params:e})}function f(e){return Object(n["a"])({url:"/admin/userInfo/handleAccountEdit",method:"post",data:e})}function h(e){return Object(n["a"])({url:"/admin/userInfo/queryMoney",method:"post",data:e})}function g(e){return Object(n["a"])({url:"/admin/userInfo/toVip",method:"post",data:e})}function b(e){return Object(n["a"])({url:"/admin/userInfo/queryWithdrawal",method:"post",data:e})}function y(e){return Object(n["a"])({url:"/admin/business/queryCustomerPool",method:"post",data:e})}function w(e){return Object(n["a"])({url:"/admin/business/queryCustomerVisitList",method:"post",data:e})}function v(e){return Object(n["a"])({url:"/admin/business/queryCustomerApplyVisitList",method:"post",data:e})}function x(e){return Object(n["a"])({url:"/admin/business/handleCustomerApplyVisit",method:"post",data:e})}},d169:function(e,t,a){},d28b5:function(e,t,a){}}]);